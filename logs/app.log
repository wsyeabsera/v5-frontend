[2025-11-04T08:51:29.942Z] [INFO] [Executor Agent History API] Retrieved 1 executions
[2025-11-04T08:51:29.957Z] [INFO] [Executor Agent History API] Retrieved 1 executions
[2025-11-04T08:54:32.558Z] [INFO] [Complexity Detector] Starting detection [{"query":"Generate a contamination report for Central Waste ","requestId":"demo-1762245101313-6anu9","agentId":"complexity-detector","hasApiConfig":false}]
[2025-11-04T08:54:32.576Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T08:54:32.577Z] [INFO] Resolved API config for agent 'complexity-detector' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T08:54:32.577Z] [DEBUG] [Complexity Detector] Trying strategy: semantic
[2025-11-04T08:54:32.577Z] [DEBUG] [Semantic Strategy] Starting semantic detection for query: "Generate a contamination report for Central Waste ..."
[2025-11-04T08:54:34.743Z] [DEBUG] [Semantic Strategy] No semantic match found [{"bestSimilarity":"0.000","threshold":0.75,"resultsCount":0}]
[2025-11-04T08:54:34.744Z] [WARN] [Semantic Strategy] Semantic detection failed [{"error":"No semantic match found (best similarity: 0.000, threshold: 0.75)","query":"Generate a contamination report for Central Waste "}]
[2025-11-04T08:54:34.744Z] [DEBUG] [Complexity Detector] Strategy semantic failed: ["No semantic match found (best similarity: 0.000, threshold: 0.75)"]
[2025-11-04T08:54:34.745Z] [DEBUG] [Complexity Detector] Trying strategy: keyword
[2025-11-04T08:54:34.745Z] [DEBUG] [Keyword Strategy] Starting keyword detection for query: "Generate a contamination report for Central Waste ..."
[2025-11-04T08:54:34.747Z] [INFO] [Keyword Strategy] Detection complete [{"score":"0.079","passes":1,"keywordsCount":2}]
[2025-11-04T08:54:34.748Z] [DEBUG] [Complexity Detector] Keyword strategy completed, score: 0.079
[2025-11-04T08:54:34.748Z] [DEBUG] [Complexity Detector] LLM strategy check [{"hasStrategy":true,"canUse":true,"enabled":true,"hasApiConfig":true,"semanticResult":false,"keywordResult":true}]
[2025-11-04T08:54:34.748Z] [DEBUG] [Complexity Detector] Semantic failed but keyword succeeded - treating as ambiguous, running LLM
[2025-11-04T08:54:34.748Z] [DEBUG] [Complexity Detector] Trying LLM strategy
[2025-11-04T08:54:34.749Z] [DEBUG] [LLM Strategy] Starting LLM analysis for query: "Generate a contamination report for Central Waste ..."
[2025-11-04T08:54:34.749Z] [DEBUG] [LLM Strategy] Calling AI server [{"modelId":"claude-3-haiku-20240307","provider":"api"}]
[2025-11-04T08:54:34.814Z] [ERROR] [LLM Strategy] LLM analysis failed [{"error":"AI server error: 400 - {\"error\":\"Unknown model: claude-3-haiku-20240307. Please provide a provider or use a known model ID.\"}","query":"Generate a contamination report for Central Waste "}]
[2025-11-04T08:54:34.814Z] [DEBUG] [Complexity Detector] LLM strategy failed: ["Failed to analyze complexity with LLM: AI server error: 400 - {\"error\":\"Unknown model: claude-3-haiku-20240307. Please provide a provider or use a known model ID.\"}"]
[2025-11-04T08:54:34.830Z] [INFO] [Complexity Detector] Detection complete [{"method":"keyword","score":"0.079","passes":1,"requestId":"demo-1762245101313-6anu9"}]
[2025-11-04T08:54:34.831Z] [INFO] [Complexity Detector API] Detection completed [{"requestId":"demo-1762245101313-6anu9","method":"keyword","score":"0.079"}]
[2025-11-04T08:54:39.308Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T08:54:39.308Z] [INFO] Resolved API config for agent 'thought-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T08:54:39.308Z] [INFO] [BaseAgent] Initialized agent 'thought-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T08:54:39.310Z] [INFO] [Thought Agent API] Generating thoughts [{"requestId":"demo-1762245101313-6anu9","queryLength":64}]
[2025-11-04T08:54:39.331Z] [DEBUG] [ThoughtAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T08:54:40.388Z] [DEBUG] [ThoughtAgent] Found similar examples [{"count":0,"similarities":[]}]
[2025-11-04T08:54:40.390Z] [DEBUG] [ThoughtAgent] Generating thought for query [{"requestId":"demo-1762245101313-6anu9","queryLength":64,"hasComplexityScore":false,"toolsCount":28,"similarExamplesCount":0}]
[2025-11-04T08:54:40.394Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"thought-agent","originalTokenCount":4355,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T08:54:40.394Z] [DEBUG] [BaseAgent] Calling LLM for agent 'thought-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":4355}]
[2025-11-04T08:54:46.919Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"thought-agent","responseLength":3867,"compressionApplied":false}]
[2025-11-04T08:54:46.926Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"generate-contamination-report","hasKeywordMatch":true,"commonWordsCount":3}]
[2025-11-04T08:54:46.927Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"facility-report-with-recommendations","hasKeywordMatch":true,"commonWordsCount":2}]
[2025-11-04T08:54:46.927Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"analyze-facilities-by-location","hasKeywordMatch":true,"commonWordsCount":1}]
[2025-11-04T08:54:46.927Z] [DEBUG] [ThoughtAgent] Used semantic matching to find prompts [{"promptsFound":["generate-contamination-report","facility-report-with-recommendations","analyze-facilities-by-location"],"userQuery":"Generate a contamination report for Central Waste Processing Hub","hadToolsSection":true}]
[2025-11-04T08:54:46.928Z] [INFO] [ThoughtAgent] Generated thought [{"requestId":"demo-1762245101313-6anu9","approaches":5,"confidence":"0.50","similarExamplesUsed":0}]
[2025-11-04T08:54:46.938Z] [INFO] [Thought Agent API] Thought generation completed [{"requestId":"demo-1762245101313-6anu9","thoughtsCount":1}]
[2025-11-04T08:54:50.678Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T08:54:50.678Z] [INFO] Resolved API config for agent 'planner-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T08:54:50.679Z] [INFO] [BaseAgent] Initialized agent 'planner-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T08:54:50.683Z] [INFO] [Planner Agent API] Generating plan [{"requestId":"demo-1762245101313-6anu9","thoughtsCount":1,"queryLength":64,"planVersion":1,"hasRecommendedPrompts":false}]
[2025-11-04T08:54:50.688Z] [DEBUG] [PlannerAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T08:54:53.989Z] [DEBUG] [PlannerAgent] Found similar examples [{"count":0,"similarities":[]}]
[2025-11-04T08:54:53.996Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T08:54:53.996Z] [INFO] Resolved API config for agent 'tool-memory-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T08:54:53.996Z] [INFO] [BaseAgent] Initialized agent 'tool-memory-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T08:54:54.007Z] [DEBUG] [PlannerAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T08:54:57.273Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196296729-q161sq: [{"name":"PineconeBadRequestError"}]
[2025-11-04T08:54:57.586Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196290446-d8qk0n: [{"name":"PineconeBadRequestError"}]
[2025-11-04T08:54:57.847Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196291764-ojg3h: [{"name":"PineconeBadRequestError"}]
[2025-11-04T08:54:58.109Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196289303-hwepte: [{"name":"PineconeBadRequestError"}]
[2025-11-04T08:54:58.368Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196299401-7faegn: [{"name":"PineconeBadRequestError"}]
[2025-11-04T08:54:58.369Z] [DEBUG] [ToolMemoryAgent] Found similar tool usage patterns [{"count":5,"similarities":["0.84","0.73","0.68","0.68","0.64"]}]
[2025-11-04T08:54:58.371Z] [DEBUG] [ToolMemoryAgent] Generating tool recommendations [{"requestId":"demo-1762245101313-6anu9","queryLength":64,"hasComplexityScore":false,"toolsCount":28,"memoryMatchesCount":5}]
[2025-11-04T08:54:58.373Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"tool-memory-agent","originalTokenCount":5352,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T08:54:58.373Z] [DEBUG] [BaseAgent] Calling LLM for agent 'tool-memory-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":5352}]
[2025-11-04T08:55:01.803Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"tool-memory-agent","responseLength":1756,"compressionApplied":false}]
[2025-11-04T08:55:01.806Z] [INFO] [ToolMemoryAgent] Generated tool recommendations [{"requestId":"demo-1762245101313-6anu9","toolsRecommended":2,"toolChainsCount":1,"memoryMatchesCount":5}]
[2025-11-04T08:55:01.807Z] [DEBUG] [PlannerAgent] Fetched tool recommendations [{"toolsRecommended":2}]
[2025-11-04T08:55:01.812Z] [DEBUG] [PlannerAgent] Generating plan [{"requestId":"demo-1762245101313-6anu9","thoughtsCount":1,"toolsCount":28,"similarExamplesCount":0}]
[2025-11-04T08:55:01.817Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"planner-agent","originalTokenCount":13020,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T08:55:01.817Z] [DEBUG] [BaseAgent] Calling LLM for agent 'planner-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":13020}]
[2025-11-04T08:55:07.435Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"planner-agent","responseLength":2148,"compressionApplied":false}]
[2025-11-04T08:55:07.437Z] [INFO] [PlannerAgent] Attempting to parse JSON response [{"responseLength":2148,"responsePreview":"{\n  \"goal\": \"Generate a comprehensive contamination report for the Central Waste Processing Hub facility\",\n  \"steps\": [\n    {\n      \"order\": 1,\n      \"description\": \"Get details of the Central Waste Processing Hub facility\",\n      \"action\": \"list_facilities\",\n      \"parameters\": {},\n      \"expectedOutcome\": \"Retrieve the facility ID for the Central Waste Processing Hub\",\n      \"dependencies\": []\n    },\n    {\n      \"order\": 2,\n      \"description\": \"List all inspections for the Central Waste Proce"}]
[2025-11-04T08:55:07.437Z] [DEBUG] [PlannerAgent] Extracted JSON string [{"jsonLength":1970,"jsonPreview":"{\n  \"goal\": \"Generate a comprehensive contamination report for the Central Waste Processing Hub facility\",\n  \"steps\": [\n    {\n      \"order\": 1,\n      \"description\": \"Get details of the Central Waste P"}]
[2025-11-04T08:55:07.438Z] [DEBUG] [PlannerAgent] Successfully parsed JSON plan [{"stepsCount":4}]
[2025-11-04T08:55:07.440Z] [INFO] [PlannerAgent] Generated plan [{"requestId":"demo-1762245101313-6anu9","stepsCount":4,"confidence":"0.90","complexity":"0.70"}]
[2025-11-04T08:55:07.454Z] [INFO] [Planner Agent API] Plan generation completed [{"requestId":"demo-1762245101313-6anu9","stepsCount":4,"confidence":"0.90"}]
[2025-11-04T08:55:11.298Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T08:55:11.298Z] [INFO] Resolved API config for agent 'critic-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T08:55:11.298Z] [INFO] [BaseAgent] Initialized agent 'critic-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T08:55:11.299Z] [INFO] [Critic Agent API] Generating critique [{"requestId":"demo-1762245101313-6anu9","planId":"plan-1762246507438","stepsCount":4,"hasUserFeedback":false,"hasRefinedQuery":false}]
[2025-11-04T08:55:11.305Z] [DEBUG] [CriticAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T08:55:11.306Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T08:55:11.306Z] [INFO] Resolved API config for agent 'tool-memory-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T08:55:11.306Z] [INFO] [BaseAgent] Initialized agent 'tool-memory-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T08:55:11.309Z] [DEBUG] [CriticAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T08:55:13.185Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196296729-q161sq: [{"name":"PineconeBadRequestError"}]
[2025-11-04T08:55:13.481Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196290446-d8qk0n: [{"name":"PineconeBadRequestError"}]
[2025-11-04T08:55:13.741Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196291764-ojg3h: [{"name":"PineconeBadRequestError"}]
[2025-11-04T08:55:14.002Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196289303-hwepte: [{"name":"PineconeBadRequestError"}]
[2025-11-04T08:55:14.263Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196299401-7faegn: [{"name":"PineconeBadRequestError"}]
[2025-11-04T08:55:14.264Z] [DEBUG] [ToolMemoryAgent] Found similar tool usage patterns [{"count":5,"similarities":["0.84","0.73","0.68","0.68","0.64"]}]
[2025-11-04T08:55:14.266Z] [DEBUG] [ToolMemoryAgent] Generating tool recommendations [{"requestId":"demo-1762245101313-6anu9","queryLength":64,"hasComplexityScore":false,"toolsCount":28,"memoryMatchesCount":5}]
[2025-11-04T08:55:14.268Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"tool-memory-agent","originalTokenCount":5352,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T08:55:14.268Z] [DEBUG] [BaseAgent] Calling LLM for agent 'tool-memory-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":5352}]
[2025-11-04T08:55:17.783Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"tool-memory-agent","responseLength":1849,"compressionApplied":false}]
[2025-11-04T08:55:17.785Z] [INFO] [ToolMemoryAgent] Generated tool recommendations [{"requestId":"demo-1762245101313-6anu9","toolsRecommended":2,"toolChainsCount":1,"memoryMatchesCount":5}]
[2025-11-04T08:55:17.786Z] [DEBUG] [CriticAgent] Fetched tool recommendations [{"toolsRecommended":2}]
[2025-11-04T08:55:17.786Z] [DEBUG] [CriticAgent] Validation iteration 1/5 [{"requestId":"demo-1762245101313-6anu9"}]
[2025-11-04T08:55:17.814Z] [INFO] [CriticAgent] All parameters validated [{"requestId":"demo-1762245101313-6anu9","iterations":1}]
[2025-11-04T08:55:17.816Z] [DEBUG] [CriticAgent] Critiquing plan [{"requestId":"demo-1762245101313-6anu9","planId":"plan-1762246507438","stepsCount":4,"hasUserFeedback":false,"validationIterations":1}]
[2025-11-04T08:55:17.817Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"critic-agent","originalTokenCount":5470,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T08:55:17.817Z] [DEBUG] [BaseAgent] Calling LLM for agent 'critic-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":5470}]
[2025-11-04T08:55:22.140Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"critic-agent","responseLength":1750,"compressionApplied":false}]
[2025-11-04T08:55:22.141Z] [INFO] [CriticAgent] Attempting to parse JSON response [{"responseLength":1750,"responsePreview":"{\n  \"overallScore\": 0.9,\n  \"feasibilityScore\": 0.95,\n  \"correctnessScore\": 0.9,\n  \"efficiencyScore\": 0.9,\n  \"safetyScore\": 0.95,\n  \"strengths\": [\n    \"Clear goal of generating a comprehensive contamination report for the Central Waste Processing Hub facility\",\n    \"Logical sequence of steps to retrieve necessary data\",\n    \"Appropriate use of available MCP tools\"\n  ],\n  \"issues\": [\n    {\n      \"severity\": \"low\",\n      \"category\": \"completeness\",\n      \"description\": \"The plan does not explicitly"}]
[2025-11-04T08:55:22.141Z] [DEBUG] [CriticAgent] Extracted JSON string [{"jsonLength":1574,"jsonPreview":"{\n  \"overallScore\": 0.9,\n  \"feasibilityScore\": 0.95,\n  \"correctnessScore\": 0.9,\n  \"efficiencyScore\": 0.9,\n  \"safetyScore\": 0.95,\n  \"strengths\": [\n    \"Clear goal of generating a comprehensive contamin"}]
[2025-11-04T08:55:22.141Z] [DEBUG] [CriticAgent] Score parsing [{"rawOverallScore":0.9,"clampedOverallScore":0.9,"rawFeasibility":0.95,"rawCorrectness":0.9,"rawEfficiency":0.9,"rawSafety":0.95}]
[2025-11-04T08:55:22.142Z] [DEBUG] [CriticAgent] Successfully parsed JSON critique [{"recommendation":"approve","issuesCount":1}]
[2025-11-04T08:55:22.142Z] [INFO] [CriticAgent] All parameters validated, confidence boosted to 95% [{"requestId":"demo-1762245101313-6anu9"}]
[2025-11-04T08:55:22.142Z] [INFO] [CriticAgent] Plan critiqued [{"requestId":"demo-1762245101313-6anu9","planId":"plan-1762246507438","overallScore":"0.95","recommendation":"approve","issuesCount":1,"questionsCount":1,"validationIterations":1,"missingParamsAfterValidation":0}]
[2025-11-04T08:55:22.211Z] [INFO] [Critic Agent API] Saved critique version 1 [{"requestId":"demo-1762245101313-6anu9"}]
[2025-11-04T08:55:22.222Z] [INFO] [Critic Agent API] Critique generation completed [{"requestId":"demo-1762245101313-6anu9","overallScore":"0.95","recommendation":"approve","issuesCount":1,"questionsCount":1}]
[2025-11-04T08:55:23.050Z] [INFO] [Critic Agent Versions API] Retrieved 1 versions [{"requestId":"demo-1762245101313-6anu9","versions":1}]
[2025-11-04T08:56:00.365Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T08:56:00.365Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T08:56:00.365Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T08:56:00.370Z] [INFO] [Executor Agent API] Found critique [{"requestId":"demo-1762245101313-6anu9","recommendation":"approve"}]
[2025-11-04T08:56:00.370Z] [INFO] [Executor Agent API] Executing plan [{"requestId":"demo-1762245101313-6anu9","planId":"plan-1762246507438","stepsCount":4,"hasCritique":true,"hasUserFeedback":false}]
[2025-11-04T08:56:00.371Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T08:56:00.371Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T08:56:00.371Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T08:56:00.384Z] [DEBUG] [ExecutorAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T08:56:00.387Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T08:56:00.387Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T08:56:00.387Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T08:56:00.389Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":11077,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T08:56:00.389Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":11077}]
[2025-11-04T08:56:02.952Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":6609,"compressionApplied":false}]
[2025-11-04T08:56:02.953Z] [DEBUG] [Coordinator] Coordination analysis [{"stepId":"step-1","needsCoordination":true,"recommendation":"proceed"}]
[2025-11-04T08:56:02.969Z] [DEBUG] [Coordinator] MCP validation passed [{"stepId":"step-1","providedParams":[]}]
[2025-11-04T08:56:02.977Z] [DEBUG] [StepExecutor] All parameters validated for step 1
[2025-11-04T08:56:02.986Z] [INFO] [StepExecutor] Step executed successfully [{"stepId":"step-1","stepOrder":1,"duration":2602,"retries":0}]
[2025-11-04T08:56:02.990Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T08:56:02.990Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T08:56:02.990Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T08:56:02.991Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":713,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T08:56:02.991Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":713}]
[2025-11-04T08:56:04.996Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":953,"compressionApplied":false}]
[2025-11-04T08:56:04.997Z] [DEBUG] [PlanValidator] Validation result [{"isValid":true,"progress":0.25,"shouldContinue":true,"shouldAdapt":false}]
[2025-11-04T08:56:04.998Z] [DEBUG] [ExecutionEngine] Meta-reasoning checkpoint [{"stepId":"step-1","isValid":true,"progress":0.25,"shouldContinue":true,"shouldAdapt":false}]
[2025-11-04T08:56:05.007Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T08:56:05.007Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T08:56:05.007Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T08:56:05.011Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":11353,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T08:56:05.012Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":11353}]
[2025-11-04T08:56:08.761Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":1730,"compressionApplied":false}]
[2025-11-04T08:56:08.762Z] [DEBUG] [Coordinator] Coordination analysis [{"stepId":"step-2","needsCoordination":true,"recommendation":"ask-user"}]
[2025-11-04T08:56:08.763Z] [WARN] [Coordinator] Placeholder values remain after extraction attempt [{"stepId":"step-2","remainingPlaceholders":["facility_id"],"extractionAttempts":[]}]
[2025-11-04T08:56:08.763Z] [DEBUG] [Coordinator] Programmatic fallback check [{"stepId":"step-2","remainingPlaceholders":["facility_id"],"paramName":"facility_id","previousResultsKeys":["step-1"],"isPrompt":false}]
[2025-11-04T08:56:08.763Z] [DEBUG] [Coordinator] Programmatic ID extraction attempt [{"stepId":"step-2","paramName":"facility_id","placeholderValue":"EXTRACT_FROM_STEP_1","targetStepRef":"step-1","availableSteps":["step-1"]}]
[2025-11-04T08:56:08.764Z] [INFO] [Coordinator] Programmatic ID extraction succeeded [{"stepId":"step-2","parameter":"facility_id","oldValue":"EXTRACT_FROM_STEP_1","newValue":"6905db9211cc522275d5f013","sourceStep":"step-1","wasTargeted":true}]
[2025-11-04T08:56:08.771Z] [DEBUG] [Coordinator] MCP validation passed [{"stepId":"step-2","providedParams":["facility_id"]}]
[2025-11-04T08:56:08.771Z] [INFO] [StepExecutor] Plan updated during execution [{"stepId":"step-2","stepOrder":2}]
[2025-11-04T08:56:08.780Z] [DEBUG] [StepExecutor] All parameters validated for step 2
[2025-11-04T08:56:08.795Z] [INFO] [StepExecutor] Step executed successfully [{"stepId":"step-2","stepOrder":2,"duration":3797,"retries":0}]
[2025-11-04T08:56:08.797Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T08:56:08.797Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T08:56:08.797Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T08:56:08.797Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":753,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T08:56:08.797Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":753}]
[2025-11-04T08:56:10.913Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":1016,"compressionApplied":false}]
[2025-11-04T08:56:10.914Z] [ERROR] [PlanValidator] Failed to validate plan [{"error":"Expected ',' or '}' after property value in JSON at position 765 (line 9 column 3)"}]
[2025-11-04T08:56:10.914Z] [DEBUG] [ExecutionEngine] Meta-reasoning checkpoint [{"stepId":"step-2","isValid":true,"progress":0.5,"shouldContinue":true,"shouldAdapt":false}]
[2025-11-04T08:56:10.918Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T08:56:10.918Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T08:56:10.918Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T08:56:10.920Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":11465,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T08:56:10.920Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":11465}]
[2025-11-04T08:56:14.363Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":1287,"compressionApplied":false}]
[2025-11-04T08:56:14.364Z] [DEBUG] [Coordinator] Coordination analysis [{"stepId":"step-3","needsCoordination":false,"recommendation":"proceed"}]
[2025-11-04T08:56:14.365Z] [WARN] [StepExecutor] Placeholder values detected in parameters before execution [{"stepId":"step-3","stepOrder":3,"parameters":{"facilityId":"EXTRACT_FROM_STEP_1"}}]
[2025-11-04T08:56:14.369Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T08:56:14.369Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T08:56:14.369Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T08:56:14.370Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":826,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T08:56:14.370Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":826}]
[2025-11-04T08:56:16.781Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":1316,"compressionApplied":false}]
[2025-11-04T08:56:16.782Z] [DEBUG] [PlanValidator] Validation result [{"isValid":true,"progress":0.75,"shouldContinue":false,"shouldAdapt":true}]
[2025-11-04T08:56:16.782Z] [DEBUG] [ExecutionEngine] Meta-reasoning checkpoint [{"stepId":"step-3","isValid":true,"progress":0.75,"shouldContinue":false,"shouldAdapt":true}]
[2025-11-04T08:56:16.783Z] [INFO] [ExecutionEngine] Plan adaptation needed [{"reasoning":"The plan is still valid, as we have successfully completed 3 out of the 4 steps. However, the error encountered in the third step indicates that the current approach is not working as expected. We are making good progress, with 75% of the plan completed, but the goal of generating a comprehensive contamination report for the Central Waste Processing Hub facility has not been achieved yet. The error suggests that the parameters for the third step were not properly extracted, which is preventing us from executing that step. At this point, we should adapt our approach to address the issue with the third step, rather than completely replanning the entire process."}]
[2025-11-04T08:56:16.789Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T08:56:16.790Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T08:56:16.792Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T08:56:16.794Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":7721,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T08:56:16.795Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":7721}]
[2025-11-04T08:56:23.582Z] [ERROR] [ErrorHandler] Failed to get error decision [{"error":"LLM call failed: 500 - {\"error\":\"Failed after 3 attempts. Last error: This request would exceed your organization's (02b85921-3b2f-4630-94ed-c5b150d15049) maximum usage increase rate for input tokens per minute. Your current limit is 50,000 input tokens per minute, and will increase to 120,000 at the next minute boundary. Please scale up your input tokens usage more gradually to stay within the acceleration limit. For details, refer to: https://docs.claude.com/en/api/rate-limits.\",\"type\":\"RetryError\"}"}]
[2025-11-04T08:56:23.597Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T08:56:23.597Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T08:56:23.598Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T08:56:23.599Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":7376,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T08:56:23.599Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":7376}]
[2025-11-04T08:56:30.454Z] [ERROR] [QuestionGenerator] Failed to generate question [{"error":"LLM call failed: 500 - {\"error\":\"Failed after 3 attempts. Last error: This request would exceed your organization's (02b85921-3b2f-4630-94ed-c5b150d15049) maximum usage increase rate for input tokens per minute. Your current limit is 50,000 input tokens per minute, and will increase to 120,000 at the next minute boundary. Please scale up your input tokens usage more gradually to stay within the acceleration limit. For details, refer to: https://docs.claude.com/en/api/rate-limits.\",\"type\":\"RetryError\"}"}]
[2025-11-04T08:56:30.495Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T08:56:30.495Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T08:56:30.496Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T08:56:30.498Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":11546,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T08:56:30.499Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":11546}]
[2025-11-04T08:56:37.506Z] [ERROR] [Coordinator] Failed to analyze coordination [{"stepId":"step-4","error":"LLM call failed: 500 - {\"error\":\"Failed after 3 attempts. Last error: This request would exceed your organization's (02b85921-3b2f-4630-94ed-c5b150d15049) maximum usage increase rate for input tokens per minute. Your current limit is 50,000 input tokens per minute, and will increase to 120,000 at the next minute boundary. Please scale up your input tokens usage more gradually to stay within the acceleration limit. For details, refer to: https://docs.claude.com/en/api/rate-limits.\",\"type\":\"RetryError\"}"}]
[2025-11-04T08:56:37.507Z] [WARN] [StepExecutor] Placeholder values detected in parameters before execution [{"stepId":"step-4","stepOrder":4,"parameters":{"facilityId":"EXTRACT_FROM_STEP_1","includeRecommendations":true}}]
[2025-11-04T08:56:37.511Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T08:56:37.512Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T08:56:37.512Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T08:56:37.513Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":892,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T08:56:37.513Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":892}]
[2025-11-04T08:56:39.596Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":1124,"compressionApplied":false}]
[2025-11-04T08:56:39.597Z] [DEBUG] [PlanValidator] Validation result [{"isValid":false,"progress":0.5,"shouldContinue":false,"shouldAdapt":true}]
[2025-11-04T08:56:39.597Z] [DEBUG] [ExecutionEngine] Meta-reasoning checkpoint [{"stepId":"step-4","isValid":false,"progress":0.5,"shouldContinue":false,"shouldAdapt":true}]
[2025-11-04T08:56:39.597Z] [INFO] [ExecutionEngine] Plan adaptation needed [{"reasoning":"The plan is not valid because the last two steps failed due to missing parameters. We have made some progress by successfully executing the first two steps, but we are unable to complete the full contamination report for the Central Waste Processing Hub facility. The current approach is not working, as we encountered errors that prevented us from finishing the plan. We should adapt the plan by identifying the missing parameters and replan the execution to ensure we can successfully generate the comprehensive contamination report."}]
[2025-11-04T08:56:39.603Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T08:56:39.604Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T08:56:39.604Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T08:56:39.606Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":7731,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T08:56:39.606Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":7731}]
[2025-11-04T08:56:46.264Z] [ERROR] [ErrorHandler] Failed to get error decision [{"error":"LLM call failed: 500 - {\"error\":\"Failed after 3 attempts. Last error: This request would exceed your organization's (02b85921-3b2f-4630-94ed-c5b150d15049) maximum usage increase rate for input tokens per minute. Your current limit is 50,000 input tokens per minute, and will increase to 120,000 at the next minute boundary. Please scale up your input tokens usage more gradually to stay within the acceleration limit. For details, refer to: https://docs.claude.com/en/api/rate-limits.\",\"type\":\"RetryError\"}"}]
[2025-11-04T08:56:46.276Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T08:56:46.277Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T08:56:46.277Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T08:56:46.279Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":7382,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T08:56:46.279Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":7382}]
[2025-11-04T08:56:53.168Z] [ERROR] [QuestionGenerator] Failed to generate question [{"error":"LLM call failed: 500 - {\"error\":\"Failed after 3 attempts. Last error: This request would exceed your organization's (02b85921-3b2f-4630-94ed-c5b150d15049) maximum usage increase rate for input tokens per minute. Your current limit is 50,000 input tokens per minute, and will increase to 120,000 at the next minute boundary. Please scale up your input tokens usage more gradually to stay within the acceleration limit. For details, refer to: https://docs.claude.com/en/api/rate-limits.\",\"type\":\"RetryError\"}"}]
[2025-11-04T08:56:53.179Z] [INFO] [Executor Agent API] Saved execution version 1 [{"requestId":"demo-1762245101313-6anu9"}]
[2025-11-04T08:56:53.185Z] [INFO] [Executor Agent API] Execution completed [{"requestId":"demo-1762245101313-6anu9","overallSuccess":false,"stepsExecuted":4,"stepsSucceeded":2,"questionsAsked":0,"requiresFeedback":false}]
[2025-11-04T08:56:53.559Z] [INFO] [Executor Agent Versions API] Retrieved 1 versions [{"requestId":"demo-1762245101313-6anu9","versions":1}]
[2025-11-04T08:57:08.256Z] [ERROR] [Summary Agent API] Error: ["requestStorage.getByRequestId is not a function",{}]
[2025-11-04T08:57:09.612Z] [ERROR] [Summary Agent API] Error: ["requestStorage.getByRequestId is not a function",{}]
[2025-11-04T08:57:10.138Z] [ERROR] [Summary Agent API] Error: ["requestStorage.getByRequestId is not a function",{}]
[2025-11-04T08:57:44.497Z] [ERROR] [Summary Agent API] Error: ["Agent 'summary-agent' not found or disabled",{}]
[2025-11-04T08:58:33.848Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T08:58:33.852Z] [WARN] Agent config 'summary-agent' found but no API key/URL available for provider 'anthropic' [{"agentId":"summary-agent","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T08:58:33.853Z] [ERROR] [Summary Agent API] Error: ["Failed to resolve API config for agent 'summary-agent'. Please check your API keys in Settings.",{}]
[2025-11-04T08:58:38.608Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T08:58:38.608Z] [WARN] Agent config 'summary-agent' found but no API key/URL available for provider 'anthropic' [{"agentId":"summary-agent","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T08:58:38.609Z] [ERROR] [Summary Agent API] Error: ["Failed to resolve API config for agent 'summary-agent'. Please check your API keys in Settings.",{}]
[2025-11-04T08:58:42.327Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T08:58:42.328Z] [WARN] Agent config 'summary-agent' found but no API key/URL available for provider 'anthropic' [{"agentId":"summary-agent","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T08:58:42.328Z] [ERROR] [Summary Agent API] Error: ["Failed to resolve API config for agent 'summary-agent'. Please check your API keys in Settings.",{}]
[2025-11-04T08:58:42.820Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T08:58:42.821Z] [WARN] Agent config 'summary-agent' found but no API key/URL available for provider 'anthropic' [{"agentId":"summary-agent","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T08:58:42.821Z] [ERROR] [Summary Agent API] Error: ["Failed to resolve API config for agent 'summary-agent'. Please check your API keys in Settings.",{}]
[2025-11-04T08:58:42.966Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T08:58:42.966Z] [WARN] Agent config 'summary-agent' found but no API key/URL available for provider 'anthropic' [{"agentId":"summary-agent","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T08:58:42.966Z] [ERROR] [Summary Agent API] Error: ["Failed to resolve API config for agent 'summary-agent'. Please check your API keys in Settings.",{}]
[2025-11-04T08:58:43.106Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T08:58:43.106Z] [WARN] Agent config 'summary-agent' found but no API key/URL available for provider 'anthropic' [{"agentId":"summary-agent","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T08:58:43.106Z] [ERROR] [Summary Agent API] Error: ["Failed to resolve API config for agent 'summary-agent'. Please check your API keys in Settings.",{}]
[2025-11-04T08:58:43.247Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T08:58:43.247Z] [WARN] Agent config 'summary-agent' found but no API key/URL available for provider 'anthropic' [{"agentId":"summary-agent","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T08:58:43.247Z] [ERROR] [Summary Agent API] Error: ["Failed to resolve API config for agent 'summary-agent'. Please check your API keys in Settings.",{}]
[2025-11-04T08:58:43.382Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T08:58:43.382Z] [WARN] Agent config 'summary-agent' found but no API key/URL available for provider 'anthropic' [{"agentId":"summary-agent","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T08:58:43.383Z] [ERROR] [Summary Agent API] Error: ["Failed to resolve API config for agent 'summary-agent'. Please check your API keys in Settings.",{}]
[2025-11-04T08:58:43.513Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T08:58:43.513Z] [WARN] Agent config 'summary-agent' found but no API key/URL available for provider 'anthropic' [{"agentId":"summary-agent","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T08:58:43.513Z] [ERROR] [Summary Agent API] Error: ["Failed to resolve API config for agent 'summary-agent'. Please check your API keys in Settings.",{}]
[2025-11-04T08:58:43.686Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T08:58:43.686Z] [WARN] Agent config 'summary-agent' found but no API key/URL available for provider 'anthropic' [{"agentId":"summary-agent","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T08:58:43.686Z] [ERROR] [Summary Agent API] Error: ["Failed to resolve API config for agent 'summary-agent'. Please check your API keys in Settings.",{}]
[2025-11-04T09:02:28.111Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T09:02:28.111Z] [WARN] Agent config 'summary-agent' found but no API key/URL available for provider 'anthropic' [{"agentId":"summary-agent","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T09:02:28.111Z] [ERROR] [Summary Agent API] Error: ["Failed to resolve API config for agent 'summary-agent'. Please check your API keys in Settings.",{}]
[2025-11-04T09:02:54.049Z] [DEBUG] Resolved API key for provider 'openai' [{"source":"env"}]
[2025-11-04T09:02:54.050Z] [INFO] Resolved API config for agent 'summary-agent' [{"modelId":"gpt-3.5-turbo","provider":"openai","actualModelName":"gpt-3.5-turbo","hasParams":true}]
[2025-11-04T09:02:54.050Z] [INFO] [BaseAgent] Initialized agent 'summary-agent' [{"modelId":"gpt-3.5-turbo","hasParams":true}]
[2025-11-04T09:02:54.054Z] [INFO] [Summary Agent API] Generating summary [{"requestId":"demo-1762245101313-6anu9","hasThoughts":true,"hasExecution":true}]
[2025-11-04T09:02:54.054Z] [DEBUG] [SummaryAgent] Generating summary [{"requestId":"demo-1762245101313-6anu9","thoughtsCount":1,"executionStepsCount":4,"executionSuccess":false}]
[2025-11-04T09:02:54.055Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"summary-agent","originalTokenCount":2466,"tokenLimit":4000,"compressionThreshold":4000,"forceCompression":false,"isGroq":false,"modelId":"gpt-3.5-turbo"}]
[2025-11-04T09:02:54.055Z] [DEBUG] [BaseAgent] Calling LLM for agent 'summary-agent' [{"modelId":"gpt-3.5-turbo","originalModelId":"gpt-3.5-turbo","messageCount":2,"compressionApplied":false,"finalTokenCount":2466}]
[2025-11-04T09:03:02.291Z] [ERROR] [Summary Agent API] Error: ["LLM call failed: 500 - {\"error\":\"Failed after 3 attempts. Last error: You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.\",\"type\":\"RetryError\"}",{}]
[2025-11-04T09:03:10.769Z] [DEBUG] Resolved API key for provider 'openai' [{"source":"env"}]
[2025-11-04T09:03:10.770Z] [INFO] Resolved API config for agent 'summary-agent' [{"modelId":"gpt-3.5-turbo","provider":"openai","actualModelName":"gpt-3.5-turbo","hasParams":true}]
[2025-11-04T09:03:10.770Z] [INFO] [BaseAgent] Initialized agent 'summary-agent' [{"modelId":"gpt-3.5-turbo","hasParams":true}]
[2025-11-04T09:03:10.771Z] [INFO] [Summary Agent API] Generating summary [{"requestId":"demo-1762245101313-6anu9","hasThoughts":true,"hasExecution":true}]
[2025-11-04T09:03:10.771Z] [DEBUG] [SummaryAgent] Generating summary [{"requestId":"demo-1762245101313-6anu9","thoughtsCount":1,"executionStepsCount":4,"executionSuccess":false}]
[2025-11-04T09:03:10.772Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"summary-agent","originalTokenCount":2466,"tokenLimit":4000,"compressionThreshold":4000,"forceCompression":false,"isGroq":false,"modelId":"gpt-3.5-turbo"}]
[2025-11-04T09:03:10.772Z] [DEBUG] [BaseAgent] Calling LLM for agent 'summary-agent' [{"modelId":"gpt-3.5-turbo","originalModelId":"gpt-3.5-turbo","messageCount":2,"compressionApplied":false,"finalTokenCount":2466}]
[2025-11-04T09:03:17.828Z] [ERROR] [Summary Agent API] Error: ["LLM call failed: 500 - {\"error\":\"Failed after 3 attempts. Last error: You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.\",\"type\":\"RetryError\"}",{}]
[2025-11-04T09:03:31.361Z] [DEBUG] Resolved API key for provider 'openai' [{"source":"env"}]
[2025-11-04T09:03:31.361Z] [INFO] Resolved API config for agent 'summary-agent' [{"modelId":"gpt-3.5-turbo","provider":"openai","actualModelName":"gpt-3.5-turbo","hasParams":true}]
[2025-11-04T09:03:31.361Z] [INFO] [BaseAgent] Initialized agent 'summary-agent' [{"modelId":"gpt-3.5-turbo","hasParams":true}]
[2025-11-04T09:03:31.363Z] [INFO] [Summary Agent API] Generating summary [{"requestId":"demo-1762245101313-6anu9","hasThoughts":true,"hasExecution":true}]
[2025-11-04T09:03:31.363Z] [DEBUG] [SummaryAgent] Generating summary [{"requestId":"demo-1762245101313-6anu9","thoughtsCount":1,"executionStepsCount":4,"executionSuccess":false}]
[2025-11-04T09:03:31.364Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"summary-agent","originalTokenCount":2466,"tokenLimit":4000,"compressionThreshold":4000,"forceCompression":false,"isGroq":false,"modelId":"gpt-3.5-turbo"}]
[2025-11-04T09:03:31.364Z] [DEBUG] [BaseAgent] Calling LLM for agent 'summary-agent' [{"modelId":"gpt-3.5-turbo","originalModelId":"gpt-3.5-turbo","messageCount":2,"compressionApplied":false,"finalTokenCount":2466}]
[2025-11-04T09:03:40.505Z] [ERROR] [Summary Agent API] Error: ["LLM call failed: 500 - {\"error\":\"Failed after 3 attempts. Last error: You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.\",\"type\":\"RetryError\"}",{}]
[2025-11-04T09:05:55.513Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:05:55.514Z] [INFO] Resolved API config for agent 'summary-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:05:55.514Z] [INFO] [BaseAgent] Initialized agent 'summary-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:05:55.516Z] [INFO] [Summary Agent API] Generating summary [{"requestId":"demo-1762245101313-6anu9","hasThoughts":true,"hasExecution":true}]
[2025-11-04T09:05:55.516Z] [DEBUG] [SummaryAgent] Generating summary [{"requestId":"demo-1762245101313-6anu9","thoughtsCount":1,"executionStepsCount":4,"executionSuccess":false}]
[2025-11-04T09:05:55.517Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"summary-agent","originalTokenCount":2466,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T09:05:55.517Z] [DEBUG] [BaseAgent] Calling LLM for agent 'summary-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":2466}]
[2025-11-04T09:05:58.989Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"summary-agent","responseLength":2251,"compressionApplied":false}]
[2025-11-04T09:05:58.990Z] [INFO] [SummaryAgent] Generated summary [{"requestId":"demo-1762245101313-6anu9","summaryLength":2251,"takeawaysCount":0}]
[2025-11-04T09:05:59.028Z] [INFO] [Summary Agent API] Saved summary version 1 [{"requestId":"demo-1762245101313-6anu9"}]
[2025-11-04T09:05:59.031Z] [INFO] [Summary Agent API] Summary generation completed [{"requestId":"demo-1762245101313-6anu9","summaryLength":2251,"takeawaysCount":0}]
[2025-11-04T09:06:32.524Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:06:32.526Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:06:32.526Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:06:32.531Z] [INFO] [Executor Agent API] Found critique [{"requestId":"demo-1762245101422-5teon5","recommendation":"approve"}]
[2025-11-04T09:06:32.531Z] [INFO] [Executor Agent API] Executing plan [{"requestId":"demo-1762245101422-5teon5","planId":"plan-1762245492044","stepsCount":3,"hasCritique":true,"hasUserFeedback":false}]
[2025-11-04T09:06:32.532Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:06:32.532Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:06:32.532Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:06:32.549Z] [DEBUG] [ExecutorAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T09:06:32.552Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:06:32.552Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:06:32.552Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:06:32.559Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":11069,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T09:06:32.560Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":11069}]
[2025-11-04T09:06:35.114Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":843,"compressionApplied":false}]
[2025-11-04T09:06:35.115Z] [DEBUG] [Coordinator] Coordination analysis [{"stepId":"step-1","needsCoordination":true,"recommendation":"ask-user"}]
[2025-11-04T09:06:35.123Z] [DEBUG] [Coordinator] MCP validation passed [{"stepId":"step-1","providedParams":["license_plate"]}]
[2025-11-04T09:06:35.131Z] [DEBUG] [StepExecutor] All parameters validated for step 1
[2025-11-04T09:06:35.145Z] [INFO] [StepExecutor] Step executed successfully [{"stepId":"step-1","stepOrder":1,"duration":2594,"retries":0}]
[2025-11-04T09:06:35.147Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:06:35.147Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:06:35.147Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:06:35.148Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":674,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T09:06:35.148Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":674}]
[2025-11-04T09:06:37.168Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":1242,"compressionApplied":false}]
[2025-11-04T09:06:37.169Z] [ERROR] [PlanValidator] Failed to validate plan [{"error":"Bad control character in string literal in JSON at position 445 (line 8 column 304)"}]
[2025-11-04T09:06:37.170Z] [DEBUG] [ExecutionEngine] Meta-reasoning checkpoint [{"stepId":"step-1","isValid":true,"progress":0.3333333333333333,"shouldContinue":true,"shouldAdapt":false}]
[2025-11-04T09:06:37.173Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:06:37.174Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:06:37.175Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:06:37.177Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":11166,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T09:06:37.177Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":11166}]
[2025-11-04T09:06:40.763Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":1310,"compressionApplied":false}]
[2025-11-04T09:06:40.764Z] [DEBUG] [Coordinator] Coordination analysis [{"stepId":"step-2","needsCoordination":true,"recommendation":"proceed"}]
[2025-11-04T09:06:40.765Z] [DEBUG] [Coordinator] Validated MongoDB ObjectId [{"stepId":"step-2","parameter":"shipment_id","value":"6905db9211cc522275d5f018"}]
[2025-11-04T09:06:40.765Z] [INFO] [Coordinator] Extracted parameter [{"stepId":"step-2","parameter":"shipment_id","oldValue":"EXTRACT_FROM_STEP_1","newValue":"6905db9211cc522275d5f018","hadPlaceholder":true,"isValidObjectId":true}]
[2025-11-04T09:06:40.779Z] [DEBUG] [Coordinator] MCP validation passed [{"stepId":"step-2","providedParams":["shipment_id"]}]
[2025-11-04T09:06:40.779Z] [INFO] [StepExecutor] Plan updated during execution [{"stepId":"step-2","stepOrder":2}]
[2025-11-04T09:06:40.788Z] [DEBUG] [StepExecutor] All parameters validated for step 2
[2025-11-04T09:06:40.797Z] [INFO] [StepExecutor] Step executed successfully [{"stepId":"step-2","stepOrder":2,"duration":3627,"retries":0}]
[2025-11-04T09:06:40.799Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:06:40.799Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:06:40.799Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:06:40.799Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":715,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T09:06:40.799Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":715}]
[2025-11-04T09:06:42.389Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":920,"compressionApplied":false}]
[2025-11-04T09:06:42.390Z] [DEBUG] [PlanValidator] Validation result [{"isValid":true,"progress":0.667,"shouldContinue":true,"shouldAdapt":false}]
[2025-11-04T09:06:42.391Z] [DEBUG] [ExecutionEngine] Meta-reasoning checkpoint [{"stepId":"step-2","isValid":true,"progress":0.667,"shouldContinue":true,"shouldAdapt":false}]
[2025-11-04T09:06:42.396Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:06:42.397Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:06:42.397Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:06:42.399Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":11448,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T09:06:42.399Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":11448}]
[2025-11-04T09:06:44.974Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":773,"compressionApplied":false}]
[2025-11-04T09:06:44.975Z] [DEBUG] [Coordinator] Coordination analysis [{"stepId":"step-3","needsCoordination":true,"recommendation":"adapt"}]
[2025-11-04T09:06:44.976Z] [WARN] [Coordinator] Placeholder values remain after extraction attempt [{"stepId":"step-3","remainingPlaceholders":["shipmentId"],"extractionAttempts":[]}]
[2025-11-04T09:06:44.976Z] [DEBUG] [Coordinator] Programmatic fallback check [{"stepId":"step-3","remainingPlaceholders":["shipmentId"],"paramName":"shipmentId","previousResultsKeys":["step-1","step-2"],"isPrompt":false}]
[2025-11-04T09:06:44.978Z] [DEBUG] [Coordinator] Programmatic ID extraction attempt [{"stepId":"step-3","paramName":"shipmentId","placeholderValue":"EXTRACT_FROM_STEP_1","targetStepRef":"step-1","availableSteps":["step-1","step-2"]}]
[2025-11-04T09:06:44.978Z] [INFO] [Coordinator] Programmatic ID extraction succeeded [{"stepId":"step-3","parameter":"shipmentId","oldValue":"EXTRACT_FROM_STEP_1","newValue":"6905db9211cc522275d5f018","sourceStep":"step-1","wasTargeted":true}]
[2025-11-04T09:06:44.988Z] [DEBUG] [Coordinator] MCP validation passed [{"stepId":"step-3","providedParams":["shipmentId"]}]
[2025-11-04T09:06:44.989Z] [INFO] [StepExecutor] Plan updated during execution [{"stepId":"step-3","stepOrder":3}]
[2025-11-04T09:06:44.999Z] [DEBUG] [StepExecutor] All parameters validated for step 3
[2025-11-04T09:06:45.016Z] [INFO] [StepExecutor] Step executed successfully [{"stepId":"step-3","stepOrder":3,"duration":2625,"retries":0}]
[2025-11-04T09:06:45.018Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:06:45.019Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:06:45.019Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:06:45.019Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":756,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T09:06:45.019Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":756}]
[2025-11-04T09:06:46.866Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":794,"compressionApplied":false}]
[2025-11-04T09:06:46.867Z] [DEBUG] [PlanValidator] Validation result [{"isValid":true,"progress":1,"shouldContinue":false,"shouldAdapt":false}]
[2025-11-04T09:06:46.867Z] [DEBUG] [ExecutionEngine] Meta-reasoning checkpoint [{"stepId":"step-3","isValid":true,"progress":1,"shouldContinue":false,"shouldAdapt":false}]
[2025-11-04T09:06:46.879Z] [INFO] [Executor Agent API] Saved execution version 2 [{"requestId":"demo-1762245101422-5teon5"}]
[2025-11-04T09:06:46.882Z] [INFO] [Executor Agent API] Execution completed [{"requestId":"demo-1762245101422-5teon5","overallSuccess":true,"stepsExecuted":3,"stepsSucceeded":3,"questionsAsked":0,"requiresFeedback":false}]
[2025-11-04T09:06:47.341Z] [INFO] [Executor Agent Versions API] Retrieved 2 versions [{"requestId":"demo-1762245101422-5teon5","versions":2}]
[2025-11-04T09:06:52.536Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:06:52.536Z] [INFO] Resolved API config for agent 'summary-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:06:52.537Z] [INFO] [BaseAgent] Initialized agent 'summary-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:06:52.539Z] [INFO] [Summary Agent API] Generating summary [{"requestId":"demo-1762245101422-5teon5","hasThoughts":true,"hasExecution":true}]
[2025-11-04T09:06:52.541Z] [DEBUG] [SummaryAgent] Generating summary [{"requestId":"demo-1762245101422-5teon5","thoughtsCount":1,"executionStepsCount":3,"executionSuccess":true}]
[2025-11-04T09:06:52.544Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"summary-agent","originalTokenCount":24771,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T09:06:52.545Z] [DEBUG] [BaseAgent] Calling LLM for agent 'summary-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":24771}]
[2025-11-04T09:06:59.387Z] [ERROR] [Summary Agent API] Error: ["LLM call failed: 500 - {\"error\":\"Failed after 3 attempts. Last error: This request would exceed your organization's (02b85921-3b2f-4630-94ed-c5b150d15049) maximum usage increase rate for input tokens per minute. Your current limit is 50,000 input tokens per minute, and will increase to 120,000 at the next minute boundary. Please scale up your input tokens usage more gradually to stay within the acceleration limit. For details, refer to: https://docs.claude.com/en/api/rate-limits.\",\"type\":\"RetryError\"}",{}]
[2025-11-04T09:07:12.617Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:07:12.618Z] [INFO] Resolved API config for agent 'summary-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:07:12.618Z] [INFO] [BaseAgent] Initialized agent 'summary-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:07:12.619Z] [INFO] [Summary Agent API] Generating summary [{"requestId":"demo-1762245101422-5teon5","hasThoughts":true,"hasExecution":true}]
[2025-11-04T09:07:12.619Z] [DEBUG] [SummaryAgent] Generating summary [{"requestId":"demo-1762245101422-5teon5","thoughtsCount":1,"executionStepsCount":3,"executionSuccess":true}]
[2025-11-04T09:07:12.622Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"summary-agent","originalTokenCount":24771,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T09:07:12.622Z] [DEBUG] [BaseAgent] Calling LLM for agent 'summary-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":24771}]
[2025-11-04T09:07:18.577Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"summary-agent","responseLength":2204,"compressionApplied":false}]
[2025-11-04T09:07:18.581Z] [INFO] [SummaryAgent] Generated summary [{"requestId":"demo-1762245101422-5teon5","summaryLength":2204,"takeawaysCount":3}]
[2025-11-04T09:07:18.589Z] [INFO] [Summary Agent API] Saved summary version 1 [{"requestId":"demo-1762245101422-5teon5"}]
[2025-11-04T09:07:18.591Z] [INFO] [Summary Agent API] Summary generation completed [{"requestId":"demo-1762245101422-5teon5","summaryLength":2204,"takeawaysCount":3}]
[2025-11-04T09:12:07.846Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:12:07.846Z] [INFO] Resolved API config for agent 'summary-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:12:07.846Z] [INFO] [BaseAgent] Initialized agent 'summary-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:12:07.847Z] [INFO] [Summary Agent API] Generating summary [{"requestId":"demo-1762245101422-5teon5","hasThoughts":true,"hasExecution":true}]
[2025-11-04T09:12:07.848Z] [DEBUG] [SummaryAgent] Generating summary [{"requestId":"demo-1762245101422-5teon5","thoughtsCount":1,"executionStepsCount":3,"executionSuccess":true}]
[2025-11-04T09:12:07.850Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"summary-agent","originalTokenCount":25198,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T09:12:07.850Z] [DEBUG] [BaseAgent] Calling LLM for agent 'summary-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":25198}]
[2025-11-04T09:12:12.564Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"summary-agent","responseLength":1254,"compressionApplied":false}]
[2025-11-04T09:12:12.567Z] [INFO] [SummaryAgent] Generated summary [{"requestId":"demo-1762245101422-5teon5","summaryLength":1254,"takeawaysCount":3}]
[2025-11-04T09:12:12.576Z] [INFO] [Summary Agent API] Saved summary version 2 [{"requestId":"demo-1762245101422-5teon5"}]
[2025-11-04T09:12:12.580Z] [INFO] [Summary Agent API] Summary generation completed [{"requestId":"demo-1762245101422-5teon5","summaryLength":1254,"takeawaysCount":3}]
[2025-11-04T09:13:06.794Z] [INFO] [Complexity Detector] Starting detection [{"query":"List contaminants, get details for one with high e","requestId":"demo-1762245101130-rmt2ca","agentId":"complexity-detector","hasApiConfig":false}]
[2025-11-04T09:13:06.801Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:13:06.801Z] [INFO] Resolved API config for agent 'complexity-detector' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:13:06.801Z] [DEBUG] [Complexity Detector] Trying strategy: semantic
[2025-11-04T09:13:06.801Z] [DEBUG] [Semantic Strategy] Starting semantic detection for query: "List contaminants, get details for one with high e..."
[2025-11-04T09:13:09.175Z] [DEBUG] [Semantic Strategy] No semantic match found [{"bestSimilarity":"0.000","threshold":0.75,"resultsCount":0}]
[2025-11-04T09:13:09.176Z] [WARN] [Semantic Strategy] Semantic detection failed [{"error":"No semantic match found (best similarity: 0.000, threshold: 0.75)","query":"List contaminants, get details for one with high e"}]
[2025-11-04T09:13:09.176Z] [DEBUG] [Complexity Detector] Strategy semantic failed: ["No semantic match found (best similarity: 0.000, threshold: 0.75)"]
[2025-11-04T09:13:09.176Z] [DEBUG] [Complexity Detector] Trying strategy: keyword
[2025-11-04T09:13:09.177Z] [DEBUG] [Keyword Strategy] Starting keyword detection for query: "List contaminants, get details for one with high e..."
[2025-11-04T09:13:09.178Z] [INFO] [Keyword Strategy] Detection complete [{"score":"0.286","passes":1,"keywordsCount":3}]
[2025-11-04T09:13:09.178Z] [DEBUG] [Complexity Detector] Keyword strategy completed, score: 0.286
[2025-11-04T09:13:09.178Z] [DEBUG] [Complexity Detector] LLM strategy check [{"hasStrategy":true,"canUse":true,"enabled":true,"hasApiConfig":true,"semanticResult":false,"keywordResult":true}]
[2025-11-04T09:13:09.179Z] [DEBUG] [Complexity Detector] Semantic failed but keyword succeeded - treating as ambiguous, running LLM
[2025-11-04T09:13:09.179Z] [DEBUG] [Complexity Detector] Trying LLM strategy
[2025-11-04T09:13:09.179Z] [DEBUG] [LLM Strategy] Starting LLM analysis for query: "List contaminants, get details for one with high e..."
[2025-11-04T09:13:09.180Z] [DEBUG] [LLM Strategy] Calling AI server [{"modelId":"claude-3-haiku-20240307","provider":"api"}]
[2025-11-04T09:13:09.195Z] [ERROR] [LLM Strategy] LLM analysis failed [{"error":"AI server error: 400 - {\"error\":\"Unknown model: claude-3-haiku-20240307. Please provide a provider or use a known model ID.\"}","query":"List contaminants, get details for one with high e"}]
[2025-11-04T09:13:09.196Z] [DEBUG] [Complexity Detector] LLM strategy failed: ["Failed to analyze complexity with LLM: AI server error: 400 - {\"error\":\"Unknown model: claude-3-haiku-20240307. Please provide a provider or use a known model ID.\"}"]
[2025-11-04T09:13:09.200Z] [INFO] [Complexity Detector] Detection complete [{"method":"keyword","score":"0.286","passes":1,"requestId":"demo-1762245101130-rmt2ca"}]
[2025-11-04T09:13:09.200Z] [INFO] [Complexity Detector API] Detection completed [{"requestId":"demo-1762245101130-rmt2ca","method":"keyword","score":"0.286"}]
[2025-11-04T09:13:12.821Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:13:12.821Z] [INFO] Resolved API config for agent 'thought-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:13:12.821Z] [INFO] [BaseAgent] Initialized agent 'thought-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:13:12.823Z] [INFO] [Thought Agent API] Generating thoughts [{"requestId":"demo-1762245101130-rmt2ca","queryLength":88}]
[2025-11-04T09:13:12.828Z] [DEBUG] [ThoughtAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T09:13:13.914Z] [DEBUG] [ThoughtAgent] Found similar examples [{"count":0,"similarities":[]}]
[2025-11-04T09:13:13.918Z] [DEBUG] [ThoughtAgent] Generating thought for query [{"requestId":"demo-1762245101130-rmt2ca","queryLength":88,"hasComplexityScore":false,"toolsCount":28,"similarExamplesCount":0}]
[2025-11-04T09:13:13.920Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"thought-agent","originalTokenCount":4370,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T09:13:13.920Z] [DEBUG] [BaseAgent] Calling LLM for agent 'thought-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":4370}]
[2025-11-04T09:13:19.692Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"thought-agent","responseLength":3242,"compressionApplied":false}]
[2025-11-04T09:13:19.697Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"generate-contamination-report","hasKeywordMatch":true,"commonWordsCount":0}]
[2025-11-04T09:13:19.698Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"facility-report-with-recommendations","hasKeywordMatch":false,"commonWordsCount":2}]
[2025-11-04T09:13:19.698Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"find-high-risk-contaminants-and-facilities","hasKeywordMatch":true,"commonWordsCount":2}]
[2025-11-04T09:13:19.698Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"contaminant-to-shipment-analysis","hasKeywordMatch":true,"commonWordsCount":1}]
[2025-11-04T09:13:19.698Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"analyze-high-explosive-contaminants","hasKeywordMatch":true,"commonWordsCount":3}]
[2025-11-04T09:13:19.699Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"analyze-facilities-by-location","hasKeywordMatch":true,"commonWordsCount":0}]
[2025-11-04T09:13:19.699Z] [DEBUG] [ThoughtAgent] Used semantic matching to find prompts [{"promptsFound":["generate-contamination-report","facility-report-with-recommendations","find-high-risk-contaminants-and-facilities","contaminant-to-shipment-analysis","analyze-high-explosive-contaminants","analyze-facilities-by-location"],"userQuery":"List contaminants, get details for one with high explosive level, then update its status","hadToolsSection":true}]
[2025-11-04T09:13:19.700Z] [INFO] [ThoughtAgent] Generated thought [{"requestId":"demo-1762245101130-rmt2ca","approaches":3,"confidence":"0.50","similarExamplesUsed":0}]
[2025-11-04T09:13:19.708Z] [INFO] [Thought Agent API] Thought generation completed [{"requestId":"demo-1762245101130-rmt2ca","thoughtsCount":1}]
[2025-11-04T09:13:27.384Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:13:27.384Z] [INFO] Resolved API config for agent 'planner-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:13:27.384Z] [INFO] [BaseAgent] Initialized agent 'planner-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:13:27.387Z] [INFO] [Planner Agent API] Generating plan [{"requestId":"demo-1762245101130-rmt2ca","thoughtsCount":1,"queryLength":88,"planVersion":1,"hasRecommendedPrompts":false}]
[2025-11-04T09:13:27.394Z] [DEBUG] [PlannerAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T09:13:28.563Z] [DEBUG] [PlannerAgent] Found similar examples [{"count":0,"similarities":[]}]
[2025-11-04T09:13:28.602Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:13:28.603Z] [INFO] Resolved API config for agent 'tool-memory-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:13:28.604Z] [INFO] [BaseAgent] Initialized agent 'tool-memory-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:13:28.643Z] [DEBUG] [PlannerAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T09:13:31.698Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196299074-sx5b2p: [{"name":"PineconeBadRequestError"}]
[2025-11-04T09:13:31.977Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196291303-ecdxf: [{"name":"PineconeBadRequestError"}]
[2025-11-04T09:13:32.252Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196290985-lv8uam: [{"name":"PineconeBadRequestError"}]
[2025-11-04T09:13:32.559Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196290768-s2r9uc: [{"name":"PineconeBadRequestError"}]
[2025-11-04T09:13:32.814Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196297982-w3p6nl: [{"name":"PineconeBadRequestError"}]
[2025-11-04T09:13:32.815Z] [DEBUG] [ToolMemoryAgent] Found similar tool usage patterns [{"count":5,"similarities":["0.79","0.74","0.73","0.70","0.70"]}]
[2025-11-04T09:13:32.817Z] [DEBUG] [ToolMemoryAgent] Generating tool recommendations [{"requestId":"demo-1762245101130-rmt2ca","queryLength":88,"hasComplexityScore":false,"toolsCount":28,"memoryMatchesCount":5}]
[2025-11-04T09:13:32.821Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"tool-memory-agent","originalTokenCount":5383,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T09:13:32.821Z] [DEBUG] [BaseAgent] Calling LLM for agent 'tool-memory-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":5383}]
[2025-11-04T09:13:36.905Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"tool-memory-agent","responseLength":1935,"compressionApplied":false}]
[2025-11-04T09:13:36.909Z] [INFO] [ToolMemoryAgent] Generated tool recommendations [{"requestId":"demo-1762245101130-rmt2ca","toolsRecommended":3,"toolChainsCount":1,"memoryMatchesCount":5}]
[2025-11-04T09:13:36.909Z] [DEBUG] [PlannerAgent] Fetched tool recommendations [{"toolsRecommended":3}]
[2025-11-04T09:13:36.914Z] [DEBUG] [PlannerAgent] Generating plan [{"requestId":"demo-1762245101130-rmt2ca","thoughtsCount":1,"toolsCount":28,"similarExamplesCount":0}]
[2025-11-04T09:13:36.916Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"planner-agent","originalTokenCount":13066,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T09:13:36.916Z] [DEBUG] [BaseAgent] Calling LLM for agent 'planner-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":13066}]
[2025-11-04T09:13:42.089Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"planner-agent","responseLength":1940,"compressionApplied":false}]
[2025-11-04T09:13:42.091Z] [INFO] [PlannerAgent] Attempting to parse JSON response [{"responseLength":1940,"responsePreview":"{\n  \"goal\": \"List contaminants, get details for one with high explosive level, then update its status\",\n  \"steps\": [\n    {\n      \"order\": 1,\n      \"description\": \"List all contaminants and filter for those with high explosive levels\",\n      \"action\": \"list_contaminants\",\n      \"parameters\": {\n        \"explosive_level\": \"high\"\n      },\n      \"expectedOutcome\": \"Retrieve a list of contaminants with high explosive levels\",\n      \"dependencies\": []\n    },\n    {\n      \"order\": 2,\n      \"description\":"}]
[2025-11-04T09:13:42.092Z] [DEBUG] [PlannerAgent] Extracted JSON string [{"jsonLength":1762,"jsonPreview":"{\n  \"goal\": \"List contaminants, get details for one with high explosive level, then update its status\",\n  \"steps\": [\n    {\n      \"order\": 1,\n      \"description\": \"List all contaminants and filter for "}]
[2025-11-04T09:13:42.093Z] [DEBUG] [PlannerAgent] Successfully parsed JSON plan [{"stepsCount":3}]
[2025-11-04T09:13:42.095Z] [WARN] [PlannerAgent] Plan validation issues [{"requestId":"demo-1762245101130-rmt2ca","warnings":["Step 1 (list_contaminants): Parameter \"explosive_level\" is not valid. Valid parameters: facilityId, shipment_id, material"],"errors":[]}]
[2025-11-04T09:13:42.096Z] [INFO] [PlannerAgent] Generated plan [{"requestId":"demo-1762245101130-rmt2ca","stepsCount":3,"confidence":"0.90","complexity":"0.70"}]
[2025-11-04T09:13:42.106Z] [INFO] [Planner Agent API] Plan generation completed [{"requestId":"demo-1762245101130-rmt2ca","stepsCount":3,"confidence":"0.90"}]
[2025-11-04T09:13:49.581Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:13:49.581Z] [INFO] Resolved API config for agent 'critic-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:13:49.581Z] [INFO] [BaseAgent] Initialized agent 'critic-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:13:49.582Z] [INFO] [Critic Agent API] Generating critique [{"requestId":"demo-1762245101130-rmt2ca","planId":"plan-1762247622093","stepsCount":3,"hasUserFeedback":false,"hasRefinedQuery":false}]
[2025-11-04T09:13:49.591Z] [DEBUG] [CriticAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T09:13:49.593Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:13:49.593Z] [INFO] Resolved API config for agent 'tool-memory-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:13:49.593Z] [INFO] [BaseAgent] Initialized agent 'tool-memory-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:13:49.594Z] [DEBUG] [CriticAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T09:13:53.915Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196299074-sx5b2p: [{"name":"PineconeBadRequestError"}]
[2025-11-04T09:13:54.177Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196291303-ecdxf: [{"name":"PineconeBadRequestError"}]
[2025-11-04T09:13:54.437Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196290985-lv8uam: [{"name":"PineconeBadRequestError"}]
[2025-11-04T09:13:54.694Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196290768-s2r9uc: [{"name":"PineconeBadRequestError"}]
[2025-11-04T09:13:54.953Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196297982-w3p6nl: [{"name":"PineconeBadRequestError"}]
[2025-11-04T09:13:54.954Z] [DEBUG] [ToolMemoryAgent] Found similar tool usage patterns [{"count":5,"similarities":["0.79","0.74","0.73","0.70","0.70"]}]
[2025-11-04T09:13:54.955Z] [DEBUG] [ToolMemoryAgent] Generating tool recommendations [{"requestId":"demo-1762245101130-rmt2ca","queryLength":88,"hasComplexityScore":false,"toolsCount":28,"memoryMatchesCount":5}]
[2025-11-04T09:13:54.959Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"tool-memory-agent","originalTokenCount":5383,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T09:13:54.959Z] [DEBUG] [BaseAgent] Calling LLM for agent 'tool-memory-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":5383}]
[2025-11-04T09:13:59.378Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"tool-memory-agent","responseLength":2062,"compressionApplied":false}]
[2025-11-04T09:13:59.383Z] [INFO] [ToolMemoryAgent] Generated tool recommendations [{"requestId":"demo-1762245101130-rmt2ca","toolsRecommended":3,"toolChainsCount":1,"memoryMatchesCount":5}]
[2025-11-04T09:13:59.383Z] [DEBUG] [CriticAgent] Fetched tool recommendations [{"toolsRecommended":3}]
[2025-11-04T09:13:59.383Z] [DEBUG] [CriticAgent] Validation iteration 1/5 [{"requestId":"demo-1762245101130-rmt2ca"}]
[2025-11-04T09:13:59.405Z] [INFO] [CriticAgent] All parameters validated [{"requestId":"demo-1762245101130-rmt2ca","iterations":1}]
[2025-11-04T09:13:59.407Z] [DEBUG] [CriticAgent] Critiquing plan [{"requestId":"demo-1762245101130-rmt2ca","planId":"plan-1762247622093","stepsCount":3,"hasUserFeedback":false,"validationIterations":1}]
[2025-11-04T09:13:59.407Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"critic-agent","originalTokenCount":5500,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T09:13:59.408Z] [DEBUG] [BaseAgent] Calling LLM for agent 'critic-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":5500}]
[2025-11-04T09:14:03.359Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"critic-agent","responseLength":1531,"compressionApplied":false}]
[2025-11-04T09:14:03.360Z] [INFO] [CriticAgent] Attempting to parse JSON response [{"responseLength":1531,"responsePreview":"{\n  \"overallScore\": 0.9,\n  \"feasibilityScore\": 0.95,\n  \"correctnessScore\": 0.9,\n  \"efficiencyScore\": 0.9,\n  \"safetyScore\": 0.9,\n  \"strengths\": [\n    \"Clear and logical sequence of steps\",\n    \"Appropriate use of MCP tools to achieve the goal\"\n  ],\n  \"issues\": [\n    {\n      \"severity\": \"low\",\n      \"category\": \"completeness\",\n      \"description\": \"Some required parameters for update_contaminant are missing values\",\n      \"suggestion\": \"Provide values for all required parameters when updating the "}]
[2025-11-04T09:14:03.361Z] [DEBUG] [CriticAgent] Extracted JSON string [{"jsonLength":1355,"jsonPreview":"{\n  \"overallScore\": 0.9,\n  \"feasibilityScore\": 0.95,\n  \"correctnessScore\": 0.9,\n  \"efficiencyScore\": 0.9,\n  \"safetyScore\": 0.9,\n  \"strengths\": [\n    \"Clear and logical sequence of steps\",\n    \"Appropr"}]
[2025-11-04T09:14:03.362Z] [DEBUG] [CriticAgent] Score parsing [{"rawOverallScore":0.9,"clampedOverallScore":0.9,"rawFeasibility":0.95,"rawCorrectness":0.9,"rawEfficiency":0.9,"rawSafety":0.9}]
[2025-11-04T09:14:03.362Z] [DEBUG] [CriticAgent] Successfully parsed JSON critique [{"recommendation":"approve","issuesCount":1}]
[2025-11-04T09:14:03.362Z] [INFO] [CriticAgent] All parameters validated, confidence boosted to 95% [{"requestId":"demo-1762245101130-rmt2ca"}]
[2025-11-04T09:14:03.362Z] [INFO] [CriticAgent] Plan critiqued [{"requestId":"demo-1762245101130-rmt2ca","planId":"plan-1762247622093","overallScore":"0.95","recommendation":"approve","issuesCount":1,"questionsCount":1,"validationIterations":1,"missingParamsAfterValidation":0}]
[2025-11-04T09:14:03.374Z] [INFO] [Critic Agent API] Saved critique version 1 [{"requestId":"demo-1762245101130-rmt2ca"}]
[2025-11-04T09:14:03.379Z] [INFO] [Critic Agent API] Critique generation completed [{"requestId":"demo-1762245101130-rmt2ca","overallScore":"0.95","recommendation":"approve","issuesCount":1,"questionsCount":1}]
[2025-11-04T09:14:04.653Z] [INFO] [Critic Agent Versions API] Retrieved 1 versions [{"requestId":"demo-1762245101130-rmt2ca","versions":1}]
[2025-11-04T09:14:25.125Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:14:25.125Z] [INFO] Resolved API config for agent 'critic-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:14:25.125Z] [INFO] [BaseAgent] Initialized agent 'critic-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:14:25.127Z] [INFO] [Critic Agent API] Regenerating thoughts and plan with user input [{"requestId":"demo-1762245101130-rmt2ca","originalQuery":"List contaminants, get details for one with high explosive level, then update its status","hasRefinedQuery":false,"hasFeedback":true}]
[2025-11-04T09:14:25.129Z] [INFO] [Critic Agent API] Added feedback context to query [{"requestId":"demo-1762245101130-rmt2ca","feedbackLength":244,"enhancedQueryLength":332}]
[2025-11-04T09:14:25.129Z] [DEBUG] [Critic Agent API] Enhanced query for regeneration [{"requestId":"demo-1762245101130-rmt2ca","originalLength":88,"enhancedLength":332,"hasRefinedQuery":false,"hasFeedbackContext":true}]
[2025-11-04T09:14:25.142Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:14:25.142Z] [INFO] Resolved API config for agent 'thought-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:14:25.142Z] [INFO] [BaseAgent] Initialized agent 'thought-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:14:25.149Z] [DEBUG] [ThoughtAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T09:14:26.172Z] [DEBUG] [ThoughtAgent] Found similar examples [{"count":0,"similarities":[]}]
[2025-11-04T09:14:26.174Z] [DEBUG] [ThoughtAgent] Generating thought for query [{"requestId":"demo-1762245101130-rmt2ca","queryLength":332,"hasComplexityScore":false,"toolsCount":28,"similarExamplesCount":0}]
[2025-11-04T09:14:26.176Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"thought-agent","originalTokenCount":4454,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T09:14:26.176Z] [DEBUG] [BaseAgent] Calling LLM for agent 'thought-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":4454}]
[2025-11-04T09:14:31.601Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"thought-agent","responseLength":2862,"compressionApplied":false}]
[2025-11-04T09:14:31.615Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"generate-contamination-report","hasKeywordMatch":true,"commonWordsCount":0}]
[2025-11-04T09:14:31.615Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"review-shipment-inspection","hasKeywordMatch":true,"commonWordsCount":0}]
[2025-11-04T09:14:31.615Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"facility-report-with-recommendations","hasKeywordMatch":false,"commonWordsCount":2}]
[2025-11-04T09:14:31.616Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"find-high-risk-contaminants-and-facilities","hasKeywordMatch":true,"commonWordsCount":2}]
[2025-11-04T09:14:31.616Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"contaminant-to-shipment-analysis","hasKeywordMatch":true,"commonWordsCount":2}]
[2025-11-04T09:14:31.616Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"analyze-high-explosive-contaminants","hasKeywordMatch":true,"commonWordsCount":3}]
[2025-11-04T09:14:31.616Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"analyze-facilities-by-location","hasKeywordMatch":true,"commonWordsCount":0}]
[2025-11-04T09:14:31.618Z] [DEBUG] [ThoughtAgent] Used semantic matching to find prompts [{"promptsFound":["generate-contamination-report","review-shipment-inspection","facility-report-with-recommendations","find-high-risk-contaminants-and-facilities","contaminant-to-shipment-analysis","analyze-high-explosive-contaminants","analyze-facilities-by-location"],"userQuery":"List contaminants, get details for one with high explosive level, then update its status\n\n[User clarifications: What are the values for the required parameters when updating the contaminant (explosive_level, material, facilityId, detection_time, hcl_level, so2_level, estimated_size, shipment_id)? -> change explosive_level to high]","hadToolsSection":true}]
[2025-11-04T09:14:31.621Z] [INFO] [ThoughtAgent] Generated thought [{"requestId":"demo-1762245101130-rmt2ca","approaches":3,"confidence":"0.50","similarExamplesUsed":0}]
[2025-11-04T09:14:31.734Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:14:31.735Z] [INFO] Resolved API config for agent 'planner-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:14:31.735Z] [INFO] [BaseAgent] Initialized agent 'planner-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:14:31.768Z] [DEBUG] [PlannerAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T09:14:34.636Z] [DEBUG] [PlannerAgent] Found similar examples [{"count":0,"similarities":[]}]
[2025-11-04T09:14:34.645Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:14:34.646Z] [INFO] Resolved API config for agent 'tool-memory-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:14:34.646Z] [INFO] [BaseAgent] Initialized agent 'tool-memory-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:14:34.675Z] [DEBUG] [PlannerAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T09:14:38.416Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196299074-sx5b2p: [{"name":"PineconeBadRequestError"}]
[2025-11-04T09:14:38.698Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196291303-ecdxf: [{"name":"PineconeBadRequestError"}]
[2025-11-04T09:14:38.990Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196297982-w3p6nl: [{"name":"PineconeBadRequestError"}]
[2025-11-04T09:14:39.252Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196290985-lv8uam: [{"name":"PineconeBadRequestError"}]
[2025-11-04T09:14:39.515Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196290768-s2r9uc: [{"name":"PineconeBadRequestError"}]
[2025-11-04T09:14:39.516Z] [DEBUG] [ToolMemoryAgent] Found similar tool usage patterns [{"count":5,"similarities":["0.76","0.75","0.68","0.66","0.66"]}]
[2025-11-04T09:14:39.518Z] [DEBUG] [ToolMemoryAgent] Generating tool recommendations [{"requestId":"demo-1762245101130-rmt2ca","queryLength":332,"hasComplexityScore":false,"toolsCount":28,"memoryMatchesCount":5}]
[2025-11-04T09:14:39.519Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"tool-memory-agent","originalTokenCount":5467,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T09:14:39.519Z] [DEBUG] [BaseAgent] Calling LLM for agent 'tool-memory-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":5467}]
[2025-11-04T09:14:45.477Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"tool-memory-agent","responseLength":2045,"compressionApplied":false}]
[2025-11-04T09:14:45.480Z] [INFO] [ToolMemoryAgent] Generated tool recommendations [{"requestId":"demo-1762245101130-rmt2ca","toolsRecommended":3,"toolChainsCount":1,"memoryMatchesCount":5}]
[2025-11-04T09:14:45.481Z] [DEBUG] [PlannerAgent] Fetched tool recommendations [{"toolsRecommended":3}]
[2025-11-04T09:14:45.486Z] [DEBUG] [PlannerAgent] Generating plan [{"requestId":"demo-1762245101130-rmt2ca","thoughtsCount":1,"toolsCount":28,"similarExamplesCount":0}]
[2025-11-04T09:14:45.489Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"planner-agent","originalTokenCount":12828,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T09:14:45.490Z] [DEBUG] [BaseAgent] Calling LLM for agent 'planner-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":12828}]
[2025-11-04T09:14:51.509Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"planner-agent","responseLength":2183,"compressionApplied":false}]
[2025-11-04T09:14:51.511Z] [INFO] [PlannerAgent] Attempting to parse JSON response [{"responseLength":2183,"responsePreview":"{\n  \"goal\": \"List contaminants, get details for one with high explosive level, then update its status\",\n  \"steps\": [\n    {\n      \"order\": 1,\n      \"description\": \"List all contaminants\",\n      \"action\": \"list_contaminants\",\n      \"parameters\": {},\n      \"expectedOutcome\": \"Retrieve a list of all contaminants\",\n      \"dependencies\": []\n    },\n    {\n      \"order\": 2,\n      \"description\": \"Identify the contaminant with the highest explosive level\",\n      \"action\": \"list_contaminants\",\n      \"parame"}]
[2025-11-04T09:14:51.513Z] [DEBUG] [PlannerAgent] Extracted JSON string [{"jsonLength":2005,"jsonPreview":"{\n  \"goal\": \"List contaminants, get details for one with high explosive level, then update its status\",\n  \"steps\": [\n    {\n      \"order\": 1,\n      \"description\": \"List all contaminants\",\n      \"action"}]
[2025-11-04T09:14:51.513Z] [DEBUG] [PlannerAgent] Successfully parsed JSON plan [{"stepsCount":4}]
[2025-11-04T09:14:51.515Z] [INFO] [PlannerAgent] Generated plan [{"requestId":"demo-1762245101130-rmt2ca","stepsCount":4,"confidence":"0.90","complexity":"0.70"}]
[2025-11-04T09:14:51.520Z] [INFO] [Critic Agent API] New plan saved with version 2
[2025-11-04T09:14:51.522Z] [INFO] [Critic Agent API] Plan regenerated with user input [{"requestId":"demo-1762245101130-rmt2ca","newStepsCount":4,"planVersion":2}]
[2025-11-04T09:14:51.523Z] [INFO] [Critic Agent API] Generating critique [{"requestId":"demo-1762245101130-rmt2ca","planId":"plan-1762247691513","stepsCount":4,"hasUserFeedback":true,"hasRefinedQuery":false}]
[2025-11-04T09:14:51.534Z] [DEBUG] [CriticAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T09:14:51.538Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:14:51.538Z] [INFO] Resolved API config for agent 'tool-memory-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:14:51.538Z] [INFO] [BaseAgent] Initialized agent 'tool-memory-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:14:51.543Z] [DEBUG] [CriticAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T09:14:52.916Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196299074-sx5b2p: [{"name":"PineconeBadRequestError"}]
[2025-11-04T09:14:53.167Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196291303-ecdxf: [{"name":"PineconeBadRequestError"}]
[2025-11-04T09:14:53.428Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196290985-lv8uam: [{"name":"PineconeBadRequestError"}]
[2025-11-04T09:14:53.684Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196290768-s2r9uc: [{"name":"PineconeBadRequestError"}]
[2025-11-04T09:14:53.968Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196297982-w3p6nl: [{"name":"PineconeBadRequestError"}]
[2025-11-04T09:14:53.969Z] [DEBUG] [ToolMemoryAgent] Found similar tool usage patterns [{"count":5,"similarities":["0.79","0.74","0.73","0.70","0.70"]}]
[2025-11-04T09:14:53.970Z] [DEBUG] [ToolMemoryAgent] Generating tool recommendations [{"requestId":"demo-1762245101130-rmt2ca","queryLength":88,"hasComplexityScore":false,"toolsCount":28,"memoryMatchesCount":5}]
[2025-11-04T09:14:53.971Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"tool-memory-agent","originalTokenCount":5383,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T09:14:53.971Z] [DEBUG] [BaseAgent] Calling LLM for agent 'tool-memory-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":5383}]
[2025-11-04T09:14:57.712Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"tool-memory-agent","responseLength":1795,"compressionApplied":false}]
[2025-11-04T09:14:57.713Z] [INFO] [ToolMemoryAgent] Generated tool recommendations [{"requestId":"demo-1762245101130-rmt2ca","toolsRecommended":3,"toolChainsCount":1,"memoryMatchesCount":5}]
[2025-11-04T09:14:57.713Z] [DEBUG] [CriticAgent] Fetched tool recommendations [{"toolsRecommended":3}]
[2025-11-04T09:14:57.714Z] [DEBUG] [CriticAgent] Validation iteration 1/5 [{"requestId":"demo-1762245101130-rmt2ca"}]
[2025-11-04T09:14:57.738Z] [INFO] [CriticAgent] All parameters validated [{"requestId":"demo-1762245101130-rmt2ca","iterations":1}]
[2025-11-04T09:14:57.740Z] [DEBUG] [CriticAgent] Critiquing plan [{"requestId":"demo-1762245101130-rmt2ca","planId":"plan-1762247691513","stepsCount":4,"hasUserFeedback":true,"validationIterations":1}]
[2025-11-04T09:14:57.742Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"critic-agent","originalTokenCount":5571,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T09:14:57.742Z] [DEBUG] [BaseAgent] Calling LLM for agent 'critic-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":5571}]
[2025-11-04T09:15:00.761Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"critic-agent","responseLength":1247,"compressionApplied":false}]
[2025-11-04T09:15:00.763Z] [INFO] [CriticAgent] Attempting to parse JSON response [{"responseLength":1247,"responsePreview":"{\n  \"overallScore\": 0.9,\n  \"feasibilityScore\": 0.95,\n  \"correctnessScore\": 0.9,\n  \"efficiencyScore\": 0.85,\n  \"safetyScore\": 0.95,\n  \"strengths\": [\n    \"Logical sequence of steps to achieve the goal\",\n    \"Utilizes appropriate MCP tools for each task\",\n    \"Handles the high explosive contaminant case effectively\"\n  ],\n  \"issues\": [\n    {\n      \"severity\": \"low\",\n      \"category\": \"completeness\",\n      \"description\": \"Hardcoded values in the update_contaminant step\",\n      \"suggestion\": \"Extract t"}]
[2025-11-04T09:15:00.764Z] [DEBUG] [CriticAgent] Extracted JSON string [{"jsonLength":1071,"jsonPreview":"{\n  \"overallScore\": 0.9,\n  \"feasibilityScore\": 0.95,\n  \"correctnessScore\": 0.9,\n  \"efficiencyScore\": 0.85,\n  \"safetyScore\": 0.95,\n  \"strengths\": [\n    \"Logical sequence of steps to achieve the goal\",\n"}]
[2025-11-04T09:15:00.765Z] [DEBUG] [CriticAgent] Score parsing [{"rawOverallScore":0.9,"clampedOverallScore":0.9,"rawFeasibility":0.95,"rawCorrectness":0.9,"rawEfficiency":0.85,"rawSafety":0.95}]
[2025-11-04T09:15:00.765Z] [DEBUG] [CriticAgent] Successfully parsed JSON critique [{"recommendation":"approve","issuesCount":1}]
[2025-11-04T09:15:00.765Z] [INFO] [CriticAgent] All parameters validated, confidence boosted to 95% [{"requestId":"demo-1762245101130-rmt2ca"}]
[2025-11-04T09:15:00.766Z] [INFO] [CriticAgent] Plan critiqued [{"requestId":"demo-1762245101130-rmt2ca","planId":"plan-1762247691513","overallScore":"0.95","recommendation":"approve","issuesCount":1,"questionsCount":0,"validationIterations":1,"missingParamsAfterValidation":0}]
[2025-11-04T09:15:00.772Z] [INFO] [Critic Agent API] Saved critique version 2 [{"requestId":"demo-1762245101130-rmt2ca"}]
[2025-11-04T09:15:00.777Z] [INFO] [Critic Agent API] Critique generation completed [{"requestId":"demo-1762245101130-rmt2ca","overallScore":"0.95","recommendation":"approve","issuesCount":1,"questionsCount":0}]
[2025-11-04T09:15:00.821Z] [INFO] [Critic Agent Versions API] Retrieved 2 versions [{"requestId":"demo-1762245101130-rmt2ca","versions":2}]
[2025-11-04T09:15:24.966Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:15:24.966Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:15:24.967Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:15:24.969Z] [INFO] [Executor Agent API] Found critique [{"requestId":"demo-1762245101130-rmt2ca","recommendation":"approve"}]
[2025-11-04T09:15:24.969Z] [INFO] [Executor Agent API] Executing plan [{"requestId":"demo-1762245101130-rmt2ca","planId":"plan-1762247691513","stepsCount":4,"hasCritique":true,"hasUserFeedback":false}]
[2025-11-04T09:15:24.970Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:15:24.970Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:15:24.970Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:15:24.975Z] [DEBUG] [ExecutorAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T09:15:24.977Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:15:24.977Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:15:24.977Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:15:24.979Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":11087,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T09:15:24.979Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":11087}]
[2025-11-04T09:15:27.276Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":30324,"compressionApplied":false}]
[2025-11-04T09:15:27.276Z] [DEBUG] [Coordinator] Coordination analysis [{"stepId":"step-1","needsCoordination":false,"recommendation":"proceed"}]
[2025-11-04T09:15:27.281Z] [DEBUG] [StepExecutor] All parameters validated for step 1
[2025-11-04T09:15:27.291Z] [INFO] [StepExecutor] Step executed successfully [{"stepId":"step-1","stepOrder":1,"duration":2315,"retries":0}]
[2025-11-04T09:15:27.293Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:15:27.294Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:15:27.294Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:15:27.294Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":718,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T09:15:27.294Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":718}]
[2025-11-04T09:15:29.072Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":861,"compressionApplied":false}]
[2025-11-04T09:15:29.076Z] [DEBUG] [PlanValidator] Validation result [{"isValid":true,"progress":0.25,"shouldContinue":true,"shouldAdapt":false}]
[2025-11-04T09:15:29.078Z] [DEBUG] [ExecutionEngine] Meta-reasoning checkpoint [{"stepId":"step-1","isValid":true,"progress":0.25,"shouldContinue":true,"shouldAdapt":false}]
[2025-11-04T09:15:29.095Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:15:29.095Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:15:29.095Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:15:29.096Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":11407,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T09:15:29.096Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":11407}]
[2025-11-04T09:15:31.597Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":30353,"compressionApplied":false}]
[2025-11-04T09:15:31.599Z] [DEBUG] [Coordinator] Coordination analysis [{"stepId":"step-2","needsCoordination":false,"recommendation":"proceed"}]
[2025-11-04T09:15:31.609Z] [DEBUG] [StepExecutor] All parameters validated for step 2
[2025-11-04T09:15:31.619Z] [INFO] [StepExecutor] Step executed successfully [{"stepId":"step-2","stepOrder":2,"duration":2541,"retries":0}]
[2025-11-04T09:15:31.623Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:15:31.623Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:15:31.623Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:15:31.623Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":759,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T09:15:31.623Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":759}]
[2025-11-04T09:15:33.519Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":938,"compressionApplied":false}]
[2025-11-04T09:15:33.524Z] [DEBUG] [PlanValidator] Validation result [{"isValid":true,"progress":0.5,"shouldContinue":true,"shouldAdapt":false}]
[2025-11-04T09:15:33.525Z] [DEBUG] [ExecutionEngine] Meta-reasoning checkpoint [{"stepId":"step-2","isValid":true,"progress":0.5,"shouldContinue":true,"shouldAdapt":false}]
[2025-11-04T09:15:33.545Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:15:33.546Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:15:33.546Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:15:33.550Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":11787,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T09:15:33.550Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":11787}]
[2025-11-04T09:15:36.142Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":751,"compressionApplied":false}]
[2025-11-04T09:15:36.143Z] [DEBUG] [Coordinator] Coordination analysis [{"stepId":"step-3","needsCoordination":true,"recommendation":"adapt"}]
[2025-11-04T09:15:36.145Z] [WARN] [Coordinator] Placeholder values remain after extraction attempt [{"stepId":"step-3","remainingPlaceholders":["id"],"extractionAttempts":[]}]
[2025-11-04T09:15:36.146Z] [DEBUG] [Coordinator] Programmatic fallback check [{"stepId":"step-3","remainingPlaceholders":["id"],"paramName":"id","previousResultsKeys":["step-1","step-2"],"isPrompt":false}]
[2025-11-04T09:15:36.147Z] [DEBUG] [Coordinator] Programmatic ID extraction attempt [{"stepId":"step-3","paramName":"id","placeholderValue":"EXTRACT_FROM_STEP_2","targetStepRef":"step-2","availableSteps":["step-1","step-2"]}]
[2025-11-04T09:15:36.148Z] [INFO] [Coordinator] Programmatic ID extraction succeeded [{"stepId":"step-3","parameter":"id","oldValue":"EXTRACT_FROM_STEP_2","newValue":"6905db9211cc522275d5f01a","sourceStep":"step-2","wasTargeted":true}]
[2025-11-04T09:15:36.172Z] [DEBUG] [Coordinator] MCP validation passed [{"stepId":"step-3","providedParams":["id"]}]
[2025-11-04T09:15:36.173Z] [INFO] [StepExecutor] Plan updated during execution [{"stepId":"step-3","stepOrder":3}]
[2025-11-04T09:15:36.179Z] [DEBUG] [StepExecutor] All parameters validated for step 3
[2025-11-04T09:15:36.192Z] [INFO] [StepExecutor] Step executed successfully [{"stepId":"step-3","stepOrder":3,"duration":2667,"retries":0}]
[2025-11-04T09:15:36.195Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:15:36.196Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:15:36.196Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:15:36.196Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":801,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T09:15:36.196Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":801}]
[2025-11-04T09:15:37.798Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":939,"compressionApplied":false}]
[2025-11-04T09:15:37.798Z] [DEBUG] [PlanValidator] Validation result [{"isValid":true,"progress":0.75,"shouldContinue":true,"shouldAdapt":false}]
[2025-11-04T09:15:37.799Z] [DEBUG] [ExecutionEngine] Meta-reasoning checkpoint [{"stepId":"step-3","isValid":true,"progress":0.75,"shouldContinue":true,"shouldAdapt":false}]
[2025-11-04T09:15:37.802Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:15:37.803Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:15:37.803Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:15:37.806Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":11973,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T09:15:37.806Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":11973}]
[2025-11-04T09:15:44.477Z] [ERROR] [Coordinator] Failed to analyze coordination [{"stepId":"step-4","error":"LLM call failed: 500 - {\"error\":\"Failed after 3 attempts. Last error: This request would exceed your organization's (02b85921-3b2f-4630-94ed-c5b150d15049) maximum usage increase rate for input tokens per minute. Your current limit is 50,000 input tokens per minute, and will increase to 120,000 at the next minute boundary. Please scale up your input tokens usage more gradually to stay within the acceleration limit. For details, refer to: https://docs.claude.com/en/api/rate-limits.\",\"type\":\"RetryError\"}"}]
[2025-11-04T09:15:44.478Z] [WARN] [StepExecutor] Placeholder values detected in parameters before execution [{"stepId":"step-4","stepOrder":4,"parameters":{"id":"EXTRACT_FROM_STEP_3","explosive_level":"high","material":"EXTRACT_FROM_STEP_3","facilityId":"EXTRACT_FROM_STEP_3","detection_time":"EXTRACT_FROM_STEP_3","hcl_level":"EXTRACT_FROM_STEP_3","so2_level":"EXTRACT_FROM_STEP_3","estimated_size":"EXTRACT_FROM_STEP_3","shipment_id":"EXTRACT_FROM_STEP_3"}}]
[2025-11-04T09:15:44.484Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:15:44.485Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:15:44.485Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:15:44.485Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":864,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T09:15:44.485Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":864}]
[2025-11-04T09:15:46.276Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":996,"compressionApplied":false}]
[2025-11-04T09:15:46.276Z] [DEBUG] [PlanValidator] Validation result [{"isValid":false,"progress":1,"shouldContinue":false,"shouldAdapt":false}]
[2025-11-04T09:15:46.277Z] [DEBUG] [ExecutionEngine] Meta-reasoning checkpoint [{"stepId":"step-4","isValid":false,"progress":1,"shouldContinue":false,"shouldAdapt":false}]
[2025-11-04T09:15:46.277Z] [INFO] [ExecutionEngine] Plan adaptation needed [{"reasoning":"The plan is no longer valid because the final step failed due to missing parameters. We have completed all the steps in the original plan, but the goal of 'List contaminants, get details for one with high explosive level, then update its status' has not been achieved. The current approach is not working since we encountered an error in the final step. At this point, we should replan the process to address the missing parameters and successfully complete the goal."}]
[2025-11-04T09:15:46.284Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:15:46.285Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:15:46.285Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:15:46.287Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":7830,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T09:15:46.289Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":7830}]
[2025-11-04T09:15:53.101Z] [ERROR] [ErrorHandler] Failed to get error decision [{"error":"LLM call failed: 500 - {\"error\":\"Failed after 3 attempts. Last error: This request would exceed your organization's (02b85921-3b2f-4630-94ed-c5b150d15049) maximum usage increase rate for input tokens per minute. Your current limit is 50,000 input tokens per minute, and will increase to 120,000 at the next minute boundary. Please scale up your input tokens usage more gradually to stay within the acceleration limit. For details, refer to: https://docs.claude.com/en/api/rate-limits.\",\"type\":\"RetryError\"}"}]
[2025-11-04T09:15:53.106Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:15:53.107Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:15:53.107Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:15:53.108Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":7420,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T09:15:53.109Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":7420}]
[2025-11-04T09:15:59.870Z] [ERROR] [QuestionGenerator] Failed to generate question [{"error":"LLM call failed: 500 - {\"error\":\"Failed after 3 attempts. Last error: This request would exceed your organization's (02b85921-3b2f-4630-94ed-c5b150d15049) maximum usage increase rate for input tokens per minute. Your current limit is 50,000 input tokens per minute, and will increase to 120,000 at the next minute boundary. Please scale up your input tokens usage more gradually to stay within the acceleration limit. For details, refer to: https://docs.claude.com/en/api/rate-limits.\",\"type\":\"RetryError\"}"}]
[2025-11-04T09:15:59.893Z] [INFO] [Executor Agent API] Saved execution version 1 [{"requestId":"demo-1762245101130-rmt2ca"}]
[2025-11-04T09:15:59.904Z] [INFO] [Executor Agent API] Execution completed [{"requestId":"demo-1762245101130-rmt2ca","overallSuccess":false,"stepsExecuted":4,"stepsSucceeded":3,"questionsAsked":0,"requiresFeedback":false}]
[2025-11-04T09:16:00.236Z] [INFO] [Executor Agent Versions API] Retrieved 1 versions [{"requestId":"demo-1762245101130-rmt2ca","versions":1}]
[2025-11-04T09:16:14.092Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T09:16:14.092Z] [INFO] Resolved API config for agent 'summary-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T09:16:14.093Z] [INFO] [BaseAgent] Initialized agent 'summary-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T09:16:14.094Z] [INFO] [Summary Agent API] Generating summary [{"requestId":"demo-1762245101130-rmt2ca","hasThoughts":true,"hasExecution":true}]
[2025-11-04T09:16:14.094Z] [DEBUG] [SummaryAgent] Generating summary [{"requestId":"demo-1762245101130-rmt2ca","thoughtsCount":1,"executionStepsCount":4,"executionSuccess":false}]
[2025-11-04T09:16:14.095Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"summary-agent","originalTokenCount":3076,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T09:16:14.095Z] [DEBUG] [BaseAgent] Calling LLM for agent 'summary-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":3076}]
[2025-11-04T09:16:17.546Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"summary-agent","responseLength":1848,"compressionApplied":false}]
[2025-11-04T09:16:17.549Z] [INFO] [SummaryAgent] Generated summary [{"requestId":"demo-1762245101130-rmt2ca","summaryLength":1848,"takeawaysCount":3}]
[2025-11-04T09:16:17.560Z] [INFO] [Summary Agent API] Saved summary version 1 [{"requestId":"demo-1762245101130-rmt2ca"}]
[2025-11-04T09:16:17.563Z] [INFO] [Summary Agent API] Summary generation completed [{"requestId":"demo-1762245101130-rmt2ca","summaryLength":1848,"takeawaysCount":3}]
[2025-11-04T10:48:46.406Z] [INFO] [Confidence Scorer API] Scoring confidence [{"requestId":"test-request-123","agentScoresCount":3}]
[2025-11-04T10:48:46.491Z] [INFO] [Confidence Scorer API] Confidence scoring completed [{"requestId":"test-request-123","overallConfidence":0.8000000000000002,"decision":"execute"}]
[2025-11-04T10:48:54.721Z] [INFO] [Confidence Scorer API] Scoring confidence [{"requestId":"test","agentScoresCount":0}]
[2025-11-04T10:48:54.722Z] [ERROR] [Confidence Scorer API] Error: ["Cannot read properties of undefined (reading 'includes')",{}]
[2025-11-04T10:48:55.944Z] [WARN] [Confidence Scorer API] Missing or invalid agentScores array [{"body":{"requestContext":{"requestId":"test"}}}]
[2025-11-04T10:49:11.405Z] [INFO] [Confidence Scorer API] Scoring confidence [{"requestId":"test-request-empty-chain","agentScoresCount":1}]
[2025-11-04T10:49:11.407Z] [INFO] [Confidence Scorer API] Confidence scoring completed [{"requestId":"test-request-empty-chain","overallConfidence":0.5,"decision":"rethink"}]
[2025-11-04T10:49:19.843Z] [INFO] [Confidence Scorer API] Scoring confidence [{"requestId":"test-execute","agentScoresCount":1}]
[2025-11-04T10:49:19.846Z] [INFO] [Confidence Scorer API] Confidence scoring completed [{"requestId":"test-execute","overallConfidence":0.9,"decision":"execute"}]
[2025-11-04T10:49:21.025Z] [INFO] [Confidence Scorer API] Scoring confidence [{"requestId":"test-review","agentScoresCount":1}]
[2025-11-04T10:49:21.028Z] [INFO] [Confidence Scorer API] Confidence scoring completed [{"requestId":"test-review","overallConfidence":0.65,"decision":"review"}]
[2025-11-04T10:49:22.881Z] [INFO] [Confidence Scorer API] Scoring confidence [{"requestId":"test-rethink","agentScoresCount":1}]
[2025-11-04T10:49:22.883Z] [INFO] [Confidence Scorer API] Confidence scoring completed [{"requestId":"test-rethink","overallConfidence":0.3,"decision":"escalate"}]
[2025-11-04T10:49:24.807Z] [INFO] [Confidence Scorer API] Scoring confidence [{"requestId":"test-escalate","agentScoresCount":1}]
[2025-11-04T10:49:24.811Z] [INFO] [Confidence Scorer API] Confidence scoring completed [{"requestId":"test-escalate","overallConfidence":0.1,"decision":"escalate"}]
[2025-11-04T11:02:16.593Z] [INFO] [Confidence Scorer API] Scoring confidence [{"requestId":"demo-1762245101130-rmt2ca","agentScoresCount":3}]
[2025-11-04T11:02:16.595Z] [INFO] [Confidence Scorer API] Confidence scoring completed [{"requestId":"demo-1762245101130-rmt2ca","overallConfidence":0.8000000000000002,"decision":"execute"}]
[2025-11-04T11:09:06.780Z] [ERROR] [Meta Agent API] Error: ["Agent 'meta-agent' not found or disabled",{}]
[2025-11-04T11:09:32.889Z] [ERROR] [Meta Agent API] Error: ["Agent 'meta-agent' not found or disabled",{}]
[2025-11-04T11:10:04.945Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T11:10:04.946Z] [INFO] Resolved API config for agent 'meta-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T11:10:04.946Z] [INFO] [BaseAgent] Initialized agent 'meta-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T11:10:04.949Z] [INFO] [Meta Agent API] Assessing reasoning quality [{"requestId":"test-meta-002","hasThoughts":true,"hasPlan":false,"hasCritique":false,"hasConfidenceScore":true}]
[2025-11-04T11:10:04.950Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"meta-agent","originalTokenCount":751,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T11:10:04.950Z] [DEBUG] [BaseAgent] Calling LLM for agent 'meta-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":751}]
[2025-11-04T11:10:06.881Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"meta-agent","responseLength":1077,"compressionApplied":false}]
[2025-11-04T11:10:06.929Z] [INFO] [Meta Agent API] Reasoning assessment completed [{"requestId":"test-meta-002","reasoningQuality":0.7,"shouldReplan":false,"shouldDeepenReasoning":false}]
[2025-11-04T11:10:20.618Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T11:10:20.618Z] [INFO] Resolved API config for agent 'meta-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T11:10:20.618Z] [INFO] [BaseAgent] Initialized agent 'meta-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T11:10:20.620Z] [INFO] [Meta Agent API] Assessing reasoning quality [{"requestId":"test-meta-003","hasThoughts":true,"hasPlan":false,"hasCritique":false,"hasConfidenceScore":true}]
[2025-11-04T11:10:20.620Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"meta-agent","originalTokenCount":712,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T11:10:20.620Z] [DEBUG] [BaseAgent] Calling LLM for agent 'meta-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":712}]
[2025-11-04T11:10:22.110Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"meta-agent","responseLength":763,"compressionApplied":false}]
[2025-11-04T11:10:22.120Z] [INFO] [Meta Agent API] Reasoning assessment completed [{"requestId":"test-meta-003","reasoningQuality":0.3,"shouldReplan":true,"shouldDeepenReasoning":true}]
[2025-11-04T11:10:41.146Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T11:10:41.146Z] [INFO] Resolved API config for agent 'meta-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T11:10:41.146Z] [INFO] [BaseAgent] Initialized agent 'meta-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T11:10:41.163Z] [INFO] [Meta Agent API] Assessing reasoning quality [{"requestId":"test-meta-004","hasThoughts":true,"hasPlan":true,"hasCritique":true,"hasConfidenceScore":true}]
[2025-11-04T11:10:41.164Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"meta-agent","originalTokenCount":852,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T11:10:41.164Z] [DEBUG] [BaseAgent] Calling LLM for agent 'meta-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":852}]
[2025-11-04T11:10:42.893Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"meta-agent","responseLength":894,"compressionApplied":false}]
[2025-11-04T11:10:42.903Z] [INFO] [Meta Agent API] Reasoning assessment completed [{"requestId":"test-meta-004","reasoningQuality":0.8,"shouldReplan":false,"shouldDeepenReasoning":false}]
[2025-11-04T11:13:26.287Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T11:13:26.287Z] [INFO] Resolved API config for agent 'meta-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T11:13:26.287Z] [INFO] [BaseAgent] Initialized agent 'meta-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T11:13:26.289Z] [INFO] [Meta Agent API] Assessing reasoning quality [{"requestId":"demo-1762245101130-rmt2ca","hasThoughts":false,"hasPlan":false,"hasCritique":false,"hasConfidenceScore":true}]
[2025-11-04T11:13:26.289Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"meta-agent","originalTokenCount":653,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T11:13:26.289Z] [DEBUG] [BaseAgent] Calling LLM for agent 'meta-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":653}]
[2025-11-04T11:13:27.957Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"meta-agent","responseLength":874,"compressionApplied":false}]
[2025-11-04T11:13:27.963Z] [INFO] [Meta Agent API] Reasoning assessment completed [{"requestId":"demo-1762245101130-rmt2ca","reasoningQuality":0.6,"shouldReplan":false,"shouldDeepenReasoning":false}]
[2025-11-04T11:26:12.486Z] [INFO] [Confidence Scorer API] Scoring confidence [{"requestId":"test-enhanced-001","agentScoresCount":3}]
[2025-11-04T11:26:12.490Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T11:26:12.490Z] [WARN] Agent config 'confidence-scorer' found but no API key/URL available for provider 'anthropic' [{"agentId":"confidence-scorer","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T11:26:12.490Z] [WARN] [ConfidenceScorer] Failed to initialize LLM agent: Failed to resolve API config for agent 'confidence-scorer'. Please check your API keys in Settings.
[2025-11-04T11:26:12.492Z] [WARN] [ConfidenceScorer] LLM reasoning failed: Agent not initialized - call initialize() first, using fallback
[2025-11-04T11:26:12.495Z] [INFO] [Confidence Scorer API] Confidence scoring completed [{"requestId":"test-enhanced-001","overallConfidence":0.7666666666666666,"decision":"review"}]
[2025-11-04T11:26:35.510Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T11:26:35.511Z] [INFO] Resolved API config for agent 'meta-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T11:26:35.511Z] [INFO] [BaseAgent] Initialized agent 'meta-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T11:26:35.513Z] [INFO] [Meta Agent API] Assessing reasoning quality [{"requestId":"test-enhanced-002","hasThoughts":true,"hasPlan":true,"hasCritique":true,"hasConfidenceScore":true}]
[2025-11-04T11:26:35.514Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"meta-agent","originalTokenCount":1819,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T11:26:35.514Z] [DEBUG] [BaseAgent] Calling LLM for agent 'meta-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":1819}]
[2025-11-04T11:26:39.162Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"meta-agent","responseLength":2143,"compressionApplied":false}]
[2025-11-04T11:26:39.169Z] [INFO] [Meta Agent API] Reasoning assessment completed [{"requestId":"test-enhanced-002","reasoningQuality":0.75,"shouldReplan":true,"shouldDeepenReasoning":true}]
[2025-11-04T11:27:50.491Z] [INFO] [Complexity Detector] Starting detection [{"query":"analyze source shipment risks for license plate AB","requestId":"demo-1762245101388-jnfq6a","agentId":"complexity-detector","hasApiConfig":false}]
[2025-11-04T11:27:50.513Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T11:27:50.513Z] [INFO] Resolved API config for agent 'complexity-detector' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T11:27:50.513Z] [DEBUG] [Complexity Detector] Trying strategy: semantic
[2025-11-04T11:27:50.513Z] [DEBUG] [Semantic Strategy] Starting semantic detection for query: "analyze source shipment risks for license plate AB..."
[2025-11-04T11:27:55.719Z] [DEBUG] [Semantic Strategy] No semantic match found [{"bestSimilarity":"0.000","threshold":0.75,"resultsCount":0}]
[2025-11-04T11:27:55.722Z] [WARN] [Semantic Strategy] Semantic detection failed [{"error":"No semantic match found (best similarity: 0.000, threshold: 0.75)","query":"analyze source shipment risks for license plate AB"}]
[2025-11-04T11:27:55.722Z] [DEBUG] [Complexity Detector] Strategy semantic failed: ["No semantic match found (best similarity: 0.000, threshold: 0.75)"]
[2025-11-04T11:27:55.722Z] [DEBUG] [Complexity Detector] Trying strategy: keyword
[2025-11-04T11:27:55.723Z] [DEBUG] [Keyword Strategy] Starting keyword detection for query: "analyze source shipment risks for license plate AB..."
[2025-11-04T11:27:55.724Z] [INFO] [Keyword Strategy] Detection complete [{"score":"0.327","passes":1,"keywordsCount":3}]
[2025-11-04T11:27:55.725Z] [DEBUG] [Complexity Detector] Keyword strategy completed, score: 0.327
[2025-11-04T11:27:55.725Z] [DEBUG] [Complexity Detector] LLM strategy check [{"hasStrategy":true,"canUse":true,"enabled":true,"hasApiConfig":true,"semanticResult":false,"keywordResult":true}]
[2025-11-04T11:27:55.725Z] [DEBUG] [Complexity Detector] Semantic failed but keyword succeeded - treating as ambiguous, running LLM
[2025-11-04T11:27:55.725Z] [DEBUG] [Complexity Detector] Trying LLM strategy
[2025-11-04T11:27:55.726Z] [DEBUG] [LLM Strategy] Starting LLM analysis for query: "analyze source shipment risks for license plate AB..."
[2025-11-04T11:27:55.726Z] [DEBUG] [LLM Strategy] Calling AI server [{"modelId":"claude-3-haiku-20240307","provider":"api"}]
[2025-11-04T11:27:55.744Z] [ERROR] [LLM Strategy] LLM analysis failed [{"error":"AI server error: 400 - {\"error\":\"Unknown model: claude-3-haiku-20240307. Please provide a provider or use a known model ID.\"}","query":"analyze source shipment risks for license plate AB"}]
[2025-11-04T11:27:55.744Z] [DEBUG] [Complexity Detector] LLM strategy failed: ["Failed to analyze complexity with LLM: AI server error: 400 - {\"error\":\"Unknown model: claude-3-haiku-20240307. Please provide a provider or use a known model ID.\"}"]
[2025-11-04T11:27:55.761Z] [INFO] [Complexity Detector] Detection complete [{"method":"keyword","score":"0.327","passes":1,"requestId":"demo-1762245101388-jnfq6a"}]
[2025-11-04T11:27:55.761Z] [INFO] [Complexity Detector API] Detection completed [{"requestId":"demo-1762245101388-jnfq6a","method":"keyword","score":"0.327"}]
[2025-11-04T11:27:59.671Z] [INFO] [Confidence Scorer API] Scoring confidence [{"requestId":"test-final-001","agentScoresCount":3}]
[2025-11-04T11:27:59.677Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T11:27:59.677Z] [WARN] Agent config 'confidence-scorer' found but no API key/URL available for provider 'anthropic' [{"agentId":"confidence-scorer","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T11:27:59.677Z] [WARN] [ConfidenceScorer] Failed to initialize LLM agent: Failed to resolve API config for agent 'confidence-scorer'. Please check your API keys in Settings.
[2025-11-04T11:27:59.678Z] [WARN] [ConfidenceScorer] LLM reasoning failed: Agent not initialized - call initialize() first, using fallback
[2025-11-04T11:27:59.684Z] [INFO] [Confidence Scorer API] Confidence scoring completed [{"requestId":"test-final-001","overallConfidence":0.8766666666666666,"decision":"execute"}]
[2025-11-04T11:28:26.635Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T11:28:26.636Z] [INFO] Resolved API config for agent 'meta-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T11:28:26.636Z] [INFO] [BaseAgent] Initialized agent 'meta-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T11:28:26.638Z] [INFO] [Meta Agent API] Assessing reasoning quality [{"requestId":"test-ui-001","hasThoughts":false,"hasPlan":false,"hasCritique":false,"hasConfidenceScore":true}]
[2025-11-04T11:28:26.641Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"meta-agent","originalTokenCount":1371,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T11:28:26.641Z] [DEBUG] [BaseAgent] Calling LLM for agent 'meta-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":1371}]
[2025-11-04T11:28:30.529Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"meta-agent","responseLength":1970,"compressionApplied":false}]
[2025-11-04T11:28:30.548Z] [INFO] [Meta Agent API] Reasoning assessment completed [{"requestId":"test-ui-001","reasoningQuality":0.6,"shouldReplan":true,"shouldDeepenReasoning":true}]
[2025-11-04T11:29:56.328Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T11:29:56.328Z] [INFO] Resolved API config for agent 'thought-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T11:29:56.328Z] [INFO] [BaseAgent] Initialized agent 'thought-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T11:29:56.330Z] [INFO] [Thought Agent API] Generating thoughts [{"requestId":"demo-1762245101388-jnfq6a","queryLength":55}]
[2025-11-04T11:29:56.364Z] [DEBUG] [ThoughtAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T11:30:00.165Z] [DEBUG] [ThoughtAgent] Found similar examples [{"count":0,"similarities":[]}]
[2025-11-04T11:30:00.166Z] [DEBUG] [ThoughtAgent] Generating thought for query [{"requestId":"demo-1762245101388-jnfq6a","queryLength":55,"hasComplexityScore":false,"toolsCount":28,"similarExamplesCount":0}]
[2025-11-04T11:30:00.168Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"thought-agent","originalTokenCount":4353,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T11:30:00.168Z] [DEBUG] [BaseAgent] Calling LLM for agent 'thought-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":4353}]
[2025-11-04T11:30:02.480Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"thought-agent","responseLength":28970,"compressionApplied":false}]
[2025-11-04T11:30:02.547Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"review-shipment-inspection","hasKeywordMatch":true,"commonWordsCount":1}]
[2025-11-04T11:30:02.547Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"analyze-facility-with-risks","hasKeywordMatch":true,"commonWordsCount":3}]
[2025-11-04T11:30:02.548Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"analyze-source-shipment-risks","hasKeywordMatch":true,"commonWordsCount":2}]
[2025-11-04T11:30:02.548Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"contaminant-to-shipment-analysis","hasKeywordMatch":true,"commonWordsCount":3}]
[2025-11-04T11:30:02.548Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"assess-facility-shipment-risks","hasKeywordMatch":false,"commonWordsCount":3}]
[2025-11-04T11:30:02.548Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"assess-source-risk-profile","hasKeywordMatch":false,"commonWordsCount":2}]
[2025-11-04T11:30:02.549Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"analyze-facilities-by-location","hasKeywordMatch":true,"commonWordsCount":0}]
[2025-11-04T11:30:02.552Z] [DEBUG] [ThoughtAgent] Used semantic matching to find prompts [{"promptsFound":["review-shipment-inspection","analyze-facility-with-risks","analyze-source-shipment-risks","contaminant-to-shipment-analysis","assess-facility-shipment-risks","assess-source-risk-profile","analyze-facilities-by-location"],"userQuery":"analyze source shipment risks for license plate ABC-123","hadToolsSection":false}]
[2025-11-04T11:30:02.564Z] [INFO] [ThoughtAgent] Generated thought [{"requestId":"demo-1762245101388-jnfq6a","approaches":1,"confidence":"0.70","similarExamplesUsed":0}]
[2025-11-04T11:30:02.719Z] [INFO] [Thought Agent API] Thought generation completed [{"requestId":"demo-1762245101388-jnfq6a","thoughtsCount":1}]
[2025-11-04T11:30:36.576Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T11:30:36.576Z] [INFO] Resolved API config for agent 'planner-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T11:30:36.576Z] [INFO] [BaseAgent] Initialized agent 'planner-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T11:30:36.582Z] [INFO] [Planner Agent API] Generating plan [{"requestId":"demo-1762245101388-jnfq6a","thoughtsCount":1,"queryLength":55,"planVersion":1,"hasRecommendedPrompts":false}]
[2025-11-04T11:30:36.596Z] [DEBUG] [PlannerAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T11:30:40.158Z] [DEBUG] [PlannerAgent] Found similar examples [{"count":0,"similarities":[]}]
[2025-11-04T11:30:40.169Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T11:30:40.169Z] [INFO] Resolved API config for agent 'tool-memory-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T11:30:40.170Z] [INFO] [BaseAgent] Initialized agent 'tool-memory-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T11:30:40.187Z] [DEBUG] [PlannerAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T11:30:41.998Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196297671-vyqt5m: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:30:42.320Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196295848-jw1tuo: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:30:42.580Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196298270-p1lred: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:30:42.875Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196298474-p4rgh: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:30:43.179Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196297145-d4noj: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:30:43.180Z] [DEBUG] [ToolMemoryAgent] Found similar tool usage patterns [{"count":5,"similarities":["0.74","0.71","0.70","0.69","0.66"]}]
[2025-11-04T11:30:43.182Z] [DEBUG] [ToolMemoryAgent] Generating tool recommendations [{"requestId":"demo-1762245101388-jnfq6a","queryLength":55,"hasComplexityScore":false,"toolsCount":28,"memoryMatchesCount":5}]
[2025-11-04T11:30:43.187Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"tool-memory-agent","originalTokenCount":5377,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T11:30:43.188Z] [DEBUG] [BaseAgent] Calling LLM for agent 'tool-memory-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":5377}]
[2025-11-04T11:30:47.424Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"tool-memory-agent","responseLength":1651,"compressionApplied":false}]
[2025-11-04T11:30:47.436Z] [INFO] [ToolMemoryAgent] Generated tool recommendations [{"requestId":"demo-1762245101388-jnfq6a","toolsRecommended":2,"toolChainsCount":1,"memoryMatchesCount":5}]
[2025-11-04T11:30:47.439Z] [DEBUG] [PlannerAgent] Fetched tool recommendations [{"toolsRecommended":2}]
[2025-11-04T11:30:47.453Z] [DEBUG] [PlannerAgent] Generating plan [{"requestId":"demo-1762245101388-jnfq6a","thoughtsCount":1,"toolsCount":28,"similarExamplesCount":0}]
[2025-11-04T11:30:47.460Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"planner-agent","originalTokenCount":23566,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T11:30:47.460Z] [DEBUG] [BaseAgent] Calling LLM for agent 'planner-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":23566}]
[2025-11-04T11:30:52.324Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"planner-agent","responseLength":1288,"compressionApplied":false}]
[2025-11-04T11:30:52.329Z] [INFO] [PlannerAgent] Attempting to parse JSON response [{"responseLength":1288,"responsePreview":"{\n  \"goal\": \"Analyze shipment risks for license plate ABC-123\",\n  \"steps\": [\n    {\n      \"order\": 1,\n      \"description\": \"Retrieve all shipments with license plate ABC-123\",\n      \"action\": \"list_shipments\",\n      \"parameters\": {\n        \"license_plate\": \"ABC-123\"\n      },\n      \"expectedOutcome\": \"Get a list of shipments with the given license plate\",\n      \"dependencies\": []\n    },\n    {\n      \"order\": 2,\n      \"description\": \"Analyze the risk profile for the retrieved shipments\",\n      \"acti"}]
[2025-11-04T11:30:52.330Z] [DEBUG] [PlannerAgent] Extracted JSON string [{"jsonLength":1110,"jsonPreview":"{\n  \"goal\": \"Analyze shipment risks for license plate ABC-123\",\n  \"steps\": [\n    {\n      \"order\": 1,\n      \"description\": \"Retrieve all shipments with license plate ABC-123\",\n      \"action\": \"list_shi"}]
[2025-11-04T11:30:52.331Z] [DEBUG] [PlannerAgent] Successfully parsed JSON plan [{"stepsCount":2}]
[2025-11-04T11:30:52.334Z] [INFO] [PlannerAgent] Generated plan [{"requestId":"demo-1762245101388-jnfq6a","stepsCount":2,"confidence":"0.90","complexity":"0.70"}]
[2025-11-04T11:30:52.355Z] [INFO] [Planner Agent API] Plan generation completed [{"requestId":"demo-1762245101388-jnfq6a","stepsCount":2,"confidence":"0.90"}]
[2025-11-04T11:31:17.456Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T11:31:17.457Z] [INFO] Resolved API config for agent 'critic-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T11:31:17.457Z] [INFO] [BaseAgent] Initialized agent 'critic-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T11:31:17.464Z] [INFO] [Critic Agent API] Generating critique [{"requestId":"demo-1762245101388-jnfq6a","planId":"plan-1762255852331","stepsCount":2,"hasUserFeedback":false,"hasRefinedQuery":false}]
[2025-11-04T11:31:17.481Z] [DEBUG] [CriticAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T11:31:17.483Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T11:31:17.484Z] [INFO] Resolved API config for agent 'tool-memory-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T11:31:17.484Z] [INFO] [BaseAgent] Initialized agent 'tool-memory-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T11:31:17.487Z] [DEBUG] [CriticAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T11:31:19.536Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196297671-vyqt5m: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:31:19.822Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196295848-jw1tuo: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:31:20.079Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196298270-p1lred: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:31:20.335Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196298474-p4rgh: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:31:20.593Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196297145-d4noj: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:31:20.595Z] [DEBUG] [ToolMemoryAgent] Found similar tool usage patterns [{"count":5,"similarities":["0.74","0.71","0.70","0.69","0.66"]}]
[2025-11-04T11:31:20.599Z] [DEBUG] [ToolMemoryAgent] Generating tool recommendations [{"requestId":"demo-1762245101388-jnfq6a","queryLength":55,"hasComplexityScore":false,"toolsCount":28,"memoryMatchesCount":5}]
[2025-11-04T11:31:20.603Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"tool-memory-agent","originalTokenCount":5377,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T11:31:20.603Z] [DEBUG] [BaseAgent] Calling LLM for agent 'tool-memory-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":5377}]
[2025-11-04T11:31:24.316Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"tool-memory-agent","responseLength":1830,"compressionApplied":false}]
[2025-11-04T11:31:24.320Z] [INFO] [ToolMemoryAgent] Generated tool recommendations [{"requestId":"demo-1762245101388-jnfq6a","toolsRecommended":2,"toolChainsCount":1,"memoryMatchesCount":5}]
[2025-11-04T11:31:24.320Z] [DEBUG] [CriticAgent] Fetched tool recommendations [{"toolsRecommended":2}]
[2025-11-04T11:31:24.321Z] [DEBUG] [CriticAgent] Validation iteration 1/5 [{"requestId":"demo-1762245101388-jnfq6a"}]
[2025-11-04T11:31:24.343Z] [INFO] [CriticAgent] All parameters validated [{"requestId":"demo-1762245101388-jnfq6a","iterations":1}]
[2025-11-04T11:31:24.345Z] [DEBUG] [CriticAgent] Critiquing plan [{"requestId":"demo-1762245101388-jnfq6a","planId":"plan-1762255852331","stepsCount":2,"hasUserFeedback":false,"validationIterations":1}]
[2025-11-04T11:31:24.346Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"critic-agent","originalTokenCount":5339,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T11:31:24.347Z] [DEBUG] [BaseAgent] Calling LLM for agent 'critic-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":5339}]
[2025-11-04T11:31:29.741Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"critic-agent","responseLength":1731,"compressionApplied":false}]
[2025-11-04T11:31:29.743Z] [INFO] [CriticAgent] Attempting to parse JSON response [{"responseLength":1731,"responsePreview":"{\n  \"overallScore\": 0.9,\n  \"feasibilityScore\": 0.95,\n  \"correctnessScore\": 0.9,\n  \"efficiencyScore\": 0.85,\n  \"safetyScore\": 0.95,\n  \"strengths\": [\n    \"Clear goal to analyze shipment risks for a specific license plate\",\n    \"Logical sequence of retrieving relevant shipments and then analyzing their risk profiles\"\n  ],\n  \"issues\": [\n    {\n      \"severity\": \"low\",\n      \"category\": \"completeness\",\n      \"description\": \"No time range specified for the shipment retrieval\",\n      \"suggestion\": \"Consi"}]
[2025-11-04T11:31:29.743Z] [DEBUG] [CriticAgent] Extracted JSON string [{"jsonLength":1555,"jsonPreview":"{\n  \"overallScore\": 0.9,\n  \"feasibilityScore\": 0.95,\n  \"correctnessScore\": 0.9,\n  \"efficiencyScore\": 0.85,\n  \"safetyScore\": 0.95,\n  \"strengths\": [\n    \"Clear goal to analyze shipment risks for a speci"}]
[2025-11-04T11:31:29.744Z] [DEBUG] [CriticAgent] Score parsing [{"rawOverallScore":0.9,"clampedOverallScore":0.9,"rawFeasibility":0.95,"rawCorrectness":0.9,"rawEfficiency":0.85,"rawSafety":0.95}]
[2025-11-04T11:31:29.744Z] [DEBUG] [CriticAgent] Successfully parsed JSON critique [{"recommendation":"approve","issuesCount":1}]
[2025-11-04T11:31:29.744Z] [INFO] [CriticAgent] All parameters validated, confidence boosted to 95% [{"requestId":"demo-1762245101388-jnfq6a"}]
[2025-11-04T11:31:29.744Z] [INFO] [CriticAgent] Plan critiqued [{"requestId":"demo-1762245101388-jnfq6a","planId":"plan-1762255852331","overallScore":"0.95","recommendation":"approve","issuesCount":1,"questionsCount":1,"validationIterations":1,"missingParamsAfterValidation":0}]
[2025-11-04T11:31:29.757Z] [INFO] [Critic Agent API] Saved critique version 1 [{"requestId":"demo-1762245101388-jnfq6a"}]
[2025-11-04T11:31:29.762Z] [INFO] [Critic Agent API] Critique generation completed [{"requestId":"demo-1762245101388-jnfq6a","overallScore":"0.95","recommendation":"approve","issuesCount":1,"questionsCount":1}]
[2025-11-04T11:31:30.144Z] [INFO] [Critic Agent Versions API] Retrieved 1 versions [{"requestId":"demo-1762245101388-jnfq6a","versions":1}]
[2025-11-04T11:31:42.346Z] [INFO] [Confidence Scorer API] Scoring confidence [{"requestId":"demo-1762245101388-jnfq6a","agentScoresCount":3}]
[2025-11-04T11:31:42.348Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T11:31:42.348Z] [WARN] Agent config 'confidence-scorer' found but no API key/URL available for provider 'anthropic' [{"agentId":"confidence-scorer","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T11:31:42.349Z] [WARN] [ConfidenceScorer] Failed to initialize LLM agent: Failed to resolve API config for agent 'confidence-scorer'. Please check your API keys in Settings.
[2025-11-04T11:31:42.349Z] [WARN] [ConfidenceScorer] LLM reasoning failed: Agent not initialized - call initialize() first, using fallback
[2025-11-04T11:31:42.351Z] [INFO] [Confidence Scorer API] Confidence scoring completed [{"requestId":"demo-1762245101388-jnfq6a","overallConfidence":0.8000000000000002,"decision":"review"}]
[2025-11-04T11:31:55.050Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T11:31:55.051Z] [INFO] Resolved API config for agent 'meta-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T11:31:55.051Z] [INFO] [BaseAgent] Initialized agent 'meta-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T11:31:55.052Z] [INFO] [Meta Agent API] Assessing reasoning quality [{"requestId":"demo-1762245101388-jnfq6a","hasThoughts":false,"hasPlan":false,"hasCritique":false,"hasConfidenceScore":true}]
[2025-11-04T11:31:55.053Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"meta-agent","originalTokenCount":1284,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T11:31:55.053Z] [DEBUG] [BaseAgent] Calling LLM for agent 'meta-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":1284}]
[2025-11-04T11:31:58.670Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"meta-agent","responseLength":2131,"compressionApplied":false}]
[2025-11-04T11:31:58.681Z] [INFO] [Meta Agent API] Reasoning assessment completed [{"requestId":"demo-1762245101388-jnfq6a","reasoningQuality":0.6,"shouldReplan":true,"shouldDeepenReasoning":true}]
[2025-11-04T11:32:32.360Z] [INFO] [Confidence Scorer API] Scoring confidence [{"requestId":"test-error-check","agentScoresCount":1}]
[2025-11-04T11:32:32.364Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T11:32:32.364Z] [WARN] Agent config 'confidence-scorer' found but no API key/URL available for provider 'anthropic' [{"agentId":"confidence-scorer","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T11:32:32.364Z] [WARN] [ConfidenceScorer] Failed to initialize LLM agent: Failed to resolve API config for agent 'confidence-scorer'. Please check your API keys in Settings.
[2025-11-04T11:32:32.365Z] [WARN] [ConfidenceScorer] LLM reasoning failed: Agent not initialized - call initialize() first, using fallback
[2025-11-04T11:32:32.370Z] [INFO] [Confidence Scorer API] Confidence scoring completed [{"requestId":"test-error-check","overallConfidence":0.8,"decision":"execute"}]
[2025-11-04T11:32:33.339Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T11:32:33.339Z] [INFO] Resolved API config for agent 'meta-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T11:32:33.339Z] [INFO] [BaseAgent] Initialized agent 'meta-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T11:32:33.341Z] [INFO] [Meta Agent API] Assessing reasoning quality [{"requestId":"test-error-meta","hasThoughts":false,"hasPlan":false,"hasCritique":false,"hasConfidenceScore":false}]
[2025-11-04T11:32:33.342Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"meta-agent","originalTokenCount":1222,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T11:32:33.342Z] [DEBUG] [BaseAgent] Calling LLM for agent 'meta-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":1222}]
[2025-11-04T11:32:36.535Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"meta-agent","responseLength":1810,"compressionApplied":false}]
[2025-11-04T11:32:36.549Z] [INFO] [Meta Agent API] Reasoning assessment completed [{"requestId":"test-error-meta","reasoningQuality":0.7,"shouldReplan":true,"shouldDeepenReasoning":true}]
[2025-11-04T11:34:17.295Z] [INFO] [Confidence Scorer API] Scoring confidence [{"requestId":"test-final-fix","agentScoresCount":1}]
[2025-11-04T11:34:17.297Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T11:34:17.297Z] [WARN] Agent config 'confidence-scorer' found but no API key/URL available for provider 'anthropic' [{"agentId":"confidence-scorer","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T11:34:17.297Z] [WARN] [ConfidenceScorer] Failed to initialize LLM agent: Failed to resolve API config for agent 'confidence-scorer'. Please check your API keys in Settings.
[2025-11-04T11:34:17.321Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T11:34:17.321Z] [WARN] Agent config 'confidence-scorer' found but no API key/URL available for provider 'anthropic' [{"agentId":"confidence-scorer","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T11:34:17.321Z] [WARN] [ConfidenceScorer] LLM reasoning failed: Failed to resolve API config for agent 'confidence-scorer'. Please check your API keys in Settings., using fallback
[2025-11-04T11:34:17.331Z] [INFO] [Confidence Scorer API] Confidence scoring completed [{"requestId":"test-final-fix","overallConfidence":0.8,"decision":"execute"}]
[2025-11-04T11:34:22.987Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T11:34:22.987Z] [INFO] Resolved API config for agent 'meta-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T11:34:22.987Z] [INFO] [BaseAgent] Initialized agent 'meta-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T11:34:22.988Z] [INFO] [Meta Agent API] Assessing reasoning quality [{"requestId":"test-final-meta","hasThoughts":false,"hasPlan":false,"hasCritique":false,"hasConfidenceScore":true}]
[2025-11-04T11:34:22.989Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"meta-agent","originalTokenCount":1276,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T11:34:22.989Z] [DEBUG] [BaseAgent] Calling LLM for agent 'meta-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":1276}]
[2025-11-04T11:34:26.612Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"meta-agent","responseLength":1912,"compressionApplied":false}]
[2025-11-04T11:34:26.620Z] [INFO] [Meta Agent API] Reasoning assessment completed [{"requestId":"test-final-meta","reasoningQuality":0.6,"shouldReplan":true,"shouldDeepenReasoning":true}]
[2025-11-04T11:39:36.810Z] [INFO] [Confidence Scorer API] Scoring confidence [{"requestId":"verify-fix","agentScoresCount":1}]
[2025-11-04T11:39:36.813Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T11:39:36.813Z] [WARN] Agent config 'confidence-scorer' found but no API key/URL available for provider 'anthropic' [{"agentId":"confidence-scorer","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T11:39:36.814Z] [WARN] [ConfidenceScorer] Failed to initialize LLM agent: Failed to resolve API config for agent 'confidence-scorer'. Please check your API keys in Settings.
[2025-11-04T11:39:36.815Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T11:39:36.815Z] [WARN] Agent config 'confidence-scorer' found but no API key/URL available for provider 'anthropic' [{"agentId":"confidence-scorer","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T11:39:36.816Z] [WARN] [ConfidenceScorer] LLM reasoning failed: Failed to resolve API config for agent 'confidence-scorer'. Please check your API keys in Settings., using fallback
[2025-11-04T11:39:36.845Z] [INFO] [Confidence Scorer API] Confidence scoring completed [{"requestId":"verify-fix","overallConfidence":0.8,"decision":"execute"}]
[2025-11-04T11:53:16.994Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T11:53:16.994Z] [INFO] Resolved API config for agent 'meta-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T11:53:16.995Z] [INFO] [BaseAgent] Initialized agent 'meta-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T11:53:17.025Z] [INFO] [Meta Agent API] Assessing reasoning quality [{"requestId":"test-enhanced-meta","hasThoughts":true,"hasPlan":true,"hasCritique":true,"hasConfidenceScore":true}]
[2025-11-04T11:53:17.026Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"meta-agent","originalTokenCount":3024,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T11:53:17.026Z] [DEBUG] [BaseAgent] Calling LLM for agent 'meta-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":3024}]
[2025-11-04T11:53:21.841Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"meta-agent","responseLength":2336,"compressionApplied":false}]
[2025-11-04T11:53:21.859Z] [INFO] [Meta Agent API] Reasoning assessment completed [{"requestId":"test-enhanced-meta","reasoningQuality":0.75,"shouldReplan":true,"shouldDeepenReasoning":true}]
[2025-11-04T11:55:21.209Z] [INFO] [Confidence Scorer API] Scoring confidence [{"requestId":"demo-1762245101388-jnfq6a","agentScoresCount":3}]
[2025-11-04T11:55:21.212Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T11:55:21.212Z] [WARN] Agent config 'confidence-scorer' found but no API key/URL available for provider 'anthropic' [{"agentId":"confidence-scorer","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T11:55:21.212Z] [WARN] [ConfidenceScorer] Failed to initialize LLM agent: Failed to resolve API config for agent 'confidence-scorer'. Please check your API keys in Settings.
[2025-11-04T11:55:21.215Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T11:55:21.215Z] [WARN] Agent config 'confidence-scorer' found but no API key/URL available for provider 'anthropic' [{"agentId":"confidence-scorer","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T11:55:21.215Z] [WARN] [ConfidenceScorer] LLM reasoning failed: Failed to resolve API config for agent 'confidence-scorer'. Please check your API keys in Settings., using fallback
[2025-11-04T11:55:21.219Z] [INFO] [Confidence Scorer API] Confidence scoring completed [{"requestId":"demo-1762245101388-jnfq6a","overallConfidence":0.8000000000000002,"decision":"review"}]
[2025-11-04T11:55:41.594Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T11:55:41.594Z] [INFO] Resolved API config for agent 'planner-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T11:55:41.594Z] [INFO] [BaseAgent] Initialized agent 'planner-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T11:55:41.616Z] [INFO] [Planner Agent API] Generating plan [{"requestId":"demo-1762245101130-rmt2ca","thoughtsCount":1,"queryLength":88,"planVersion":3,"hasRecommendedPrompts":false}]
[2025-11-04T11:55:41.634Z] [DEBUG] [PlannerAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T11:55:45.985Z] [DEBUG] [PlannerAgent] Found similar examples [{"count":0,"similarities":[]}]
[2025-11-04T11:55:45.992Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T11:55:45.993Z] [INFO] Resolved API config for agent 'tool-memory-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T11:55:45.993Z] [INFO] [BaseAgent] Initialized agent 'tool-memory-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T11:55:46.016Z] [DEBUG] [PlannerAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T11:55:48.947Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196299074-sx5b2p: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:55:49.233Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196291303-ecdxf: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:55:49.529Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196290985-lv8uam: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:55:49.844Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196290768-s2r9uc: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:55:50.110Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196297982-w3p6nl: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:55:50.111Z] [DEBUG] [ToolMemoryAgent] Found similar tool usage patterns [{"count":5,"similarities":["0.79","0.74","0.73","0.70","0.70"]}]
[2025-11-04T11:55:50.113Z] [DEBUG] [ToolMemoryAgent] Generating tool recommendations [{"requestId":"demo-1762245101130-rmt2ca","queryLength":88,"hasComplexityScore":false,"toolsCount":28,"memoryMatchesCount":5}]
[2025-11-04T11:55:50.116Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"tool-memory-agent","originalTokenCount":5383,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T11:55:50.117Z] [DEBUG] [BaseAgent] Calling LLM for agent 'tool-memory-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":5383}]
[2025-11-04T11:55:54.735Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"tool-memory-agent","responseLength":2068,"compressionApplied":false}]
[2025-11-04T11:55:54.742Z] [INFO] [ToolMemoryAgent] Generated tool recommendations [{"requestId":"demo-1762245101130-rmt2ca","toolsRecommended":3,"toolChainsCount":1,"memoryMatchesCount":5}]
[2025-11-04T11:55:54.743Z] [DEBUG] [PlannerAgent] Fetched tool recommendations [{"toolsRecommended":3}]
[2025-11-04T11:55:54.751Z] [DEBUG] [PlannerAgent] Generating plan [{"requestId":"demo-1762245101130-rmt2ca","thoughtsCount":1,"toolsCount":28,"similarExamplesCount":0}]
[2025-11-04T11:55:54.757Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"planner-agent","originalTokenCount":13011,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T11:55:54.758Z] [DEBUG] [BaseAgent] Calling LLM for agent 'planner-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":13011}]
[2025-11-04T11:56:01.313Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"planner-agent","responseLength":2753,"compressionApplied":false}]
[2025-11-04T11:56:01.316Z] [INFO] [PlannerAgent] Attempting to parse JSON response [{"responseLength":2753,"responsePreview":"Here is a detailed action plan to address the user's request:\n\n{\n  \"goal\": \"List contaminants, get details for one with high explosive level, then update its status\",\n  \"steps\": [\n    {\n      \"order\": 1,\n      \"description\": \"List all contaminants and filter for high explosive levels\",\n      \"action\": \"list_contaminants\",\n      \"parameters\": {\n        \"explosive_level\": \"high\"\n      },\n      \"expectedOutcome\": \"Retrieve a list of contaminants with high explosive levels\",\n      \"dependencies\": []"}]
[2025-11-04T11:56:01.317Z] [DEBUG] [PlannerAgent] Extracted JSON string [{"jsonLength":1519,"jsonPreview":"{\n  \"goal\": \"List contaminants, get details for one with high explosive level, then update its status\",\n  \"steps\": [\n    {\n      \"order\": 1,\n      \"description\": \"List all contaminants and filter for "}]
[2025-11-04T11:56:01.318Z] [DEBUG] [PlannerAgent] Successfully parsed JSON plan [{"stepsCount":3}]
[2025-11-04T11:56:01.321Z] [WARN] [PlannerAgent] Plan validation issues [{"requestId":"demo-1762245101130-rmt2ca","warnings":["Step 1 (list_contaminants): Parameter \"explosive_level\" is not valid. Valid parameters: facilityId, shipment_id, material"],"errors":[]}]
[2025-11-04T11:56:01.322Z] [INFO] [PlannerAgent] Generated plan [{"requestId":"demo-1762245101130-rmt2ca","stepsCount":3,"confidence":"0.90","complexity":"0.70"}]
[2025-11-04T11:56:01.342Z] [INFO] [Planner Agent API] Plan generation completed [{"requestId":"demo-1762245101130-rmt2ca","stepsCount":3,"confidence":"0.90"}]
[2025-11-04T11:56:16.839Z] [INFO] [Complexity Detector] Starting detection [{"query":"find high risk contaminants and facilities for Han","requestId":"demo-1762245101407-xyxhfj","agentId":"complexity-detector","hasApiConfig":false}]
[2025-11-04T11:56:16.849Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T11:56:16.849Z] [INFO] Resolved API config for agent 'complexity-detector' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T11:56:16.850Z] [DEBUG] [Complexity Detector] Trying strategy: semantic
[2025-11-04T11:56:16.850Z] [DEBUG] [Semantic Strategy] Starting semantic detection for query: "find high risk contaminants and facilities for Han..."
[2025-11-04T11:56:17.981Z] [DEBUG] [Semantic Strategy] No semantic match found [{"bestSimilarity":"0.000","threshold":0.75,"resultsCount":0}]
[2025-11-04T11:56:17.982Z] [WARN] [Semantic Strategy] Semantic detection failed [{"error":"No semantic match found (best similarity: 0.000, threshold: 0.75)","query":"find high risk contaminants and facilities for Han"}]
[2025-11-04T11:56:17.983Z] [DEBUG] [Complexity Detector] Strategy semantic failed: ["No semantic match found (best similarity: 0.000, threshold: 0.75)"]
[2025-11-04T11:56:17.983Z] [DEBUG] [Complexity Detector] Trying strategy: keyword
[2025-11-04T11:56:17.983Z] [DEBUG] [Keyword Strategy] Starting keyword detection for query: "find high risk contaminants and facilities for Han..."
[2025-11-04T11:56:17.984Z] [INFO] [Keyword Strategy] Detection complete [{"score":"0.169","passes":1,"keywordsCount":5}]
[2025-11-04T11:56:17.984Z] [DEBUG] [Complexity Detector] Keyword strategy completed, score: 0.169
[2025-11-04T11:56:17.984Z] [DEBUG] [Complexity Detector] LLM strategy check [{"hasStrategy":true,"canUse":true,"enabled":true,"hasApiConfig":true,"semanticResult":false,"keywordResult":true}]
[2025-11-04T11:56:17.984Z] [DEBUG] [Complexity Detector] Semantic failed but keyword succeeded - treating as ambiguous, running LLM
[2025-11-04T11:56:17.985Z] [DEBUG] [Complexity Detector] Trying LLM strategy
[2025-11-04T11:56:17.985Z] [DEBUG] [LLM Strategy] Starting LLM analysis for query: "find high risk contaminants and facilities for Han..."
[2025-11-04T11:56:17.985Z] [DEBUG] [LLM Strategy] Calling AI server [{"modelId":"claude-3-haiku-20240307","provider":"api"}]
[2025-11-04T11:56:18.007Z] [ERROR] [LLM Strategy] LLM analysis failed [{"error":"AI server error: 400 - {\"error\":\"Unknown model: claude-3-haiku-20240307. Please provide a provider or use a known model ID.\"}","query":"find high risk contaminants and facilities for Han"}]
[2025-11-04T11:56:18.007Z] [DEBUG] [Complexity Detector] LLM strategy failed: ["Failed to analyze complexity with LLM: AI server error: 400 - {\"error\":\"Unknown model: claude-3-haiku-20240307. Please provide a provider or use a known model ID.\"}"]
[2025-11-04T11:56:18.016Z] [INFO] [Complexity Detector] Detection complete [{"method":"keyword","score":"0.169","passes":1,"requestId":"demo-1762245101407-xyxhfj"}]
[2025-11-04T11:56:18.017Z] [INFO] [Complexity Detector API] Detection completed [{"requestId":"demo-1762245101407-xyxhfj","method":"keyword","score":"0.169"}]
[2025-11-04T11:56:21.492Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T11:56:21.492Z] [INFO] Resolved API config for agent 'thought-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T11:56:21.492Z] [INFO] [BaseAgent] Initialized agent 'thought-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T11:56:21.495Z] [INFO] [Thought Agent API] Generating thoughts [{"requestId":"demo-1762245101407-xyxhfj","queryLength":64}]
[2025-11-04T11:56:21.504Z] [DEBUG] [ThoughtAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T11:56:24.488Z] [DEBUG] [ThoughtAgent] Found similar examples [{"count":0,"similarities":[]}]
[2025-11-04T11:56:24.491Z] [DEBUG] [ThoughtAgent] Generating thought for query [{"requestId":"demo-1762245101407-xyxhfj","queryLength":64,"hasComplexityScore":false,"toolsCount":28,"similarExamplesCount":0}]
[2025-11-04T11:56:24.495Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"thought-agent","originalTokenCount":4355,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T11:56:24.495Z] [DEBUG] [BaseAgent] Calling LLM for agent 'thought-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":4355}]
[2025-11-04T11:56:30.087Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"thought-agent","responseLength":3342,"compressionApplied":false}]
[2025-11-04T11:56:30.092Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"generate-contamination-report","hasKeywordMatch":true,"commonWordsCount":1}]
[2025-11-04T11:56:30.093Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"analyze-facility-with-risks","hasKeywordMatch":true,"commonWordsCount":1}]
[2025-11-04T11:56:30.093Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"find-high-risk-contaminants-and-facilities","hasKeywordMatch":true,"commonWordsCount":5}]
[2025-11-04T11:56:30.093Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"contaminant-to-shipment-analysis","hasKeywordMatch":true,"commonWordsCount":0}]
[2025-11-04T11:56:30.093Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"analyze-high-explosive-contaminants","hasKeywordMatch":false,"commonWordsCount":4}]
[2025-11-04T11:56:30.093Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"analyze-facilities-by-location","hasKeywordMatch":true,"commonWordsCount":1}]
[2025-11-04T11:56:30.094Z] [DEBUG] [ThoughtAgent] Used semantic matching to find prompts [{"promptsFound":["generate-contamination-report","analyze-facility-with-risks","find-high-risk-contaminants-and-facilities","contaminant-to-shipment-analysis","analyze-high-explosive-contaminants","analyze-facilities-by-location"],"userQuery":"find high risk contaminants and facilities for Hannover facility","hadToolsSection":true}]
[2025-11-04T11:56:30.094Z] [INFO] [ThoughtAgent] Generated thought [{"requestId":"demo-1762245101407-xyxhfj","approaches":3,"confidence":"0.50","similarExamplesUsed":0}]
[2025-11-04T11:56:30.104Z] [INFO] [Thought Agent API] Thought generation completed [{"requestId":"demo-1762245101407-xyxhfj","thoughtsCount":1}]
[2025-11-04T11:56:37.386Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T11:56:37.386Z] [INFO] Resolved API config for agent 'planner-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T11:56:37.386Z] [INFO] [BaseAgent] Initialized agent 'planner-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T11:56:37.406Z] [INFO] [Planner Agent API] Generating plan [{"requestId":"demo-1762245101407-xyxhfj","thoughtsCount":1,"queryLength":64,"planVersion":1,"hasRecommendedPrompts":false}]
[2025-11-04T11:56:37.419Z] [DEBUG] [PlannerAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T11:56:38.451Z] [DEBUG] [PlannerAgent] Found similar examples [{"count":0,"similarities":[]}]
[2025-11-04T11:56:38.457Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T11:56:38.457Z] [INFO] Resolved API config for agent 'tool-memory-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T11:56:38.458Z] [INFO] [BaseAgent] Initialized agent 'tool-memory-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T11:56:38.477Z] [DEBUG] [PlannerAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T11:56:40.498Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196297982-w3p6nl: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:56:40.799Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196298474-p4rgh: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:56:41.074Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196299074-sx5b2p: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:56:41.335Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196290985-lv8uam: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:56:41.592Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196297145-d4noj: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:56:41.593Z] [DEBUG] [ToolMemoryAgent] Found similar tool usage patterns [{"count":5,"similarities":["0.79","0.68","0.67","0.64","0.63"]}]
[2025-11-04T11:56:41.596Z] [DEBUG] [ToolMemoryAgent] Generating tool recommendations [{"requestId":"demo-1762245101407-xyxhfj","queryLength":64,"hasComplexityScore":false,"toolsCount":28,"memoryMatchesCount":5}]
[2025-11-04T11:56:41.597Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"tool-memory-agent","originalTokenCount":5363,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T11:56:41.598Z] [DEBUG] [BaseAgent] Calling LLM for agent 'tool-memory-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":5363}]
[2025-11-04T11:56:45.719Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"tool-memory-agent","responseLength":1975,"compressionApplied":false}]
[2025-11-04T11:56:45.724Z] [INFO] [ToolMemoryAgent] Generated tool recommendations [{"requestId":"demo-1762245101407-xyxhfj","toolsRecommended":3,"toolChainsCount":1,"memoryMatchesCount":5}]
[2025-11-04T11:56:45.725Z] [DEBUG] [PlannerAgent] Fetched tool recommendations [{"toolsRecommended":3}]
[2025-11-04T11:56:45.729Z] [DEBUG] [PlannerAgent] Generating plan [{"requestId":"demo-1762245101407-xyxhfj","thoughtsCount":1,"toolsCount":28,"similarExamplesCount":0}]
[2025-11-04T11:56:45.732Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"planner-agent","originalTokenCount":12864,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T11:56:45.732Z] [DEBUG] [BaseAgent] Calling LLM for agent 'planner-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":12864}]
[2025-11-04T11:56:51.791Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"planner-agent","responseLength":2322,"compressionApplied":false}]
[2025-11-04T11:56:51.792Z] [INFO] [PlannerAgent] Attempting to parse JSON response [{"responseLength":2322,"responsePreview":"{\n  \"goal\": \"Find high-risk contaminants and associated facilities for the Hannover facility\",\n  \"steps\": [\n    {\n      \"order\": 1,\n      \"description\": \"Retrieve all contaminants associated with the Hannover facility\",\n      \"action\": \"list_contaminants\",\n      \"parameters\": {\n        \"facilityId\": \"REQUIRED\"\n      },\n      \"expectedOutcome\": \"Obtain a list of all contaminants detected at the Hannover facility\",\n      \"dependencies\": []\n    },\n    {\n      \"order\": 2,\n      \"description\": \"Ident"}]
[2025-11-04T11:56:51.793Z] [DEBUG] [PlannerAgent] Extracted JSON string [{"jsonLength":2144,"jsonPreview":"{\n  \"goal\": \"Find high-risk contaminants and associated facilities for the Hannover facility\",\n  \"steps\": [\n    {\n      \"order\": 1,\n      \"description\": \"Retrieve all contaminants associated with the "}]
[2025-11-04T11:56:51.793Z] [DEBUG] [PlannerAgent] Successfully parsed JSON plan [{"stepsCount":4}]
[2025-11-04T11:56:51.795Z] [INFO] [PlannerAgent] Generated plan [{"requestId":"demo-1762245101407-xyxhfj","stepsCount":4,"confidence":"0.90","complexity":"0.70"}]
[2025-11-04T11:56:51.812Z] [INFO] [Planner Agent API] Plan generation completed [{"requestId":"demo-1762245101407-xyxhfj","stepsCount":4,"confidence":"0.90"}]
[2025-11-04T11:57:06.843Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T11:57:06.843Z] [INFO] Resolved API config for agent 'critic-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T11:57:06.844Z] [INFO] [BaseAgent] Initialized agent 'critic-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T11:57:06.849Z] [INFO] [Critic Agent API] Generating critique [{"requestId":"demo-1762245101407-xyxhfj","planId":"plan-1762257411793","stepsCount":4,"hasUserFeedback":false,"hasRefinedQuery":false}]
[2025-11-04T11:57:06.884Z] [DEBUG] [CriticAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T11:57:06.887Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T11:57:06.887Z] [INFO] Resolved API config for agent 'tool-memory-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T11:57:06.887Z] [INFO] [BaseAgent] Initialized agent 'tool-memory-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T11:57:06.907Z] [DEBUG] [CriticAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T11:57:08.758Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196297982-w3p6nl: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:57:09.029Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196298474-p4rgh: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:57:09.312Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196299074-sx5b2p: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:57:09.629Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196290985-lv8uam: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:57:09.895Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196297145-d4noj: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:57:09.895Z] [DEBUG] [ToolMemoryAgent] Found similar tool usage patterns [{"count":5,"similarities":["0.79","0.68","0.67","0.64","0.63"]}]
[2025-11-04T11:57:09.897Z] [DEBUG] [ToolMemoryAgent] Generating tool recommendations [{"requestId":"demo-1762245101407-xyxhfj","queryLength":64,"hasComplexityScore":false,"toolsCount":28,"memoryMatchesCount":5}]
[2025-11-04T11:57:09.900Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"tool-memory-agent","originalTokenCount":5363,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T11:57:09.901Z] [DEBUG] [BaseAgent] Calling LLM for agent 'tool-memory-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":5363}]
[2025-11-04T11:57:14.535Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"tool-memory-agent","responseLength":2011,"compressionApplied":false}]
[2025-11-04T11:57:14.538Z] [INFO] [ToolMemoryAgent] Generated tool recommendations [{"requestId":"demo-1762245101407-xyxhfj","toolsRecommended":3,"toolChainsCount":1,"memoryMatchesCount":5}]
[2025-11-04T11:57:14.539Z] [DEBUG] [CriticAgent] Fetched tool recommendations [{"toolsRecommended":3}]
[2025-11-04T11:57:14.539Z] [DEBUG] [CriticAgent] Validation iteration 1/5 [{"requestId":"demo-1762245101407-xyxhfj"}]
[2025-11-04T11:57:14.580Z] [INFO] [CriticAgent] All parameters validated [{"requestId":"demo-1762245101407-xyxhfj","iterations":1}]
[2025-11-04T11:57:14.581Z] [DEBUG] [CriticAgent] Critiquing plan [{"requestId":"demo-1762245101407-xyxhfj","planId":"plan-1762257411793","stepsCount":4,"hasUserFeedback":false,"validationIterations":1}]
[2025-11-04T11:57:14.582Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"critic-agent","originalTokenCount":5564,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T11:57:14.582Z] [DEBUG] [BaseAgent] Calling LLM for agent 'critic-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":5564}]
[2025-11-04T11:57:18.669Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"critic-agent","responseLength":1654,"compressionApplied":false}]
[2025-11-04T11:57:18.670Z] [INFO] [CriticAgent] Attempting to parse JSON response [{"responseLength":1654,"responsePreview":"{\n  \"overallScore\": 0.9,\n  \"feasibilityScore\": 0.95,\n  \"correctnessScore\": 0.95,\n  \"efficiencyScore\": 0.9,\n  \"safetyScore\": 0.9,\n  \"strengths\": [\n    \"Logical sequence of steps to achieve the goal\",\n    \"Efficient use of available tools\",\n    \"Comprehensive analysis covering high-risk contaminants and associated facilities\"\n  ],\n  \"issues\": [\n    {\n      \"severity\": \"low\",\n      \"category\": \"completeness\",\n      \"description\": \"Missing facility ID for the Hannover facility in the initial step\",\n"}]
[2025-11-04T11:57:18.670Z] [DEBUG] [CriticAgent] Extracted JSON string [{"jsonLength":1478,"jsonPreview":"{\n  \"overallScore\": 0.9,\n  \"feasibilityScore\": 0.95,\n  \"correctnessScore\": 0.95,\n  \"efficiencyScore\": 0.9,\n  \"safetyScore\": 0.9,\n  \"strengths\": [\n    \"Logical sequence of steps to achieve the goal\",\n "}]
[2025-11-04T11:57:18.671Z] [DEBUG] [CriticAgent] Score parsing [{"rawOverallScore":0.9,"clampedOverallScore":0.9,"rawFeasibility":0.95,"rawCorrectness":0.95,"rawEfficiency":0.9,"rawSafety":0.9}]
[2025-11-04T11:57:18.671Z] [DEBUG] [CriticAgent] Successfully parsed JSON critique [{"recommendation":"approve","issuesCount":1}]
[2025-11-04T11:57:18.671Z] [INFO] [CriticAgent] All parameters validated, confidence boosted to 95% [{"requestId":"demo-1762245101407-xyxhfj"}]
[2025-11-04T11:57:18.672Z] [INFO] [CriticAgent] Plan critiqued [{"requestId":"demo-1762245101407-xyxhfj","planId":"plan-1762257411793","overallScore":"0.95","recommendation":"approve","issuesCount":1,"questionsCount":1,"validationIterations":1,"missingParamsAfterValidation":0}]
[2025-11-04T11:57:18.693Z] [INFO] [Critic Agent API] Saved critique version 1 [{"requestId":"demo-1762245101407-xyxhfj"}]
[2025-11-04T11:57:18.699Z] [INFO] [Critic Agent API] Critique generation completed [{"requestId":"demo-1762245101407-xyxhfj","overallScore":"0.95","recommendation":"approve","issuesCount":1,"questionsCount":1}]
[2025-11-04T11:57:19.033Z] [INFO] [Critic Agent Versions API] Retrieved 1 versions [{"requestId":"demo-1762245101407-xyxhfj","versions":1}]
[2025-11-04T11:57:34.405Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T11:57:34.405Z] [INFO] Resolved API config for agent 'critic-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T11:57:34.406Z] [INFO] [BaseAgent] Initialized agent 'critic-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T11:57:34.409Z] [INFO] [Critic Agent API] Regenerating thoughts and plan with user input [{"requestId":"demo-1762245101407-xyxhfj","originalQuery":"find high risk contaminants and facilities for Hannover facility","hasRefinedQuery":false,"hasFeedback":true}]
[2025-11-04T11:57:34.412Z] [INFO] [Critic Agent API] Added feedback context to query [{"requestId":"demo-1762245101407-xyxhfj","feedbackLength":121,"enhancedQueryLength":185}]
[2025-11-04T11:57:34.412Z] [DEBUG] [Critic Agent API] Enhanced query for regeneration [{"requestId":"demo-1762245101407-xyxhfj","originalLength":64,"enhancedLength":185,"hasRefinedQuery":false,"hasFeedbackContext":true}]
[2025-11-04T11:57:34.421Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T11:57:34.421Z] [INFO] Resolved API config for agent 'thought-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T11:57:34.421Z] [INFO] [BaseAgent] Initialized agent 'thought-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T11:57:34.441Z] [DEBUG] [ThoughtAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T11:57:36.258Z] [DEBUG] [ThoughtAgent] Found similar examples [{"count":0,"similarities":[]}]
[2025-11-04T11:57:36.295Z] [DEBUG] [ThoughtAgent] Generating thought for query [{"requestId":"demo-1762245101407-xyxhfj","queryLength":185,"hasComplexityScore":false,"toolsCount":28,"similarExamplesCount":0}]
[2025-11-04T11:57:36.301Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"thought-agent","originalTokenCount":4407,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T11:57:36.301Z] [DEBUG] [BaseAgent] Calling LLM for agent 'thought-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":4407}]
[2025-11-04T11:57:42.956Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"thought-agent","responseLength":3778,"compressionApplied":false}]
[2025-11-04T11:57:42.966Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"generate-contamination-report","hasKeywordMatch":true,"commonWordsCount":1}]
[2025-11-04T11:57:42.967Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"analyze-facility-with-risks","hasKeywordMatch":true,"commonWordsCount":1}]
[2025-11-04T11:57:42.967Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"find-high-risk-contaminants-and-facilities","hasKeywordMatch":true,"commonWordsCount":5}]
[2025-11-04T11:57:42.967Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"contaminant-to-shipment-analysis","hasKeywordMatch":true,"commonWordsCount":0}]
[2025-11-04T11:57:42.967Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"analyze-high-explosive-contaminants","hasKeywordMatch":false,"commonWordsCount":4}]
[2025-11-04T11:57:42.967Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"analyze-facilities-by-location","hasKeywordMatch":true,"commonWordsCount":1}]
[2025-11-04T11:57:42.968Z] [DEBUG] [ThoughtAgent] Used semantic matching to find prompts [{"promptsFound":["generate-contamination-report","analyze-facility-with-risks","find-high-risk-contaminants-and-facilities","contaminant-to-shipment-analysis","analyze-high-explosive-contaminants","analyze-facilities-by-location"],"userQuery":"find high risk contaminants and facilities for Hannover facility\n\n[User clarifications: What is the facility ID for the Hannover facility? (e.g., 'FAC-001') -> 6905db9211cc522275d5f013]","hadToolsSection":true}]
[2025-11-04T11:57:42.969Z] [INFO] [ThoughtAgent] Generated thought [{"requestId":"demo-1762245101407-xyxhfj","approaches":3,"confidence":"0.50","similarExamplesUsed":0}]
[2025-11-04T11:57:42.988Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T11:57:42.988Z] [INFO] Resolved API config for agent 'planner-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T11:57:42.988Z] [INFO] [BaseAgent] Initialized agent 'planner-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T11:57:43.017Z] [DEBUG] [PlannerAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T11:57:44.252Z] [DEBUG] [PlannerAgent] Found similar examples [{"count":0,"similarities":[]}]
[2025-11-04T11:57:44.269Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T11:57:44.270Z] [INFO] Resolved API config for agent 'tool-memory-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T11:57:44.270Z] [INFO] [BaseAgent] Initialized agent 'tool-memory-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T11:57:44.280Z] [DEBUG] [PlannerAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T11:57:48.749Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196297982-w3p6nl: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:57:49.051Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196299074-sx5b2p: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:57:49.318Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196290985-lv8uam: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:57:49.590Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196298474-p4rgh: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:57:49.861Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196296395-jpqgm2: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:57:49.862Z] [DEBUG] [ToolMemoryAgent] Found similar tool usage patterns [{"count":5,"similarities":["0.76","0.67","0.64","0.63","0.63"]}]
[2025-11-04T11:57:49.864Z] [DEBUG] [ToolMemoryAgent] Generating tool recommendations [{"requestId":"demo-1762245101407-xyxhfj","queryLength":185,"hasComplexityScore":false,"toolsCount":28,"memoryMatchesCount":5}]
[2025-11-04T11:57:49.865Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"tool-memory-agent","originalTokenCount":5415,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T11:57:49.866Z] [DEBUG] [BaseAgent] Calling LLM for agent 'tool-memory-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":5415}]
[2025-11-04T11:57:53.972Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"tool-memory-agent","responseLength":1753,"compressionApplied":false}]
[2025-11-04T11:57:53.975Z] [INFO] [ToolMemoryAgent] Generated tool recommendations [{"requestId":"demo-1762245101407-xyxhfj","toolsRecommended":2,"toolChainsCount":1,"memoryMatchesCount":5}]
[2025-11-04T11:57:53.975Z] [DEBUG] [PlannerAgent] Fetched tool recommendations [{"toolsRecommended":2}]
[2025-11-04T11:57:53.980Z] [DEBUG] [PlannerAgent] Generating plan [{"requestId":"demo-1762245101407-xyxhfj","thoughtsCount":1,"toolsCount":28,"similarExamplesCount":0}]
[2025-11-04T11:57:53.983Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"planner-agent","originalTokenCount":13104,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T11:57:53.983Z] [DEBUG] [BaseAgent] Calling LLM for agent 'planner-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":13104}]
[2025-11-04T11:58:00.149Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"planner-agent","responseLength":2314,"compressionApplied":false}]
[2025-11-04T11:58:00.151Z] [INFO] [PlannerAgent] Attempting to parse JSON response [{"responseLength":2314,"responsePreview":"{\n  \"goal\": \"Analyze high-risk contaminants and associated facilities for the Hannover facility\",\n  \"steps\": [\n    {\n      \"order\": 1,\n      \"description\": \"List all contaminants for the Hannover facility\",\n      \"action\": \"list_contaminants\",\n      \"parameters\": {\n        \"facilityId\": \"6905db9211cc522275d5f013\"\n      },\n      \"expectedOutcome\": \"Retrieve all contaminants associated with the Hannover facility\",\n      \"dependencies\": []\n    },\n    {\n      \"order\": 2,\n      \"description\": \"Filter"}]
[2025-11-04T11:58:00.152Z] [DEBUG] [PlannerAgent] Extracted JSON string [{"jsonLength":2136,"jsonPreview":"{\n  \"goal\": \"Analyze high-risk contaminants and associated facilities for the Hannover facility\",\n  \"steps\": [\n    {\n      \"order\": 1,\n      \"description\": \"List all contaminants for the Hannover faci"}]
[2025-11-04T11:58:00.153Z] [DEBUG] [PlannerAgent] Successfully parsed JSON plan [{"stepsCount":4}]
[2025-11-04T11:58:00.155Z] [WARN] [PlannerAgent] Plan validation issues [{"requestId":"demo-1762245101407-xyxhfj","warnings":["Step 2 (list_contaminants): Parameter \"explosive_level\" is not valid. Valid parameters: facilityId, shipment_id, material","Step 2 (list_contaminants): Parameter \"hcl_level\" is not valid. Valid parameters: facilityId, shipment_id, material","Step 2 (list_contaminants): Parameter \"so2_level\" is not valid. Valid parameters: facilityId, shipment_id, material"],"errors":[]}]
[2025-11-04T11:58:00.156Z] [INFO] [PlannerAgent] Generated plan [{"requestId":"demo-1762245101407-xyxhfj","stepsCount":4,"confidence":"0.90","complexity":"0.70"}]
[2025-11-04T11:58:00.164Z] [INFO] [Critic Agent API] New plan saved with version 2
[2025-11-04T11:58:00.164Z] [INFO] [Critic Agent API] Plan regenerated with user input [{"requestId":"demo-1762245101407-xyxhfj","newStepsCount":4,"planVersion":2}]
[2025-11-04T11:58:00.164Z] [INFO] [Critic Agent API] Generating critique [{"requestId":"demo-1762245101407-xyxhfj","planId":"plan-1762257480154","stepsCount":4,"hasUserFeedback":true,"hasRefinedQuery":false}]
[2025-11-04T11:58:00.175Z] [DEBUG] [CriticAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T11:58:00.179Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T11:58:00.181Z] [INFO] Resolved API config for agent 'tool-memory-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T11:58:00.181Z] [INFO] [BaseAgent] Initialized agent 'tool-memory-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T11:58:00.185Z] [DEBUG] [CriticAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T11:58:01.765Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196297982-w3p6nl: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:58:02.069Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196298474-p4rgh: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:58:02.501Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196299074-sx5b2p: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:58:02.763Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196290985-lv8uam: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:58:03.062Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196297145-d4noj: [{"name":"PineconeBadRequestError"}]
[2025-11-04T11:58:03.063Z] [DEBUG] [ToolMemoryAgent] Found similar tool usage patterns [{"count":5,"similarities":["0.79","0.68","0.67","0.64","0.63"]}]
[2025-11-04T11:58:03.064Z] [DEBUG] [ToolMemoryAgent] Generating tool recommendations [{"requestId":"demo-1762245101407-xyxhfj","queryLength":64,"hasComplexityScore":false,"toolsCount":28,"memoryMatchesCount":5}]
[2025-11-04T11:58:03.065Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"tool-memory-agent","originalTokenCount":5363,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T11:58:03.065Z] [DEBUG] [BaseAgent] Calling LLM for agent 'tool-memory-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":5363}]
[2025-11-04T11:58:08.421Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"tool-memory-agent","responseLength":2565,"compressionApplied":false}]
[2025-11-04T11:58:08.422Z] [INFO] [ToolMemoryAgent] Generated tool recommendations [{"requestId":"demo-1762245101407-xyxhfj","toolsRecommended":2,"toolChainsCount":1,"memoryMatchesCount":5}]
[2025-11-04T11:58:08.422Z] [DEBUG] [CriticAgent] Fetched tool recommendations [{"toolsRecommended":2}]
[2025-11-04T11:58:08.422Z] [DEBUG] [CriticAgent] Validation iteration 1/5 [{"requestId":"demo-1762245101407-xyxhfj"}]
[2025-11-04T11:58:08.460Z] [INFO] [CriticAgent] All parameters validated [{"requestId":"demo-1762245101407-xyxhfj","iterations":1}]
[2025-11-04T11:58:08.461Z] [DEBUG] [CriticAgent] Critiquing plan [{"requestId":"demo-1762245101407-xyxhfj","planId":"plan-1762257480154","stepsCount":4,"hasUserFeedback":true,"validationIterations":1}]
[2025-11-04T11:58:08.462Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"critic-agent","originalTokenCount":5506,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T11:58:08.462Z] [DEBUG] [BaseAgent] Calling LLM for agent 'critic-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":5506}]
[2025-11-04T11:58:12.028Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"critic-agent","responseLength":1465,"compressionApplied":false}]
[2025-11-04T11:58:12.030Z] [INFO] [CriticAgent] Attempting to parse JSON response [{"responseLength":1465,"responsePreview":"{\n  \"overallScore\": 0.9,\n  \"feasibilityScore\": 0.95,\n  \"correctnessScore\": 0.9,\n  \"efficiencyScore\": 0.85,\n  \"safetyScore\": 0.95,\n  \"strengths\": [\n    \"Comprehensive plan to analyze high-risk contaminants and associated facilities\",\n    \"Logical sequence of steps to gather necessary information\",\n    \"Utilization of appropriate MCP tools to achieve the goal\"\n  ],\n  \"issues\": [\n    {\n      \"severity\": \"low\",\n      \"category\": \"efficiency\",\n      \"description\": \"Potential redundancy in step 2 by f"}]
[2025-11-04T11:58:12.031Z] [DEBUG] [CriticAgent] Extracted JSON string [{"jsonLength":1289,"jsonPreview":"{\n  \"overallScore\": 0.9,\n  \"feasibilityScore\": 0.95,\n  \"correctnessScore\": 0.9,\n  \"efficiencyScore\": 0.85,\n  \"safetyScore\": 0.95,\n  \"strengths\": [\n    \"Comprehensive plan to analyze high-risk contamin"}]
[2025-11-04T11:58:12.032Z] [DEBUG] [CriticAgent] Score parsing [{"rawOverallScore":0.9,"clampedOverallScore":0.9,"rawFeasibility":0.95,"rawCorrectness":0.9,"rawEfficiency":0.85,"rawSafety":0.95}]
[2025-11-04T11:58:12.032Z] [DEBUG] [CriticAgent] Successfully parsed JSON critique [{"recommendation":"approve","issuesCount":1}]
[2025-11-04T11:58:12.032Z] [INFO] [CriticAgent] All parameters validated, confidence boosted to 95% [{"requestId":"demo-1762245101407-xyxhfj"}]
[2025-11-04T11:58:12.033Z] [INFO] [CriticAgent] Plan critiqued [{"requestId":"demo-1762245101407-xyxhfj","planId":"plan-1762257480154","overallScore":"0.95","recommendation":"approve","issuesCount":1,"questionsCount":0,"validationIterations":1,"missingParamsAfterValidation":0}]
[2025-11-04T11:58:12.044Z] [INFO] [Critic Agent API] Saved critique version 2 [{"requestId":"demo-1762245101407-xyxhfj"}]
[2025-11-04T11:58:12.052Z] [INFO] [Critic Agent API] Critique generation completed [{"requestId":"demo-1762245101407-xyxhfj","overallScore":"0.95","recommendation":"approve","issuesCount":1,"questionsCount":0}]
[2025-11-04T11:58:12.135Z] [INFO] [Critic Agent Versions API] Retrieved 2 versions [{"requestId":"demo-1762245101407-xyxhfj","versions":2}]
[2025-11-04T11:58:32.559Z] [INFO] [Confidence Scorer API] Scoring confidence [{"requestId":"demo-1762245101407-xyxhfj","agentScoresCount":3}]
[2025-11-04T11:58:32.561Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T11:58:32.562Z] [WARN] Agent config 'confidence-scorer' found but no API key/URL available for provider 'anthropic' [{"agentId":"confidence-scorer","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T11:58:32.562Z] [WARN] [ConfidenceScorer] Failed to initialize LLM agent: Failed to resolve API config for agent 'confidence-scorer'. Please check your API keys in Settings.
[2025-11-04T11:58:32.563Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T11:58:32.563Z] [WARN] Agent config 'confidence-scorer' found but no API key/URL available for provider 'anthropic' [{"agentId":"confidence-scorer","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T11:58:32.563Z] [WARN] [ConfidenceScorer] LLM reasoning failed: Failed to resolve API config for agent 'confidence-scorer'. Please check your API keys in Settings., using fallback
[2025-11-04T11:58:32.567Z] [INFO] [Confidence Scorer API] Confidence scoring completed [{"requestId":"demo-1762245101407-xyxhfj","overallConfidence":0.8000000000000002,"decision":"review"}]
[2025-11-04T11:58:58.867Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T11:58:58.867Z] [INFO] Resolved API config for agent 'meta-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T11:58:58.868Z] [INFO] [BaseAgent] Initialized agent 'meta-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T11:58:58.869Z] [INFO] [Meta Agent API] Assessing reasoning quality [{"requestId":"demo-1762245101407-xyxhfj","hasThoughts":false,"hasPlan":false,"hasCritique":false,"hasConfidenceScore":true}]
[2025-11-04T11:58:58.871Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"meta-agent","originalTokenCount":1796,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T11:58:58.871Z] [DEBUG] [BaseAgent] Calling LLM for agent 'meta-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":1796}]
[2025-11-04T11:59:02.797Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"meta-agent","responseLength":1933,"compressionApplied":false}]
[2025-11-04T11:59:02.807Z] [INFO] [Meta Agent API] Reasoning assessment completed [{"requestId":"demo-1762245101407-xyxhfj","reasoningQuality":0.5,"shouldReplan":true,"shouldDeepenReasoning":true}]
[2025-11-04T12:03:16.321Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T12:03:16.322Z] [INFO] Resolved API config for agent 'meta-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T12:03:16.322Z] [INFO] [BaseAgent] Initialized agent 'meta-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T12:03:16.325Z] [INFO] [Meta Agent API] Assessing reasoning quality [{"requestId":"demo-1762245101407-xyxhfj","hasThoughts":true,"hasPlan":true,"hasCritique":true,"hasConfidenceScore":true}]
[2025-11-04T12:03:16.327Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"meta-agent","originalTokenCount":4378,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T12:03:16.327Z] [DEBUG] [BaseAgent] Calling LLM for agent 'meta-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":4378}]
[2025-11-04T12:03:21.541Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"meta-agent","responseLength":2336,"compressionApplied":false}]
[2025-11-04T12:03:21.562Z] [INFO] [Meta Agent API] Reasoning assessment completed [{"requestId":"demo-1762245101407-xyxhfj","reasoningQuality":0.8,"shouldReplan":true,"shouldDeepenReasoning":true}]
[2025-11-04T12:03:48.480Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T12:03:48.482Z] [INFO] Resolved API config for agent 'meta-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T12:03:48.483Z] [INFO] [BaseAgent] Initialized agent 'meta-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T12:03:48.498Z] [INFO] [Meta Agent API] Assessing reasoning quality [{"requestId":"test","hasThoughts":true,"hasPlan":true,"hasCritique":true,"hasConfidenceScore":true}]
[2025-11-04T12:03:48.500Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"meta-agent","originalTokenCount":3147,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T12:03:48.501Z] [DEBUG] [BaseAgent] Calling LLM for agent 'meta-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":3147}]
[2025-11-04T12:03:52.927Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"meta-agent","responseLength":2457,"compressionApplied":false}]
[2025-11-04T12:03:52.949Z] [INFO] [Meta Agent API] Reasoning assessment completed [{"requestId":"test","reasoningQuality":0.6,"shouldReplan":true,"shouldDeepenReasoning":true}]
[2025-11-04T12:14:16.792Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T12:14:16.793Z] [INFO] Resolved API config for agent 'meta-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T12:14:16.793Z] [INFO] [BaseAgent] Initialized agent 'meta-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T12:14:16.796Z] [INFO] [Meta Agent API] Assessing reasoning quality [{"requestId":"demo-1762245101407-xyxhfj","hasThoughts":true,"hasPlan":true,"hasCritique":true,"hasConfidenceScore":true}]
[2025-11-04T12:14:16.806Z] [DEBUG] [MetaAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T12:14:16.809Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"meta-agent","originalTokenCount":11828,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T12:14:16.809Z] [DEBUG] [BaseAgent] Calling LLM for agent 'meta-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":11828}]
[2025-11-04T12:14:22.478Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"meta-agent","responseLength":2699,"compressionApplied":false}]
[2025-11-04T12:14:22.495Z] [INFO] [Meta Agent API] Reasoning assessment completed [{"requestId":"demo-1762245101407-xyxhfj","reasoningQuality":0.5,"shouldReplan":false,"shouldDeepenReasoning":true}]
[2025-11-04T12:14:30.904Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T12:14:30.905Z] [INFO] Resolved API config for agent 'meta-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T12:14:30.905Z] [INFO] [BaseAgent] Initialized agent 'meta-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T12:14:30.907Z] [INFO] [Meta Agent API] Assessing reasoning quality [{"requestId":"demo-1762245101407-xyxhfj","hasThoughts":true,"hasPlan":true,"hasCritique":true,"hasConfidenceScore":true}]
[2025-11-04T12:14:30.924Z] [DEBUG] [MetaAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T12:14:30.925Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"meta-agent","originalTokenCount":11828,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T12:14:30.925Z] [DEBUG] [BaseAgent] Calling LLM for agent 'meta-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":11828}]
[2025-11-04T12:14:36.056Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"meta-agent","responseLength":2270,"compressionApplied":false}]
[2025-11-04T12:14:36.068Z] [INFO] [Meta Agent API] Reasoning assessment completed [{"requestId":"demo-1762245101407-xyxhfj","reasoningQuality":0.8,"shouldReplan":true,"shouldDeepenReasoning":false}]
[2025-11-04T12:14:36.771Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T12:14:36.771Z] [INFO] Resolved API config for agent 'meta-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T12:14:36.772Z] [INFO] [BaseAgent] Initialized agent 'meta-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T12:14:36.774Z] [INFO] [Meta Agent API] Assessing reasoning quality [{"requestId":"demo-1762245101407-xyxhfj","hasThoughts":true,"hasPlan":true,"hasCritique":true,"hasConfidenceScore":true}]
[2025-11-04T12:14:36.781Z] [DEBUG] [MetaAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T12:14:36.782Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"meta-agent","originalTokenCount":11828,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T12:14:36.782Z] [DEBUG] [BaseAgent] Calling LLM for agent 'meta-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":11828}]
[2025-11-04T12:14:42.608Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"meta-agent","responseLength":2682,"compressionApplied":false}]
[2025-11-04T12:14:42.615Z] [INFO] [Meta Agent API] Reasoning assessment completed [{"requestId":"demo-1762245101407-xyxhfj","reasoningQuality":0.5,"shouldReplan":false,"shouldDeepenReasoning":true}]
[2025-11-04T12:15:07.791Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T12:15:07.792Z] [INFO] Resolved API config for agent 'meta-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T12:15:07.792Z] [INFO] [BaseAgent] Initialized agent 'meta-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T12:15:07.795Z] [INFO] [Meta Agent API] Assessing reasoning quality [{"requestId":"demo-1762245101407-xyxhfj","hasThoughts":true,"hasPlan":true,"hasCritique":true,"hasConfidenceScore":true}]
[2025-11-04T12:15:07.804Z] [DEBUG] [MetaAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T12:15:07.807Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"meta-agent","originalTokenCount":11828,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T12:15:07.807Z] [DEBUG] [BaseAgent] Calling LLM for agent 'meta-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":11828}]
[2025-11-04T12:15:14.239Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"meta-agent","responseLength":2934,"compressionApplied":false}]
[2025-11-04T12:15:14.253Z] [INFO] [Meta Agent API] Reasoning assessment completed [{"requestId":"demo-1762245101407-xyxhfj","reasoningQuality":0.5,"shouldReplan":false,"shouldDeepenReasoning":true}]
[2025-11-04T12:17:10.970Z] [INFO] [Critic Agent Versions API] Retrieved 2 versions [{"requestId":"demo-1762245101407-xyxhfj","versions":2}]
[2025-11-04T12:17:14.554Z] [INFO] [Critic Agent Versions API] Retrieved 2 versions [{"requestId":"demo-1762245101407-xyxhfj","versions":2}]
[2025-11-04T12:18:40.872Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T12:18:40.872Z] [INFO] Resolved API config for agent 'meta-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T12:18:40.872Z] [INFO] [BaseAgent] Initialized agent 'meta-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T12:18:40.907Z] [INFO] [Meta Agent API] Assessing reasoning quality [{"requestId":"demo-1762245101407-xyxhfj","hasThoughts":true,"hasPlan":true,"hasCritique":true,"hasConfidenceScore":true}]
[2025-11-04T12:18:40.911Z] [DEBUG] [MetaAgent] Fetched 2 critique versions for user feedback context
[2025-11-04T12:18:40.921Z] [DEBUG] [MetaAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T12:18:40.923Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"meta-agent","originalTokenCount":11958,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T12:18:40.923Z] [DEBUG] [BaseAgent] Calling LLM for agent 'meta-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":11958}]
[2025-11-04T12:18:47.114Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"meta-agent","responseLength":2570,"compressionApplied":false}]
[2025-11-04T12:18:47.136Z] [INFO] [Meta Agent API] Reasoning assessment completed [{"requestId":"demo-1762245101407-xyxhfj","reasoningQuality":0.5,"shouldReplan":false,"shouldDeepenReasoning":true}]
[2025-11-04T12:19:03.487Z] [INFO] [Critic Agent Versions API] Retrieved 2 versions [{"requestId":"demo-1762245101407-xyxhfj","versions":2}]
[2025-11-04T12:19:05.860Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T12:19:05.861Z] [INFO] Resolved API config for agent 'meta-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T12:19:05.861Z] [INFO] [BaseAgent] Initialized agent 'meta-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T12:19:05.863Z] [INFO] [Meta Agent API] Assessing reasoning quality [{"requestId":"demo-1762245101407-xyxhfj","hasThoughts":true,"hasPlan":true,"hasCritique":true,"hasConfidenceScore":true}]
[2025-11-04T12:19:05.866Z] [DEBUG] [MetaAgent] Fetched 2 critique versions for user feedback context
[2025-11-04T12:19:05.876Z] [DEBUG] [MetaAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T12:19:05.878Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"meta-agent","originalTokenCount":11958,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T12:19:05.878Z] [DEBUG] [BaseAgent] Calling LLM for agent 'meta-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":11958}]
[2025-11-04T12:19:11.794Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"meta-agent","responseLength":2664,"compressionApplied":false}]
[2025-11-04T12:19:11.977Z] [INFO] [Meta Agent API] Reasoning assessment completed [{"requestId":"demo-1762245101407-xyxhfj","reasoningQuality":0.5,"shouldReplan":false,"shouldDeepenReasoning":true}]
[2025-11-04T12:27:49.125Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T12:27:49.125Z] [INFO] Resolved API config for agent 'meta-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T12:27:49.125Z] [INFO] [BaseAgent] Initialized agent 'meta-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T12:27:49.129Z] [INFO] [Meta Agent API] Assessing reasoning quality [{"requestId":"demo-1762245101407-xyxhfj","hasThoughts":true,"hasPlan":true,"hasCritique":true,"hasConfidenceScore":true}]
[2025-11-04T12:27:49.140Z] [DEBUG] [MetaAgent] Fetched 2 critique versions for user feedback context
[2025-11-04T12:27:49.173Z] [DEBUG] [MetaAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T12:27:49.174Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"meta-agent","originalTokenCount":13160,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T12:27:49.175Z] [DEBUG] [BaseAgent] Calling LLM for agent 'meta-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":13160}]
[2025-11-04T12:27:55.140Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"meta-agent","responseLength":2110,"compressionApplied":false}]
[2025-11-04T12:27:55.175Z] [INFO] [Meta Agent API] Reasoning assessment completed [{"requestId":"demo-1762245101407-xyxhfj","reasoningQuality":0.9,"shouldReplan":true,"shouldDeepenReasoning":false}]
[2025-11-04T12:27:58.246Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T12:27:58.246Z] [INFO] Resolved API config for agent 'meta-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T12:27:58.246Z] [INFO] [BaseAgent] Initialized agent 'meta-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T12:27:58.248Z] [INFO] [Meta Agent API] Assessing reasoning quality [{"requestId":"demo-1762245101407-xyxhfj","hasThoughts":true,"hasPlan":true,"hasCritique":true,"hasConfidenceScore":true}]
[2025-11-04T12:27:58.249Z] [DEBUG] [MetaAgent] Fetched 2 critique versions for user feedback context
[2025-11-04T12:27:58.256Z] [DEBUG] [MetaAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T12:27:58.257Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"meta-agent","originalTokenCount":13160,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T12:27:58.257Z] [DEBUG] [BaseAgent] Calling LLM for agent 'meta-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":13160}]
[2025-11-04T12:28:02.616Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"meta-agent","responseLength":1784,"compressionApplied":false}]
[2025-11-04T12:28:02.675Z] [INFO] [Meta Agent API] Reasoning assessment completed [{"requestId":"demo-1762245101407-xyxhfj","reasoningQuality":0.9,"shouldReplan":false,"shouldDeepenReasoning":false}]
[2025-11-04T12:42:22.700Z] [INFO] [Complexity Detector] Starting detection [{"query":"List all shipments and analyze the risk of shipmen","requestId":"demo-1762245101061-3fa1ul","agentId":"complexity-detector","hasApiConfig":false}]
[2025-11-04T12:42:22.717Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T12:42:22.717Z] [INFO] Resolved API config for agent 'complexity-detector' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T12:42:22.717Z] [DEBUG] [Complexity Detector] Trying strategy: semantic
[2025-11-04T12:42:22.718Z] [DEBUG] [Semantic Strategy] Starting semantic detection for query: "List all shipments and analyze the risk of shipmen..."
[2025-11-04T12:42:27.393Z] [DEBUG] [Semantic Strategy] No semantic match found [{"bestSimilarity":"0.000","threshold":0.75,"resultsCount":0}]
[2025-11-04T12:42:27.394Z] [WARN] [Semantic Strategy] Semantic detection failed [{"error":"No semantic match found (best similarity: 0.000, threshold: 0.75)","query":"List all shipments and analyze the risk of shipmen"}]
[2025-11-04T12:42:27.395Z] [DEBUG] [Complexity Detector] Strategy semantic failed: ["No semantic match found (best similarity: 0.000, threshold: 0.75)"]
[2025-11-04T12:42:27.395Z] [DEBUG] [Complexity Detector] Trying strategy: keyword
[2025-11-04T12:42:27.396Z] [DEBUG] [Keyword Strategy] Starting keyword detection for query: "List all shipments and analyze the risk of shipmen..."
[2025-11-04T12:42:27.397Z] [INFO] [Keyword Strategy] Detection complete [{"score":"0.513","passes":2,"keywordsCount":5}]
[2025-11-04T12:42:27.398Z] [DEBUG] [Complexity Detector] Keyword strategy completed, score: 0.513
[2025-11-04T12:42:27.399Z] [DEBUG] [Complexity Detector] LLM strategy check [{"hasStrategy":true,"canUse":true,"enabled":true,"hasApiConfig":true,"semanticResult":false,"keywordResult":true}]
[2025-11-04T12:42:27.399Z] [DEBUG] [Complexity Detector] Semantic failed but keyword succeeded - treating as ambiguous, running LLM
[2025-11-04T12:42:27.399Z] [DEBUG] [Complexity Detector] Trying LLM strategy
[2025-11-04T12:42:27.401Z] [DEBUG] [LLM Strategy] Starting LLM analysis for query: "List all shipments and analyze the risk of shipmen..."
[2025-11-04T12:42:27.401Z] [DEBUG] [LLM Strategy] Calling AI server [{"modelId":"claude-3-haiku-20240307","provider":"api"}]
[2025-11-04T12:42:27.434Z] [ERROR] [LLM Strategy] LLM analysis failed [{"error":"AI server error: 400 - {\"error\":\"Unknown model: claude-3-haiku-20240307. Please provide a provider or use a known model ID.\"}","query":"List all shipments and analyze the risk of shipmen"}]
[2025-11-04T12:42:27.434Z] [DEBUG] [Complexity Detector] LLM strategy failed: ["Failed to analyze complexity with LLM: AI server error: 400 - {\"error\":\"Unknown model: claude-3-haiku-20240307. Please provide a provider or use a known model ID.\"}"]
[2025-11-04T12:42:27.443Z] [INFO] [Complexity Detector] Detection complete [{"method":"keyword","score":"0.513","passes":2,"requestId":"demo-1762245101061-3fa1ul"}]
[2025-11-04T12:42:27.443Z] [INFO] [Complexity Detector API] Detection completed [{"requestId":"demo-1762245101061-3fa1ul","method":"keyword","score":"0.513"}]
[2025-11-04T12:42:35.890Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T12:42:35.890Z] [INFO] Resolved API config for agent 'thought-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T12:42:35.890Z] [INFO] [BaseAgent] Initialized agent 'thought-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T12:42:35.893Z] [INFO] [Thought Agent API] Generating thoughts [{"requestId":"demo-1762245101061-3fa1ul","queryLength":78}]
[2025-11-04T12:42:35.901Z] [DEBUG] [ThoughtAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T12:42:37.834Z] [DEBUG] [ThoughtAgent] Found similar examples [{"count":0,"similarities":[]}]
[2025-11-04T12:42:37.840Z] [DEBUG] [ThoughtAgent] Generating thought for query [{"requestId":"demo-1762245101061-3fa1ul","queryLength":78,"hasComplexityScore":false,"toolsCount":28,"similarExamplesCount":0}]
[2025-11-04T12:42:37.842Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"thought-agent","originalTokenCount":4365,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T12:42:37.843Z] [DEBUG] [BaseAgent] Calling LLM for agent 'thought-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":4365}]
[2025-11-04T12:42:42.239Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"thought-agent","responseLength":8715,"compressionApplied":false}]
[2025-11-04T12:42:42.241Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"review-shipment-inspection","hasKeywordMatch":true,"commonWordsCount":0}]
[2025-11-04T12:42:42.242Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"analyze-facility-with-risks","hasKeywordMatch":true,"commonWordsCount":2}]
[2025-11-04T12:42:42.242Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"analyze-source-shipment-risks","hasKeywordMatch":false,"commonWordsCount":4}]
[2025-11-04T12:42:42.242Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"find-high-risk-contaminants-and-facilities","hasKeywordMatch":false,"commonWordsCount":2}]
[2025-11-04T12:42:42.242Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"contaminant-to-shipment-analysis","hasKeywordMatch":true,"commonWordsCount":1}]
[2025-11-04T12:42:42.242Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"assess-facility-shipment-risks","hasKeywordMatch":false,"commonWordsCount":2}]
[2025-11-04T12:42:42.242Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"assess-source-risk-profile","hasKeywordMatch":false,"commonWordsCount":3}]
[2025-11-04T12:42:42.242Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"analyze-facilities-by-location","hasKeywordMatch":true,"commonWordsCount":0}]
[2025-11-04T12:42:42.242Z] [DEBUG] [ThoughtAgent] Used semantic matching to find prompts [{"promptsFound":["review-shipment-inspection","analyze-facility-with-risks","analyze-source-shipment-risks","find-high-risk-contaminants-and-facilities","contaminant-to-shipment-analysis","assess-facility-shipment-risks","assess-source-risk-profile","analyze-facilities-by-location"],"userQuery":"List all shipments and analyze the risk of shipments from Green Industries Inc","hadToolsSection":true}]
[2025-11-04T12:42:42.243Z] [INFO] [ThoughtAgent] Generated thought [{"requestId":"demo-1762245101061-3fa1ul","approaches":3,"confidence":"0.50","similarExamplesUsed":0}]
[2025-11-04T12:42:42.252Z] [INFO] [Thought Agent API] Thought generation completed [{"requestId":"demo-1762245101061-3fa1ul","thoughtsCount":1}]
[2025-11-04T12:43:00.768Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T12:43:00.769Z] [INFO] Resolved API config for agent 'planner-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T12:43:00.769Z] [INFO] [BaseAgent] Initialized agent 'planner-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T12:43:00.773Z] [INFO] [Planner Agent API] Generating plan [{"requestId":"demo-1762245101061-3fa1ul","thoughtsCount":1,"queryLength":78,"planVersion":1,"hasRecommendedPrompts":false}]
[2025-11-04T12:43:00.780Z] [DEBUG] [PlannerAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T12:43:03.674Z] [DEBUG] [PlannerAgent] Found similar examples [{"count":0,"similarities":[]}]
[2025-11-04T12:43:03.688Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T12:43:03.689Z] [INFO] Resolved API config for agent 'tool-memory-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T12:43:03.689Z] [INFO] [BaseAgent] Initialized agent 'tool-memory-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T12:43:03.700Z] [DEBUG] [PlannerAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T12:43:07.921Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196298474-p4rgh: [{"name":"PineconeBadRequestError"}]
[2025-11-04T12:43:08.238Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196295848-jw1tuo: [{"name":"PineconeBadRequestError"}]
[2025-11-04T12:43:08.541Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196297671-vyqt5m: [{"name":"PineconeBadRequestError"}]
[2025-11-04T12:43:08.809Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196298270-p1lred: [{"name":"PineconeBadRequestError"}]
[2025-11-04T12:43:09.131Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196297145-d4noj: [{"name":"PineconeBadRequestError"}]
[2025-11-04T12:43:09.131Z] [DEBUG] [ToolMemoryAgent] Found similar tool usage patterns [{"count":5,"similarities":["0.77","0.77","0.76","0.76","0.72"]}]
[2025-11-04T12:43:09.133Z] [DEBUG] [ToolMemoryAgent] Generating tool recommendations [{"requestId":"demo-1762245101061-3fa1ul","queryLength":78,"hasComplexityScore":false,"toolsCount":28,"memoryMatchesCount":5}]
[2025-11-04T12:43:09.137Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"tool-memory-agent","originalTokenCount":5389,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T12:43:09.137Z] [DEBUG] [BaseAgent] Calling LLM for agent 'tool-memory-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":5389}]
[2025-11-04T12:43:12.658Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"tool-memory-agent","responseLength":1641,"compressionApplied":false}]
[2025-11-04T12:43:12.663Z] [INFO] [ToolMemoryAgent] Generated tool recommendations [{"requestId":"demo-1762245101061-3fa1ul","toolsRecommended":2,"toolChainsCount":1,"memoryMatchesCount":5}]
[2025-11-04T12:43:12.663Z] [DEBUG] [PlannerAgent] Fetched tool recommendations [{"toolsRecommended":2}]
[2025-11-04T12:43:12.668Z] [DEBUG] [PlannerAgent] Generating plan [{"requestId":"demo-1762245101061-3fa1ul","thoughtsCount":1,"toolsCount":28,"similarExamplesCount":0}]
[2025-11-04T12:43:12.672Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"planner-agent","originalTokenCount":12764,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T12:43:12.672Z] [DEBUG] [BaseAgent] Calling LLM for agent 'planner-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":12764}]
[2025-11-04T12:43:17.383Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"planner-agent","responseLength":1590,"compressionApplied":false}]
[2025-11-04T12:43:17.386Z] [INFO] [PlannerAgent] Attempting to parse JSON response [{"responseLength":1590,"responsePreview":"{\n  \"goal\": \"List all shipments and analyze the risk of shipments from Green Industries Inc\",\n  \"steps\": [\n    {\n      \"order\": 1,\n      \"description\": \"Retrieve all shipments\",\n      \"action\": \"list_shipments\",\n      \"parameters\": {\n        \"source\": \"Green Industries Inc\"\n      },\n      \"expectedOutcome\": \"Get a list of all shipments from Green Industries Inc\",\n      \"dependencies\": []\n    },\n    {\n      \"order\": 2,\n      \"description\": \"Analyze the risk of each shipment from Green Industries "}]
[2025-11-04T12:43:17.387Z] [DEBUG] [PlannerAgent] Extracted JSON string [{"jsonLength":1412,"jsonPreview":"{\n  \"goal\": \"List all shipments and analyze the risk of shipments from Green Industries Inc\",\n  \"steps\": [\n    {\n      \"order\": 1,\n      \"description\": \"Retrieve all shipments\",\n      \"action\": \"list_"}]
[2025-11-04T12:43:17.388Z] [DEBUG] [PlannerAgent] Successfully parsed JSON plan [{"stepsCount":3}]
[2025-11-04T12:43:17.392Z] [INFO] [PlannerAgent] Generated plan [{"requestId":"demo-1762245101061-3fa1ul","stepsCount":3,"confidence":"0.90","complexity":"0.70"}]
[2025-11-04T12:43:17.414Z] [INFO] [Planner Agent API] Plan generation completed [{"requestId":"demo-1762245101061-3fa1ul","stepsCount":3,"confidence":"0.90"}]
[2025-11-04T12:43:37.087Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T12:43:37.088Z] [INFO] Resolved API config for agent 'critic-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T12:43:37.088Z] [INFO] [BaseAgent] Initialized agent 'critic-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T12:43:37.090Z] [INFO] [Critic Agent API] Generating critique [{"requestId":"demo-1762245101061-3fa1ul","planId":"plan-1762260197388","stepsCount":3,"hasUserFeedback":false,"hasRefinedQuery":false}]
[2025-11-04T12:43:37.098Z] [DEBUG] [CriticAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T12:43:37.100Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T12:43:37.100Z] [INFO] Resolved API config for agent 'tool-memory-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T12:43:37.100Z] [INFO] [BaseAgent] Initialized agent 'tool-memory-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T12:43:37.105Z] [DEBUG] [CriticAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T12:43:41.087Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196298474-p4rgh: [{"name":"PineconeBadRequestError"}]
[2025-11-04T12:43:41.385Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196295848-jw1tuo: [{"name":"PineconeBadRequestError"}]
[2025-11-04T12:43:41.647Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196297671-vyqt5m: [{"name":"PineconeBadRequestError"}]
[2025-11-04T12:43:41.910Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196298270-p1lred: [{"name":"PineconeBadRequestError"}]
[2025-11-04T12:43:42.193Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196297145-d4noj: [{"name":"PineconeBadRequestError"}]
[2025-11-04T12:43:42.194Z] [DEBUG] [ToolMemoryAgent] Found similar tool usage patterns [{"count":5,"similarities":["0.77","0.77","0.76","0.76","0.72"]}]
[2025-11-04T12:43:42.196Z] [DEBUG] [ToolMemoryAgent] Generating tool recommendations [{"requestId":"demo-1762245101061-3fa1ul","queryLength":78,"hasComplexityScore":false,"toolsCount":28,"memoryMatchesCount":5}]
[2025-11-04T12:43:42.198Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"tool-memory-agent","originalTokenCount":5389,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T12:43:42.199Z] [DEBUG] [BaseAgent] Calling LLM for agent 'tool-memory-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":5389}]
[2025-11-04T12:43:45.412Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"tool-memory-agent","responseLength":1630,"compressionApplied":false}]
[2025-11-04T12:43:45.413Z] [INFO] [ToolMemoryAgent] Generated tool recommendations [{"requestId":"demo-1762245101061-3fa1ul","toolsRecommended":2,"toolChainsCount":1,"memoryMatchesCount":5}]
[2025-11-04T12:43:45.414Z] [DEBUG] [CriticAgent] Fetched tool recommendations [{"toolsRecommended":2}]
[2025-11-04T12:43:45.414Z] [DEBUG] [CriticAgent] Validation iteration 1/5 [{"requestId":"demo-1762245101061-3fa1ul"}]
[2025-11-04T12:43:45.438Z] [INFO] [CriticAgent] All parameters validated [{"requestId":"demo-1762245101061-3fa1ul","iterations":1}]
[2025-11-04T12:43:45.439Z] [DEBUG] [CriticAgent] Critiquing plan [{"requestId":"demo-1762245101061-3fa1ul","planId":"plan-1762260197388","stepsCount":3,"hasUserFeedback":false,"validationIterations":1}]
[2025-11-04T12:43:45.440Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"critic-agent","originalTokenCount":5322,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T12:43:45.440Z] [DEBUG] [BaseAgent] Calling LLM for agent 'critic-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":5322}]
[2025-11-04T12:43:48.868Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"critic-agent","responseLength":1409,"compressionApplied":false}]
[2025-11-04T12:43:48.871Z] [INFO] [CriticAgent] Attempting to parse JSON response [{"responseLength":1409,"responsePreview":"{\n  \"overallScore\": 0.9,\n  \"feasibilityScore\": 0.95,\n  \"correctnessScore\": 0.9,\n  \"efficiencyScore\": 0.85,\n  \"safetyScore\": 0.95,\n  \"strengths\": [\n    \"Clear goal of analyzing shipment risks from a specific source\",\n    \"Logical sequence of steps to retrieve shipments and analyze their risks\",\n    \"Appropriate use of available MCP tools\"\n  ],\n  \"issues\": [\n    {\n      \"severity\": \"low\",\n      \"category\": \"completeness\",\n      \"description\": \"No step to summarize the overall risk profile of shipm"}]
[2025-11-04T12:43:48.871Z] [DEBUG] [CriticAgent] Extracted JSON string [{"jsonLength":1233,"jsonPreview":"{\n  \"overallScore\": 0.9,\n  \"feasibilityScore\": 0.95,\n  \"correctnessScore\": 0.9,\n  \"efficiencyScore\": 0.85,\n  \"safetyScore\": 0.95,\n  \"strengths\": [\n    \"Clear goal of analyzing shipment risks from a sp"}]
[2025-11-04T12:43:48.872Z] [DEBUG] [CriticAgent] Score parsing [{"rawOverallScore":0.9,"clampedOverallScore":0.9,"rawFeasibility":0.95,"rawCorrectness":0.9,"rawEfficiency":0.85,"rawSafety":0.95}]
[2025-11-04T12:43:48.872Z] [DEBUG] [CriticAgent] Successfully parsed JSON critique [{"recommendation":"approve","issuesCount":1}]
[2025-11-04T12:43:48.872Z] [INFO] [CriticAgent] All parameters validated, confidence boosted to 95% [{"requestId":"demo-1762245101061-3fa1ul"}]
[2025-11-04T12:43:48.872Z] [INFO] [CriticAgent] Plan critiqued [{"requestId":"demo-1762245101061-3fa1ul","planId":"plan-1762260197388","overallScore":"0.95","recommendation":"approve","issuesCount":1,"questionsCount":0,"validationIterations":1,"missingParamsAfterValidation":0}]
[2025-11-04T12:43:48.889Z] [INFO] [Critic Agent API] Saved critique version 1 [{"requestId":"demo-1762245101061-3fa1ul"}]
[2025-11-04T12:43:48.894Z] [INFO] [Critic Agent API] Critique generation completed [{"requestId":"demo-1762245101061-3fa1ul","overallScore":"0.95","recommendation":"approve","issuesCount":1,"questionsCount":0}]
[2025-11-04T12:43:49.177Z] [INFO] [Critic Agent Versions API] Retrieved 1 versions [{"requestId":"demo-1762245101061-3fa1ul","versions":1}]
[2025-11-04T12:44:08.904Z] [INFO] [Confidence Scorer API] Scoring confidence [{"requestId":"demo-1762245101061-3fa1ul","agentScoresCount":3}]
[2025-11-04T12:44:08.906Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T12:44:08.907Z] [WARN] Agent config 'confidence-scorer' found but no API key/URL available for provider 'anthropic' [{"agentId":"confidence-scorer","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T12:44:08.907Z] [WARN] [ConfidenceScorer] Failed to initialize LLM agent: Failed to resolve API config for agent 'confidence-scorer'. Please check your API keys in Settings.
[2025-11-04T12:44:08.908Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T12:44:08.908Z] [WARN] Agent config 'confidence-scorer' found but no API key/URL available for provider 'anthropic' [{"agentId":"confidence-scorer","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T12:44:08.908Z] [WARN] [ConfidenceScorer] LLM reasoning failed: Failed to resolve API config for agent 'confidence-scorer'. Please check your API keys in Settings., using fallback
[2025-11-04T12:44:08.911Z] [INFO] [Confidence Scorer API] Confidence scoring completed [{"requestId":"demo-1762245101061-3fa1ul","overallConfidence":0.8000000000000002,"decision":"review"}]
[2025-11-04T12:44:25.858Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T12:44:25.859Z] [INFO] Resolved API config for agent 'meta-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T12:44:25.860Z] [INFO] [BaseAgent] Initialized agent 'meta-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T12:44:25.866Z] [INFO] [Meta Agent API] Assessing reasoning quality [{"requestId":"demo-1762245101061-3fa1ul","hasThoughts":false,"hasPlan":false,"hasCritique":false,"hasConfidenceScore":true}]
[2025-11-04T12:44:25.869Z] [DEBUG] [MetaAgent] Fetched 1 critique versions for user feedback context
[2025-11-04T12:44:25.886Z] [DEBUG] [MetaAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T12:44:25.889Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"meta-agent","originalTokenCount":10236,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T12:44:25.889Z] [DEBUG] [BaseAgent] Calling LLM for agent 'meta-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":10236}]
[2025-11-04T12:44:30.716Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"meta-agent","responseLength":2150,"compressionApplied":false}]
[2025-11-04T12:44:30.757Z] [INFO] [Meta Agent API] Reasoning assessment completed [{"requestId":"demo-1762245101061-3fa1ul","reasoningQuality":0.7,"shouldReplan":true,"shouldDeepenReasoning":true}]
[2025-11-04T13:12:48.098Z] [ERROR] [ReplanAgent API] Error: [{}]
[2025-11-04T13:12:49.248Z] [ERROR] [ReplanAgent API] Error: [{}]
[2025-11-04T13:13:16.582Z] [ERROR] [ReplanAgent API] Error: [{}]
[2025-11-04T13:53:18.646Z] [INFO] [Demo Reset] Starting demo reset...
[2025-11-04T13:53:18.667Z] [INFO] [Demo Reset] All agent outputs and requests cleared
[2025-11-04T13:53:18.694Z] [INFO] [Demo Reset] Fetched 13 MCP prompts from server
[2025-11-04T13:53:18.698Z] [DEBUG] [Demo Reset] Created request: Show me all facilities
[2025-11-04T13:53:18.711Z] [DEBUG] [Demo Reset] Created request: List all contracts
[2025-11-04T13:53:18.726Z] [DEBUG] [Demo Reset] Created request: List all inspections
[2025-11-04T13:53:18.738Z] [DEBUG] [Demo Reset] Created request: List facilities in New York
[2025-11-04T13:53:18.752Z] [DEBUG] [Demo Reset] Created request: Get details for facility HAN
[2025-11-04T13:53:18.765Z] [DEBUG] [Demo Reset] Created request: List contaminants and get details for the first on
[2025-11-04T13:53:18.779Z] [DEBUG] [Demo Reset] Created request: Get inspection details for facility HAN
[2025-11-04T13:53:18.794Z] [DEBUG] [Demo Reset] Created request: Get shipment with license plate ABC-123
[2025-11-04T13:53:18.808Z] [DEBUG] [Demo Reset] Created request: Get contract for producer Green Industries Inc
[2025-11-04T13:53:18.824Z] [DEBUG] [Demo Reset] Created request: Update facility HAN location to Amsterdam, Netherl
[2025-11-04T13:53:18.837Z] [DEBUG] [Demo Reset] Created request: List contaminants and update the first one's explo
[2025-11-04T13:53:18.852Z] [DEBUG] [Demo Reset] Created request: Get facility HAN and generate an intelligent repor
[2025-11-04T13:53:18.866Z] [DEBUG] [Demo Reset] Created request: List facilities, get the first one's details, and 
[2025-11-04T13:53:18.879Z] [DEBUG] [Demo Reset] Created request: List all shipments and analyze the risk of shipmen
[2025-11-04T13:53:18.895Z] [DEBUG] [Demo Reset] Created request: Create a new contaminant for facility HAN with hig
[2025-11-04T13:53:18.908Z] [DEBUG] [Demo Reset] Created request: Create an inspection for facility AMS
[2025-11-04T13:53:18.923Z] [DEBUG] [Demo Reset] Created request: List shipments and get details for the first one
[2025-11-04T13:53:18.943Z] [DEBUG] [Demo Reset] Created request: Create a contract for producer Acme Corp with wast
[2025-11-04T13:53:18.959Z] [DEBUG] [Demo Reset] Created request: List contaminants, get details for one with high e
[2025-11-04T13:53:18.973Z] [DEBUG] [Demo Reset] Created request: List facilities in New York and update their locat
[2025-11-04T13:53:18.988Z] [DEBUG] [Demo Reset] Created request: Suggest inspection questions for facility HAN
[2025-11-04T13:53:19.005Z] [DEBUG] [Demo Reset] Created request: Analyze shipment risk for shipments from Green Ind
[2025-11-04T13:53:19.021Z] [DEBUG] [Demo Reset] Created request: Generate intelligent facility report for Central W
[2025-11-04T13:53:19.036Z] [DEBUG] [Demo Reset] Created request: Find all contaminants with high explosive levels a
[2025-11-04T13:53:19.053Z] [DEBUG] [Demo Reset] Created request: Get facility with code NONEXIST
[2025-11-04T13:53:19.070Z] [DEBUG] [Demo Reset] Created request: Create a contaminant record for plastic containers
[2025-11-04T13:53:19.088Z] [DEBUG] [Demo Reset] Created request: Create a new shipment with license plate TEST-001
[2025-11-04T13:53:19.105Z] [DEBUG] [Demo Reset] Created request: Update facility with code NONEXIST
[2025-11-04T13:53:19.121Z] [DEBUG] [Demo Reset] Created request: Delete contaminant with ID that does not exist
[2025-11-04T13:53:19.137Z] [DEBUG] [Demo Reset] Created request: Analyze facility compliance for Hannover facility
[2025-11-04T13:53:19.155Z] [DEBUG] [Demo Reset] Created request: Generate a contamination report for Central Waste 
[2025-11-04T13:53:19.170Z] [DEBUG] [Demo Reset] Created request: Review shipment inspection for license plate ABC-1
[2025-11-04T13:53:19.186Z] [DEBUG] [Demo Reset] Created request: Compare performance of all facilities in New York
[2025-11-04T13:53:19.205Z] [DEBUG] [Demo Reset] Created request: analyze facility with risks for Hannover facility
[2025-11-04T13:53:19.221Z] [DEBUG] [Demo Reset] Created request: facility report with recommendations for Hannover 
[2025-11-04T13:53:19.238Z] [DEBUG] [Demo Reset] Created request: analyze source shipment risks for license plate AB
[2025-11-04T13:53:19.253Z] [DEBUG] [Demo Reset] Created request: find high risk contaminants and facilities for Han
[2025-11-04T13:53:19.269Z] [DEBUG] [Demo Reset] Created request: contaminant to shipment analysis for license plate
[2025-11-04T13:53:19.285Z] [DEBUG] [Demo Reset] Created request: assess facility shipment risks for Hannover facili
[2025-11-04T13:53:19.301Z] [DEBUG] [Demo Reset] Created request: assess source risk profile for license plate ABC-1
[2025-11-04T13:53:19.318Z] [DEBUG] [Demo Reset] Created request: analyze high explosive contaminants for Hannover f
[2025-11-04T13:53:19.334Z] [DEBUG] [Demo Reset] Created request: analyze facilities by location for Hannover facili
[2025-11-04T13:53:19.345Z] [INFO] [Demo Reset] Demo requests created: 42 successful, 0 failed
[2025-11-04T13:53:19.345Z] [INFO] [Demo Reset] Tool coverage requests: 29, Prompt requests: 13, Total: 42
[2025-11-04T13:54:18.097Z] [INFO] [Executor Agent History API] Retrieved 0 executions
[2025-11-04T13:54:18.139Z] [INFO] [Executor Agent History API] Retrieved 0 executions
[2025-11-04T13:54:48.632Z] [INFO] [Complexity Detector] Starting detection [{"query":"analyze high explosive contaminants for Hannover f","requestId":"demo-1762264399313-5bw4cn","agentId":"complexity-detector","hasApiConfig":false}]
[2025-11-04T13:54:48.681Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T13:54:48.681Z] [INFO] Resolved API config for agent 'complexity-detector' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T13:54:48.681Z] [DEBUG] [Complexity Detector] Trying strategy: semantic
[2025-11-04T13:54:48.681Z] [DEBUG] [Semantic Strategy] Starting semantic detection for query: "analyze high explosive contaminants for Hannover f..."
[2025-11-04T13:54:54.777Z] [DEBUG] [Semantic Strategy] No semantic match found [{"bestSimilarity":"0.000","threshold":0.75,"resultsCount":0}]
[2025-11-04T13:54:54.805Z] [WARN] [Semantic Strategy] Semantic detection failed [{"error":"No semantic match found (best similarity: 0.000, threshold: 0.75)","query":"analyze high explosive contaminants for Hannover f"}]
[2025-11-04T13:54:54.811Z] [DEBUG] [Complexity Detector] Strategy semantic failed: ["No semantic match found (best similarity: 0.000, threshold: 0.75)"]
[2025-11-04T13:54:54.812Z] [DEBUG] [Complexity Detector] Trying strategy: keyword
[2025-11-04T13:54:54.816Z] [DEBUG] [Keyword Strategy] Starting keyword detection for query: "analyze high explosive contaminants for Hannover f..."
[2025-11-04T13:54:54.823Z] [INFO] [Keyword Strategy] Detection complete [{"score":"0.357","passes":1,"keywordsCount":4}]
[2025-11-04T13:54:54.826Z] [DEBUG] [Complexity Detector] Keyword strategy completed, score: 0.357
[2025-11-04T13:54:54.827Z] [DEBUG] [Complexity Detector] LLM strategy check [{"hasStrategy":true,"canUse":true,"enabled":true,"hasApiConfig":true,"semanticResult":false,"keywordResult":true}]
[2025-11-04T13:54:54.828Z] [DEBUG] [Complexity Detector] Semantic failed but keyword succeeded - treating as ambiguous, running LLM
[2025-11-04T13:54:54.828Z] [DEBUG] [Complexity Detector] Trying LLM strategy
[2025-11-04T13:54:54.830Z] [DEBUG] [LLM Strategy] Starting LLM analysis for query: "analyze high explosive contaminants for Hannover f..."
[2025-11-04T13:54:54.831Z] [DEBUG] [LLM Strategy] Calling AI server [{"modelId":"claude-3-haiku-20240307","provider":"api"}]
[2025-11-04T13:54:54.919Z] [ERROR] [LLM Strategy] LLM analysis failed [{"error":"AI server error: 400 - {\"error\":\"Unknown model: claude-3-haiku-20240307. Please provide a provider or use a known model ID.\"}","query":"analyze high explosive contaminants for Hannover f"}]
[2025-11-04T13:54:54.919Z] [DEBUG] [Complexity Detector] LLM strategy failed: ["Failed to analyze complexity with LLM: AI server error: 400 - {\"error\":\"Unknown model: claude-3-haiku-20240307. Please provide a provider or use a known model ID.\"}"]
[2025-11-04T13:54:54.954Z] [INFO] [Complexity Detector] Detection complete [{"method":"keyword","score":"0.357","passes":1,"requestId":"demo-1762264399313-5bw4cn"}]
[2025-11-04T13:54:54.954Z] [INFO] [Complexity Detector API] Detection completed [{"requestId":"demo-1762264399313-5bw4cn","method":"keyword","score":"0.357"}]
[2025-11-04T13:55:13.609Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T13:55:13.609Z] [INFO] Resolved API config for agent 'thought-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T13:55:13.609Z] [INFO] [BaseAgent] Initialized agent 'thought-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T13:55:13.613Z] [INFO] [Thought Agent API] Generating thoughts [{"requestId":"demo-1762264399313-5bw4cn","queryLength":57}]
[2025-11-04T13:55:13.649Z] [DEBUG] [ThoughtAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T13:55:17.049Z] [DEBUG] [ThoughtAgent] Found similar examples [{"count":0,"similarities":[]}]
[2025-11-04T13:55:17.051Z] [DEBUG] [ThoughtAgent] Generating thought for query [{"requestId":"demo-1762264399313-5bw4cn","queryLength":57,"hasComplexityScore":false,"toolsCount":28,"similarExamplesCount":0}]
[2025-11-04T13:55:17.053Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"thought-agent","originalTokenCount":4350,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T13:55:17.053Z] [DEBUG] [BaseAgent] Calling LLM for agent 'thought-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":4350}]
[2025-11-04T13:55:22.494Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"thought-agent","responseLength":3221,"compressionApplied":false}]
[2025-11-04T13:55:22.499Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"generate-contamination-report","hasKeywordMatch":true,"commonWordsCount":1}]
[2025-11-04T13:55:22.500Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"analyze-facility-with-risks","hasKeywordMatch":false,"commonWordsCount":2}]
[2025-11-04T13:55:22.501Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"find-high-risk-contaminants-and-facilities","hasKeywordMatch":true,"commonWordsCount":3}]
[2025-11-04T13:55:22.502Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"contaminant-to-shipment-analysis","hasKeywordMatch":true,"commonWordsCount":1}]
[2025-11-04T13:55:22.502Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"assess-facility-shipment-risks","hasKeywordMatch":false,"commonWordsCount":2}]
[2025-11-04T13:55:22.502Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"analyze-high-explosive-contaminants","hasKeywordMatch":true,"commonWordsCount":3}]
[2025-11-04T13:55:22.502Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"analyze-facilities-by-location","hasKeywordMatch":true,"commonWordsCount":0}]
[2025-11-04T13:55:22.502Z] [DEBUG] [ThoughtAgent] Used semantic matching to find prompts [{"promptsFound":["generate-contamination-report","analyze-facility-with-risks","find-high-risk-contaminants-and-facilities","contaminant-to-shipment-analysis","assess-facility-shipment-risks","analyze-high-explosive-contaminants","analyze-facilities-by-location"],"userQuery":"analyze high explosive contaminants for Hannover facility","hadToolsSection":true}]
[2025-11-04T13:55:22.503Z] [INFO] [ThoughtAgent] Generated thought [{"requestId":"demo-1762264399313-5bw4cn","approaches":3,"confidence":"0.50","similarExamplesUsed":0}]
[2025-11-04T13:55:22.517Z] [INFO] [Thought Agent API] Thought generation completed [{"requestId":"demo-1762264399313-5bw4cn","thoughtsCount":1}]
[2025-11-04T13:55:39.777Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T13:55:39.778Z] [INFO] Resolved API config for agent 'planner-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T13:55:39.778Z] [INFO] [BaseAgent] Initialized agent 'planner-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T13:55:39.782Z] [INFO] [Planner Agent API] Generating plan [{"requestId":"demo-1762264399313-5bw4cn","thoughtsCount":1,"queryLength":57,"planVersion":1,"hasRecommendedPrompts":false}]
[2025-11-04T13:55:39.791Z] [DEBUG] [PlannerAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T13:55:40.972Z] [DEBUG] [PlannerAgent] Found similar examples [{"count":0,"similarities":[]}]
[2025-11-04T13:55:40.979Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T13:55:40.980Z] [INFO] Resolved API config for agent 'tool-memory-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T13:55:40.980Z] [INFO] [BaseAgent] Initialized agent 'tool-memory-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T13:55:41.000Z] [DEBUG] [PlannerAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T13:55:43.577Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196299074-sx5b2p: [{"name":"PineconeBadRequestError"}]
[2025-11-04T13:55:43.907Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196297982-w3p6nl: [{"name":"PineconeBadRequestError"}]
[2025-11-04T13:55:44.201Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196298474-p4rgh: [{"name":"PineconeBadRequestError"}]
[2025-11-04T13:55:44.474Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196296729-q161sq: [{"name":"PineconeBadRequestError"}]
[2025-11-04T13:55:44.784Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196297671-vyqt5m: [{"name":"PineconeBadRequestError"}]
[2025-11-04T13:55:44.785Z] [DEBUG] [ToolMemoryAgent] Found similar tool usage patterns [{"count":5,"similarities":["0.81","0.73","0.65","0.62","0.61"]}]
[2025-11-04T13:55:44.787Z] [DEBUG] [ToolMemoryAgent] Generating tool recommendations [{"requestId":"demo-1762264399313-5bw4cn","queryLength":57,"hasComplexityScore":false,"toolsCount":28,"memoryMatchesCount":5}]
[2025-11-04T13:55:44.790Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"tool-memory-agent","originalTokenCount":5380,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T13:55:44.791Z] [DEBUG] [BaseAgent] Calling LLM for agent 'tool-memory-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":5380}]
[2025-11-04T13:55:49.415Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"tool-memory-agent","responseLength":1915,"compressionApplied":false}]
[2025-11-04T13:55:49.418Z] [INFO] [ToolMemoryAgent] Generated tool recommendations [{"requestId":"demo-1762264399313-5bw4cn","toolsRecommended":2,"toolChainsCount":1,"memoryMatchesCount":5}]
[2025-11-04T13:55:49.418Z] [DEBUG] [PlannerAgent] Fetched tool recommendations [{"toolsRecommended":2}]
[2025-11-04T13:55:49.422Z] [DEBUG] [PlannerAgent] Generating plan [{"requestId":"demo-1762264399313-5bw4cn","thoughtsCount":1,"toolsCount":28,"similarExamplesCount":0}]
[2025-11-04T13:55:49.424Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"planner-agent","originalTokenCount":12842,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T13:55:49.424Z] [DEBUG] [BaseAgent] Calling LLM for agent 'planner-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":12842}]
[2025-11-04T13:55:55.372Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"planner-agent","responseLength":2128,"compressionApplied":false}]
[2025-11-04T13:55:55.385Z] [INFO] [PlannerAgent] Attempting to parse JSON response [{"responseLength":2128,"responsePreview":"{\n  \"goal\": \"Analyze high explosive contaminants for the Hannover facility\",\n  \"steps\": [\n    {\n      \"order\": 1,\n      \"description\": \"Get details of the Hannover facility\",\n      \"action\": \"list_facilities\",\n      \"parameters\": {},\n      \"expectedOutcome\": \"Retrieve the facilityId for the Hannover facility\",\n      \"dependencies\": []\n    },\n    {\n      \"order\": 2,\n      \"description\": \"List all contaminants detected at the Hannover facility, filtering for high explosive levels\",\n      \"action\":"}]
[2025-11-04T13:55:55.388Z] [DEBUG] [PlannerAgent] Extracted JSON string [{"jsonLength":1950,"jsonPreview":"{\n  \"goal\": \"Analyze high explosive contaminants for the Hannover facility\",\n  \"steps\": [\n    {\n      \"order\": 1,\n      \"description\": \"Get details of the Hannover facility\",\n      \"action\": \"list_fac"}]
[2025-11-04T13:55:55.393Z] [DEBUG] [PlannerAgent] Successfully parsed JSON plan [{"stepsCount":4}]
[2025-11-04T13:55:55.422Z] [INFO] [PlannerAgent] Generated plan [{"requestId":"demo-1762264399313-5bw4cn","stepsCount":4,"confidence":"0.90","complexity":"0.70"}]
[2025-11-04T13:55:55.520Z] [INFO] [Planner Agent API] Plan generation completed [{"requestId":"demo-1762264399313-5bw4cn","stepsCount":4,"confidence":"0.90"}]
[2025-11-04T13:56:09.271Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T13:56:09.271Z] [INFO] Resolved API config for agent 'critic-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T13:56:09.272Z] [INFO] [BaseAgent] Initialized agent 'critic-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T13:56:09.273Z] [INFO] [Critic Agent API] Generating critique [{"requestId":"demo-1762264399313-5bw4cn","planId":"plan-1762264555393","stepsCount":4,"hasUserFeedback":false,"hasRefinedQuery":false}]
[2025-11-04T13:56:09.283Z] [DEBUG] [CriticAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T13:56:09.287Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T13:56:09.287Z] [INFO] Resolved API config for agent 'tool-memory-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T13:56:09.287Z] [INFO] [BaseAgent] Initialized agent 'tool-memory-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T13:56:09.293Z] [DEBUG] [CriticAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T13:56:11.376Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196299074-sx5b2p: [{"name":"PineconeBadRequestError"}]
[2025-11-04T13:56:11.652Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196297982-w3p6nl: [{"name":"PineconeBadRequestError"}]
[2025-11-04T13:56:11.920Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196298474-p4rgh: [{"name":"PineconeBadRequestError"}]
[2025-11-04T13:56:12.199Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196296729-q161sq: [{"name":"PineconeBadRequestError"}]
[2025-11-04T13:56:12.462Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196297671-vyqt5m: [{"name":"PineconeBadRequestError"}]
[2025-11-04T13:56:12.463Z] [DEBUG] [ToolMemoryAgent] Found similar tool usage patterns [{"count":5,"similarities":["0.81","0.73","0.65","0.62","0.61"]}]
[2025-11-04T13:56:12.466Z] [DEBUG] [ToolMemoryAgent] Generating tool recommendations [{"requestId":"demo-1762264399313-5bw4cn","queryLength":57,"hasComplexityScore":false,"toolsCount":28,"memoryMatchesCount":5}]
[2025-11-04T13:56:12.468Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"tool-memory-agent","originalTokenCount":5380,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T13:56:12.469Z] [DEBUG] [BaseAgent] Calling LLM for agent 'tool-memory-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":5380}]
[2025-11-04T13:56:16.170Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"tool-memory-agent","responseLength":1824,"compressionApplied":false}]
[2025-11-04T13:56:16.173Z] [INFO] [ToolMemoryAgent] Generated tool recommendations [{"requestId":"demo-1762264399313-5bw4cn","toolsRecommended":2,"toolChainsCount":1,"memoryMatchesCount":5}]
[2025-11-04T13:56:16.173Z] [DEBUG] [CriticAgent] Fetched tool recommendations [{"toolsRecommended":2}]
[2025-11-04T13:56:16.173Z] [DEBUG] [CriticAgent] Validation iteration 1/5 [{"requestId":"demo-1762264399313-5bw4cn"}]
[2025-11-04T13:56:16.211Z] [INFO] [CriticAgent] All parameters validated [{"requestId":"demo-1762264399313-5bw4cn","iterations":1}]
[2025-11-04T13:56:16.212Z] [DEBUG] [CriticAgent] Critiquing plan [{"requestId":"demo-1762264399313-5bw4cn","planId":"plan-1762264555393","stepsCount":4,"hasUserFeedback":false,"validationIterations":1}]
[2025-11-04T13:56:16.213Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"critic-agent","originalTokenCount":5461,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T13:56:16.213Z] [DEBUG] [BaseAgent] Calling LLM for agent 'critic-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":5461}]
[2025-11-04T13:56:20.098Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"critic-agent","responseLength":1620,"compressionApplied":false}]
[2025-11-04T13:56:20.100Z] [INFO] [CriticAgent] Attempting to parse JSON response [{"responseLength":1620,"responsePreview":"{\n  \"overallScore\": 0.9,\n  \"feasibilityScore\": 0.95,\n  \"correctnessScore\": 0.9,\n  \"efficiencyScore\": 0.85,\n  \"safetyScore\": 0.95,\n  \"strengths\": [\n    \"Logical sequence of steps to gather necessary information\",\n    \"Leveraging appropriate tools to analyze high explosive contaminants\",\n    \"Generating a comprehensive facility report with AI-powered insights\"\n  ],\n  \"issues\": [\n    {\n      \"severity\": \"low\",\n      \"category\": \"completeness\",\n      \"description\": \"No explicit step to filter contam"}]
[2025-11-04T13:56:20.101Z] [DEBUG] [CriticAgent] Extracted JSON string [{"jsonLength":1444,"jsonPreview":"{\n  \"overallScore\": 0.9,\n  \"feasibilityScore\": 0.95,\n  \"correctnessScore\": 0.9,\n  \"efficiencyScore\": 0.85,\n  \"safetyScore\": 0.95,\n  \"strengths\": [\n    \"Logical sequence of steps to gather necessary in"}]
[2025-11-04T13:56:20.101Z] [DEBUG] [CriticAgent] Score parsing [{"rawOverallScore":0.9,"clampedOverallScore":0.9,"rawFeasibility":0.95,"rawCorrectness":0.9,"rawEfficiency":0.85,"rawSafety":0.95}]
[2025-11-04T13:56:20.102Z] [DEBUG] [CriticAgent] Successfully parsed JSON critique [{"recommendation":"approve","issuesCount":1}]
[2025-11-04T13:56:20.102Z] [INFO] [CriticAgent] All parameters validated, confidence boosted to 95% [{"requestId":"demo-1762264399313-5bw4cn"}]
[2025-11-04T13:56:20.102Z] [INFO] [CriticAgent] Plan critiqued [{"requestId":"demo-1762264399313-5bw4cn","planId":"plan-1762264555393","overallScore":"0.95","recommendation":"approve","issuesCount":1,"questionsCount":1,"validationIterations":1,"missingParamsAfterValidation":0}]
[2025-11-04T13:56:20.118Z] [INFO] [Critic Agent API] Saved critique version 1 [{"requestId":"demo-1762264399313-5bw4cn"}]
[2025-11-04T13:56:20.127Z] [INFO] [Critic Agent API] Critique generation completed [{"requestId":"demo-1762264399313-5bw4cn","overallScore":"0.95","recommendation":"approve","issuesCount":1,"questionsCount":1}]
[2025-11-04T13:56:20.528Z] [INFO] [Critic Agent Versions API] Retrieved 1 versions [{"requestId":"demo-1762264399313-5bw4cn","versions":1}]
[2025-11-04T13:56:39.073Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T13:56:39.073Z] [INFO] Resolved API config for agent 'critic-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T13:56:39.073Z] [INFO] [BaseAgent] Initialized agent 'critic-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T13:56:39.077Z] [INFO] [Critic Agent API] Regenerating thoughts and plan with user input [{"requestId":"demo-1762264399313-5bw4cn","originalQuery":"analyze high explosive contaminants for Hannover facility","hasRefinedQuery":false,"hasFeedback":true}]
[2025-11-04T13:56:39.079Z] [INFO] [Critic Agent API] Added feedback context to query [{"requestId":"demo-1762264399313-5bw4cn","feedbackLength":149,"enhancedQueryLength":206}]
[2025-11-04T13:56:39.079Z] [DEBUG] [Critic Agent API] Enhanced query for regeneration [{"requestId":"demo-1762264399313-5bw4cn","originalLength":57,"enhancedLength":206,"hasRefinedQuery":false,"hasFeedbackContext":true}]
[2025-11-04T13:56:39.087Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T13:56:39.087Z] [INFO] Resolved API config for agent 'thought-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T13:56:39.087Z] [INFO] [BaseAgent] Initialized agent 'thought-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T13:56:39.094Z] [DEBUG] [ThoughtAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T13:56:43.242Z] [DEBUG] [ThoughtAgent] Found similar examples [{"count":0,"similarities":[]}]
[2025-11-04T13:56:43.245Z] [DEBUG] [ThoughtAgent] Generating thought for query [{"requestId":"demo-1762264399313-5bw4cn","queryLength":206,"hasComplexityScore":false,"toolsCount":28,"similarExamplesCount":0}]
[2025-11-04T13:56:43.249Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"thought-agent","originalTokenCount":4415,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T13:56:43.249Z] [DEBUG] [BaseAgent] Calling LLM for agent 'thought-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":4415}]
[2025-11-04T13:56:50.010Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"thought-agent","responseLength":4119,"compressionApplied":false}]
[2025-11-04T13:56:50.014Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"generate-contamination-report","hasKeywordMatch":true,"commonWordsCount":1}]
[2025-11-04T13:56:50.014Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"analyze-facility-with-risks","hasKeywordMatch":true,"commonWordsCount":2}]
[2025-11-04T13:56:50.015Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"find-high-risk-contaminants-and-facilities","hasKeywordMatch":true,"commonWordsCount":3}]
[2025-11-04T13:56:50.015Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"contaminant-to-shipment-analysis","hasKeywordMatch":true,"commonWordsCount":1}]
[2025-11-04T13:56:50.015Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"assess-facility-shipment-risks","hasKeywordMatch":false,"commonWordsCount":2}]
[2025-11-04T13:56:50.015Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"assess-source-risk-profile","hasKeywordMatch":false,"commonWordsCount":2}]
[2025-11-04T13:56:50.015Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"analyze-high-explosive-contaminants","hasKeywordMatch":true,"commonWordsCount":3}]
[2025-11-04T13:56:50.015Z] [DEBUG] [ThoughtAgent] Semantically matched prompt [{"promptName":"analyze-facilities-by-location","hasKeywordMatch":true,"commonWordsCount":1}]
[2025-11-04T13:56:50.015Z] [DEBUG] [ThoughtAgent] Used semantic matching to find prompts [{"promptsFound":["generate-contamination-report","analyze-facility-with-risks","find-high-risk-contaminants-and-facilities","contaminant-to-shipment-analysis","assess-facility-shipment-risks","assess-source-risk-profile","analyze-high-explosive-contaminants","analyze-facilities-by-location"],"userQuery":"analyze high explosive contaminants for Hannover facility\n\n[User clarifications: What explosive level threshold should be used to filter high-risk contaminants? (e.g., 'explosive_level > 50') -> high value]","hadToolsSection":true}]
[2025-11-04T13:56:50.015Z] [INFO] [ThoughtAgent] Generated thought [{"requestId":"demo-1762264399313-5bw4cn","approaches":3,"confidence":"0.40","similarExamplesUsed":0}]
[2025-11-04T13:56:50.024Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T13:56:50.024Z] [INFO] Resolved API config for agent 'planner-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T13:56:50.025Z] [INFO] [BaseAgent] Initialized agent 'planner-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T13:56:50.034Z] [DEBUG] [PlannerAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T13:56:51.537Z] [DEBUG] [PlannerAgent] Found similar examples [{"count":0,"similarities":[]}]
[2025-11-04T13:56:51.559Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T13:56:51.559Z] [INFO] Resolved API config for agent 'tool-memory-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T13:56:51.559Z] [INFO] [BaseAgent] Initialized agent 'tool-memory-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T13:56:51.577Z] [DEBUG] [PlannerAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T13:56:55.424Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196299074-sx5b2p: [{"name":"PineconeBadRequestError"}]
[2025-11-04T13:56:55.787Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196297982-w3p6nl: [{"name":"PineconeBadRequestError"}]
[2025-11-04T13:56:56.249Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196298474-p4rgh: [{"name":"PineconeBadRequestError"}]
[2025-11-04T13:56:56.514Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196296729-q161sq: [{"name":"PineconeBadRequestError"}]
[2025-11-04T13:56:56.780Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196297671-vyqt5m: [{"name":"PineconeBadRequestError"}]
[2025-11-04T13:56:56.782Z] [DEBUG] [ToolMemoryAgent] Found similar tool usage patterns [{"count":5,"similarities":["0.80","0.74","0.66","0.63","0.62"]}]
[2025-11-04T13:56:56.787Z] [DEBUG] [ToolMemoryAgent] Generating tool recommendations [{"requestId":"demo-1762264399313-5bw4cn","queryLength":206,"hasComplexityScore":false,"toolsCount":28,"memoryMatchesCount":5}]
[2025-11-04T13:56:56.789Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"tool-memory-agent","originalTokenCount":5445,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T13:56:56.790Z] [DEBUG] [BaseAgent] Calling LLM for agent 'tool-memory-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":5445}]
[2025-11-04T13:57:00.761Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"tool-memory-agent","responseLength":1895,"compressionApplied":false}]
[2025-11-04T13:57:00.764Z] [INFO] [ToolMemoryAgent] Generated tool recommendations [{"requestId":"demo-1762264399313-5bw4cn","toolsRecommended":2,"toolChainsCount":1,"memoryMatchesCount":5}]
[2025-11-04T13:57:00.765Z] [DEBUG] [PlannerAgent] Fetched tool recommendations [{"toolsRecommended":2}]
[2025-11-04T13:57:00.776Z] [DEBUG] [PlannerAgent] Generating plan [{"requestId":"demo-1762264399313-5bw4cn","thoughtsCount":1,"toolsCount":28,"similarExamplesCount":0}]
[2025-11-04T13:57:00.780Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"planner-agent","originalTokenCount":13204,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T13:57:00.780Z] [DEBUG] [BaseAgent] Calling LLM for agent 'planner-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":13204}]
[2025-11-04T13:57:08.243Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"planner-agent","responseLength":2995,"compressionApplied":false}]
[2025-11-04T13:57:08.248Z] [INFO] [PlannerAgent] Attempting to parse JSON response [{"responseLength":2995,"responsePreview":"{\n  \"goal\": \"Analyze high explosive contaminants for the Hannover facility\",\n  \"steps\": [\n    {\n      \"order\": 1,\n      \"description\": \"List all contaminants associated with the Hannover facility\",\n      \"action\": \"list_contaminants\",\n      \"parameters\": {\n        \"facilityId\": \"REQUIRED\"\n      },\n      \"expectedOutcome\": \"Retrieve a list of all contaminants for the Hannover facility\",\n      \"dependencies\": []\n    },\n    {\n      \"order\": 2,\n      \"description\": \"Filter the contaminants to only t"}]
[2025-11-04T13:57:08.249Z] [DEBUG] [PlannerAgent] Extracted JSON string [{"jsonLength":2817,"jsonPreview":"{\n  \"goal\": \"Analyze high explosive contaminants for the Hannover facility\",\n  \"steps\": [\n    {\n      \"order\": 1,\n      \"description\": \"List all contaminants associated with the Hannover facility\",\n  "}]
[2025-11-04T13:57:08.250Z] [DEBUG] [PlannerAgent] Successfully parsed JSON plan [{"stepsCount":6}]
[2025-11-04T13:57:08.253Z] [WARN] [PlannerAgent] Plan validation issues [{"requestId":"demo-1762264399313-5bw4cn","warnings":["Step 2 (list_contaminants): Parameter \"explosive_level\" is not valid. Valid parameters: facilityId, shipment_id, material"],"errors":[]}]
[2025-11-04T13:57:08.254Z] [INFO] [PlannerAgent] Generated plan [{"requestId":"demo-1762264399313-5bw4cn","stepsCount":6,"confidence":"0.90","complexity":"0.80"}]
[2025-11-04T13:57:08.267Z] [INFO] [Critic Agent API] New plan saved with version 2
[2025-11-04T13:57:08.267Z] [INFO] [Critic Agent API] Plan regenerated with user input [{"requestId":"demo-1762264399313-5bw4cn","newStepsCount":6,"planVersion":2}]
[2025-11-04T13:57:08.268Z] [INFO] [Critic Agent API] Generating critique [{"requestId":"demo-1762264399313-5bw4cn","planId":"plan-1762264628250","stepsCount":6,"hasUserFeedback":true,"hasRefinedQuery":false}]
[2025-11-04T13:57:08.300Z] [DEBUG] [CriticAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T13:57:08.309Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T13:57:08.310Z] [INFO] Resolved API config for agent 'tool-memory-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T13:57:08.310Z] [INFO] [BaseAgent] Initialized agent 'tool-memory-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T13:57:08.318Z] [DEBUG] [CriticAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T13:57:09.817Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196299074-sx5b2p: [{"name":"PineconeBadRequestError"}]
[2025-11-04T13:57:10.095Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196297982-w3p6nl: [{"name":"PineconeBadRequestError"}]
[2025-11-04T13:57:10.361Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196298474-p4rgh: [{"name":"PineconeBadRequestError"}]
[2025-11-04T13:57:10.638Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196296729-q161sq: [{"name":"PineconeBadRequestError"}]
[2025-11-04T13:57:10.906Z] [WARN] [ToolMemoryAgent] Failed to increment usage for example tool-memory-usage-example-1762196297671-vyqt5m: [{"name":"PineconeBadRequestError"}]
[2025-11-04T13:57:10.907Z] [DEBUG] [ToolMemoryAgent] Found similar tool usage patterns [{"count":5,"similarities":["0.81","0.73","0.65","0.62","0.61"]}]
[2025-11-04T13:57:10.908Z] [DEBUG] [ToolMemoryAgent] Generating tool recommendations [{"requestId":"demo-1762264399313-5bw4cn","queryLength":57,"hasComplexityScore":false,"toolsCount":28,"memoryMatchesCount":5}]
[2025-11-04T13:57:10.909Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"tool-memory-agent","originalTokenCount":5380,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T13:57:10.909Z] [DEBUG] [BaseAgent] Calling LLM for agent 'tool-memory-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":5380}]
[2025-11-04T13:57:15.101Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"tool-memory-agent","responseLength":2092,"compressionApplied":false}]
[2025-11-04T13:57:15.102Z] [INFO] [ToolMemoryAgent] Generated tool recommendations [{"requestId":"demo-1762264399313-5bw4cn","toolsRecommended":2,"toolChainsCount":1,"memoryMatchesCount":5}]
[2025-11-04T13:57:15.102Z] [DEBUG] [CriticAgent] Fetched tool recommendations [{"toolsRecommended":2}]
[2025-11-04T13:57:15.102Z] [DEBUG] [CriticAgent] Validation iteration 1/5 [{"requestId":"demo-1762264399313-5bw4cn"}]
[2025-11-04T13:57:15.155Z] [INFO] [CriticAgent] All parameters validated [{"requestId":"demo-1762264399313-5bw4cn","iterations":1}]
[2025-11-04T13:57:15.156Z] [DEBUG] [CriticAgent] Critiquing plan [{"requestId":"demo-1762264399313-5bw4cn","planId":"plan-1762264628250","stepsCount":6,"hasUserFeedback":true,"validationIterations":1}]
[2025-11-04T13:57:15.157Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"critic-agent","originalTokenCount":5618,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T13:57:15.157Z] [DEBUG] [BaseAgent] Calling LLM for agent 'critic-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":5618}]
[2025-11-04T13:57:19.333Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"critic-agent","responseLength":1381,"compressionApplied":false}]
[2025-11-04T13:57:19.334Z] [INFO] [CriticAgent] Attempting to parse JSON response [{"responseLength":1381,"responsePreview":"{\n  \"overallScore\": 0.9,\n  \"feasibilityScore\": 0.95,\n  \"correctnessScore\": 0.9,\n  \"efficiencyScore\": 0.85,\n  \"safetyScore\": 0.9,\n  \"strengths\": [\n    \"Comprehensive plan to analyze high explosive contaminants for the Hannover facility\",\n    \"Logical sequence of steps to retrieve relevant data and perform risk analysis\",\n    \"Utilization of appropriate MCP tools to achieve the goal\"\n  ],\n  \"issues\": [\n    {\n      \"severity\": \"low\",\n      \"category\": \"efficiency\",\n      \"description\": \"Potential r"}]
[2025-11-04T13:57:19.335Z] [DEBUG] [CriticAgent] Extracted JSON string [{"jsonLength":1205,"jsonPreview":"{\n  \"overallScore\": 0.9,\n  \"feasibilityScore\": 0.95,\n  \"correctnessScore\": 0.9,\n  \"efficiencyScore\": 0.85,\n  \"safetyScore\": 0.9,\n  \"strengths\": [\n    \"Comprehensive plan to analyze high explosive cont"}]
[2025-11-04T13:57:19.335Z] [DEBUG] [CriticAgent] Score parsing [{"rawOverallScore":0.9,"clampedOverallScore":0.9,"rawFeasibility":0.95,"rawCorrectness":0.9,"rawEfficiency":0.85,"rawSafety":0.9}]
[2025-11-04T13:57:19.336Z] [DEBUG] [CriticAgent] Successfully parsed JSON critique [{"recommendation":"approve","issuesCount":1}]
[2025-11-04T13:57:19.336Z] [INFO] [CriticAgent] All parameters validated, confidence boosted to 95% [{"requestId":"demo-1762264399313-5bw4cn"}]
[2025-11-04T13:57:19.336Z] [INFO] [CriticAgent] Plan critiqued [{"requestId":"demo-1762264399313-5bw4cn","planId":"plan-1762264628250","overallScore":"0.95","recommendation":"approve","issuesCount":1,"questionsCount":0,"validationIterations":1,"missingParamsAfterValidation":0}]
[2025-11-04T13:57:19.355Z] [INFO] [Critic Agent API] Saved critique version 2 [{"requestId":"demo-1762264399313-5bw4cn"}]
[2025-11-04T13:57:19.363Z] [INFO] [Critic Agent API] Critique generation completed [{"requestId":"demo-1762264399313-5bw4cn","overallScore":"0.95","recommendation":"approve","issuesCount":1,"questionsCount":0}]
[2025-11-04T13:57:19.457Z] [INFO] [Critic Agent Versions API] Retrieved 2 versions [{"requestId":"demo-1762264399313-5bw4cn","versions":2}]
[2025-11-04T13:57:27.599Z] [INFO] [Confidence Scorer API] Scoring confidence [{"requestId":"demo-1762264399313-5bw4cn","agentScoresCount":3}]
[2025-11-04T13:57:27.602Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T13:57:27.602Z] [WARN] Agent config 'confidence-scorer' found but no API key/URL available for provider 'anthropic' [{"agentId":"confidence-scorer","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T13:57:27.602Z] [WARN] [ConfidenceScorer] Failed to initialize LLM agent: Failed to resolve API config for agent 'confidence-scorer'. Please check your API keys in Settings.
[2025-11-04T13:57:27.604Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T13:57:27.604Z] [WARN] Agent config 'confidence-scorer' found but no API key/URL available for provider 'anthropic' [{"agentId":"confidence-scorer","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T13:57:27.604Z] [WARN] [ConfidenceScorer] LLM reasoning failed: Failed to resolve API config for agent 'confidence-scorer'. Please check your API keys in Settings., using fallback
[2025-11-04T13:57:27.609Z] [INFO] [Confidence Scorer API] Confidence scoring completed [{"requestId":"demo-1762264399313-5bw4cn","overallConfidence":0.8000000000000002,"decision":"review"}]
[2025-11-04T13:57:32.995Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T13:57:32.996Z] [INFO] Resolved API config for agent 'meta-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T13:57:32.996Z] [INFO] [BaseAgent] Initialized agent 'meta-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T13:57:33.001Z] [INFO] [Meta Agent API] Assessing reasoning quality [{"requestId":"demo-1762264399313-5bw4cn","hasThoughts":false,"hasPlan":false,"hasCritique":false,"hasConfidenceScore":true}]
[2025-11-04T13:57:33.004Z] [DEBUG] [MetaAgent] Fetched 2 critique versions for user feedback context
[2025-11-04T13:57:33.024Z] [DEBUG] [MetaAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T13:57:33.027Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"meta-agent","originalTokenCount":10358,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T13:57:33.027Z] [DEBUG] [BaseAgent] Calling LLM for agent 'meta-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":10358}]
[2025-11-04T13:57:37.995Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"meta-agent","responseLength":2060,"compressionApplied":false}]
[2025-11-04T13:57:38.008Z] [INFO] [Meta Agent API] Reasoning assessment completed [{"requestId":"demo-1762264399313-5bw4cn","reasoningQuality":0.7,"shouldReplan":true,"shouldDeepenReasoning":true}]
[2025-11-04T13:58:06.690Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T13:58:06.691Z] [WARN] Agent config 'replan-agent' found but no API key/URL available for provider 'anthropic' [{"agentId":"replan-agent","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T13:58:06.691Z] [ERROR] [ReplanAgent API] Error: [{}]
[2025-11-04T14:00:27.817Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T14:00:27.820Z] [WARN] Agent config 'replan-agent' found but no API key/URL available for provider 'anthropic' [{"agentId":"replan-agent","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T14:00:27.821Z] [ERROR] [ReplanAgent API] Error: [{}]
[2025-11-04T14:02:41.666Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T14:02:41.667Z] [WARN] Agent config 'replan-agent' found but no API key/URL available for provider 'anthropic' [{"agentId":"replan-agent","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T14:02:41.669Z] [ERROR] [ReplanAgent API] Failed to initialize agent: [{"error":"Failed to resolve API config for agent 'replan-agent'. Please check your API keys in Settings.","stack":"Error: Failed to resolve API config for agent 'replan-agent'. Please check your API keys in Settings.\n    at ReplanAgent.initialize (webpack-internal:///(rsc)/./lib/agents/base-agent.ts:55:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async POST (webpack-internal:///(rsc)/./app/api/agents/replan-agent/route.ts:132:13)\n    at async /Users/yab/Projects/v5-clear-ai/frontend/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57228\n    at async eT.execute (/Users/yab/Projects/v5-clear-ai/frontend/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46851)\n    at async eT.handle (/Users/yab/Projects/v5-clear-ai/frontend/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58760)\n    at async doRender (/Users/yab/Projects/v5-clear-ai/frontend/node_modules/next/dist/server/base-server.js:1366:42)\n    at async cacheEntry.responseCache.get.routeKind (/Users/yab/Projects/v5-clear-ai/frontend/node_modules/next/dist/server/base-server.js:1588:28)\n    at async DevServer.renderToResponseWithComponentsImpl (/Users/yab/Projects/v5-clear-ai/frontend/node_modules/next/dist/server/base-server.js:1496:28)\n    at async DevServer.renderPageComponent (/Users/yab/Projects/v5-clear-ai/frontend/node_modules/next/dist/server/base-server.js:1924:24)\n    at async DevServer.renderToResponseImpl (/Users/yab/Projects/v5-clear-ai/frontend/node_modules/next/dist/server/base-server.js:1962:32)\n    at async DevServer.pipeImpl (/Users/yab/Projects/v5-clear-ai/frontend/node_modules/next/dist/server/base-server.js:922:25)\n    at async NextNodeServer.handleCatchallRenderRequest (/Users/yab/Projects/v5-clear-ai/frontend/node_modules/next/dist/server/next-server.js:272:17)\n    at async DevServer.handleRequestImpl (/Users/yab/Projects/v5-clear-ai/frontend/node_modules/next/dist/server/base-server.js:818:17)\n    at async /Users/yab/Projects/v5-clear-ai/frontend/node_modules/next/dist/server/dev/next-dev-server.js:339:20\n    at async Span.traceAsyncFn (/Users/yab/Projects/v5-clear-ai/frontend/node_modules/next/dist/trace/trace.js:154:20)\n    at async DevServer.handleRequest (/Users/yab/Projects/v5-clear-ai/frontend/node_modules/next/dist/server/dev/next-dev-server.js:336:24)\n    at async invokeRender (/Users/yab/Projects/v5-clear-ai/frontend/node_modules/next/dist/server/lib/router-server.js:179:21)\n    at async handleRequest (/Users/yab/Projects/v5-clear-ai/frontend/node_modules/next/dist/server/lib/router-server.js:359:24)\n    at async requestHandlerImpl (/Users/yab/Projects/v5-clear-ai/frontend/node_modules/next/dist/server/lib/router-server.js:383:13)\n    at async Server.requestListener (/Users/yab/Projects/v5-clear-ai/frontend/node_modules/next/dist/server/lib/start-server.js:141:13)","agentId":"meta-agent","modelId":"claude-haiku","hasApiKey":true,"hasHeaders":true}]
[2025-11-04T14:09:28.543Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T14:09:28.544Z] [WARN] Agent config 'replan-agent' found but no API key/URL available for provider 'anthropic' [{"agentId":"replan-agent","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T14:09:28.544Z] [ERROR] [ReplanAgent API] Error: [{}]
[2025-11-04T14:10:06.071Z] [DEBUG] Resolved API key for provider 'anthropic' [{"source":"none"}]
[2025-11-04T14:10:06.072Z] [WARN] Agent config 'replan-agent' found but no API key/URL available for provider 'anthropic' [{"agentId":"replan-agent","modelId":"claude-haiku","provider":"anthropic"}]
[2025-11-04T14:10:06.072Z] [ERROR] [ReplanAgent API] Error: [{}]
[2025-11-04T14:12:55.670Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T14:12:55.671Z] [INFO] Resolved API config for agent 'replan-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T14:12:55.671Z] [INFO] [BaseAgent] Initialized agent 'replan-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T14:12:55.671Z] [INFO] [ReplanAgent API] Generating replan [{"requestId":"demo-1762264399313-5bw4cn","originalPlanId":"plan-1762264628250","metaShouldReplan":true,"criticIssuesCount":1}]
[2025-11-04T14:12:55.712Z] [DEBUG] [ReplanAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T14:12:55.712Z] [DEBUG] [ReplanAgent] Generating replan [{"requestId":"demo-1762264399313-5bw4cn","originalPlanId":"plan-1762264628250","metaShouldReplan":true,"criticIssuesCount":1}]
[2025-11-04T14:12:55.713Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"replan-agent","originalTokenCount":10321,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T14:12:55.713Z] [DEBUG] [BaseAgent] Calling LLM for agent 'replan-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":10321}]
[2025-11-04T14:13:05.339Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"replan-agent","responseLength":4801,"compressionApplied":false}]
[2025-11-04T14:13:05.343Z] [ERROR] [ReplanAgent] Failed to parse replan response: [{}]
[2025-11-04T14:13:05.343Z] [ERROR] [ReplanAgent API] Error: [{}]
[2025-11-04T14:16:01.738Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T14:16:01.739Z] [INFO] Resolved API config for agent 'replan-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T14:16:01.739Z] [INFO] [BaseAgent] Initialized agent 'replan-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T14:16:01.739Z] [INFO] [ReplanAgent API] Generating replan [{"requestId":"demo-1762264399313-5bw4cn","originalPlanId":"plan-1762264628250","metaShouldReplan":true,"criticIssuesCount":1}]
[2025-11-04T14:16:01.748Z] [DEBUG] [ReplanAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T14:16:01.749Z] [DEBUG] [ReplanAgent] Generating replan [{"requestId":"demo-1762264399313-5bw4cn","originalPlanId":"plan-1762264628250","metaShouldReplan":true,"criticIssuesCount":1}]
[2025-11-04T14:16:01.749Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"replan-agent","originalTokenCount":10321,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T14:16:01.750Z] [DEBUG] [BaseAgent] Calling LLM for agent 'replan-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":10321}]
[2025-11-04T14:16:11.331Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"replan-agent","responseLength":4607,"compressionApplied":false}]
[2025-11-04T14:16:11.334Z] [ERROR] [ReplanAgent] Failed to parse replan response: [{}]
[2025-11-04T14:16:11.334Z] [ERROR] [ReplanAgent API] Error: [{}]
[2025-11-04T14:21:56.295Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T14:21:56.296Z] [INFO] Resolved API config for agent 'replan-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T14:21:56.296Z] [INFO] [BaseAgent] Initialized agent 'replan-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T14:21:56.296Z] [INFO] [ReplanAgent API] Generating replan [{"requestId":"demo-1762264399313-5bw4cn","originalPlanId":"plan-1762264628250","metaShouldReplan":true,"criticIssuesCount":1}]
[2025-11-04T14:21:56.308Z] [DEBUG] [ReplanAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T14:21:56.308Z] [DEBUG] [ReplanAgent] Generating replan [{"requestId":"demo-1762264399313-5bw4cn","originalPlanId":"plan-1762264628250","metaShouldReplan":true,"criticIssuesCount":1}]
[2025-11-04T14:21:56.309Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"replan-agent","originalTokenCount":10321,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T14:21:56.309Z] [DEBUG] [BaseAgent] Calling LLM for agent 'replan-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":10321}]
[2025-11-04T14:22:07.787Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"replan-agent","responseLength":4791,"compressionApplied":false}]
[2025-11-04T14:22:07.789Z] [DEBUG] [ReplanAgent] Extracted JSON string [{"jsonLength":4555,"jsonPreview":"{\n  \"goal\": \"Analyze high explosive contaminants for the Hannover facility\",\n  \"steps\": [\n    {\n      \"order\": 1,\n      \"description\": \"List all contaminants associated with the Hannover facility\",\n  "}]
[2025-11-04T14:22:07.792Z] [ERROR] [ReplanAgent API] Error: [{}]
[2025-11-04T14:25:00.764Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T14:25:00.764Z] [INFO] Resolved API config for agent 'replan-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T14:25:00.764Z] [INFO] [BaseAgent] Initialized agent 'replan-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T14:25:00.765Z] [INFO] [ReplanAgent API] Generating replan [{"requestId":"demo-1762264399313-5bw4cn","originalPlanId":"plan-1762264628250","metaShouldReplan":true,"criticIssuesCount":1}]
[2025-11-04T14:25:00.781Z] [DEBUG] [ReplanAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T14:25:00.782Z] [DEBUG] [ReplanAgent] Generating replan [{"requestId":"demo-1762264399313-5bw4cn","originalPlanId":"plan-1762264628250","metaShouldReplan":true,"criticIssuesCount":1}]
[2025-11-04T14:25:00.790Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"replan-agent","originalTokenCount":10321,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T14:25:00.791Z] [DEBUG] [BaseAgent] Calling LLM for agent 'replan-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":10321}]
[2025-11-04T14:25:11.683Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"replan-agent","responseLength":4514,"compressionApplied":false}]
[2025-11-04T14:25:11.687Z] [DEBUG] [ReplanAgent] Extracted JSON string [{"jsonLength":4284,"jsonPreview":"{\n  \"goal\": \"Analyze high explosive contaminants for the Hannover facility\",\n  \"steps\": [\n    {\n      \"order\": 1,\n      \"description\": \"Get details for the Hannover facility\",\n      \"action\": \"list_fa"}]
[2025-11-04T14:25:11.732Z] [INFO] [ReplanAgent API] Replan generated [{"requestId":"demo-1762264399313-5bw4cn","planVersion":3,"originalPlanId":"plan-1762264628250","stepsAdded":0,"stepsRemoved":0,"stepsModified":2}]
[2025-11-04T15:04:21.408Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T15:04:21.409Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T15:04:21.409Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T15:04:21.419Z] [INFO] [Executor Agent API] Found critique [{"requestId":"demo-1762264399313-5bw4cn","recommendation":"approve"}]
[2025-11-04T15:04:21.419Z] [INFO] [Executor Agent API] Executing plan [{"requestId":"demo-1762264399313-5bw4cn","planId":"plan-1762264628250","stepsCount":6,"hasCritique":true,"hasUserFeedback":false}]
[2025-11-04T15:04:21.421Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T15:04:21.421Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T15:04:21.421Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T15:04:21.448Z] [DEBUG] [ExecutorAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T15:04:21.453Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T15:04:21.454Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T15:04:21.454Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T15:04:21.455Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":11067,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T15:04:21.455Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":11067}]
[2025-11-04T15:04:24.491Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":875,"compressionApplied":false}]
[2025-11-04T15:04:24.493Z] [DEBUG] [Coordinator] Coordination analysis [{"stepId":"step-1","needsCoordination":true,"recommendation":"ask-user"}]
[2025-11-04T15:04:24.513Z] [DEBUG] [Coordinator] MCP validation passed [{"stepId":"step-1","providedParams":["facilityId"]}]
[2025-11-04T15:04:24.520Z] [DEBUG] [StepExecutor] All parameters validated for step 1
[2025-11-04T15:04:24.535Z] [INFO] [StepExecutor] Step executed successfully [{"stepId":"step-1","stepOrder":1,"duration":3086,"retries":0}]
[2025-11-04T15:04:24.538Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T15:04:24.538Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T15:04:24.538Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T15:04:24.538Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":708,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T15:04:24.538Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":708}]
[2025-11-04T15:04:26.945Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":1208,"compressionApplied":false}]
[2025-11-04T15:04:26.947Z] [DEBUG] [PlanValidator] Validation result [{"isValid":false,"progress":0.167,"shouldContinue":false,"shouldAdapt":true}]
[2025-11-04T15:04:26.947Z] [DEBUG] [ExecutionEngine] Meta-reasoning checkpoint [{"stepId":"step-1","isValid":false,"progress":0.167,"shouldContinue":false,"shouldAdapt":true}]
[2025-11-04T15:04:26.947Z] [INFO] [ExecutionEngine] Plan adaptation needed [{"reasoning":"The plan is not valid because the first step failed to list contaminants due to an error in the input parameter. This indicates an issue with the plan or the tool being used. We are making some progress, but the goal of analyzing high explosive contaminants for the Hannover facility has not been achieved. The current approach is not working, as evidenced by the error encountered. We should adapt the plan by addressing the root cause of the error, and potentially replan the overall approach to ensure we can successfully analyze the contaminants at the Hannover facility."}]
[2025-11-04T15:04:26.955Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T15:04:26.955Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T15:04:26.956Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T15:04:26.959Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":11165,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T15:04:26.960Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":11165}]
[2025-11-04T15:04:29.485Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":792,"compressionApplied":false}]
[2025-11-04T15:04:29.487Z] [DEBUG] [Coordinator] Coordination analysis [{"stepId":"step-2","needsCoordination":true,"recommendation":"ask-user"}]
[2025-11-04T15:04:29.489Z] [WARN] [Coordinator] Placeholder values remain after extraction attempt [{"stepId":"step-2","remainingPlaceholders":["facilityId"],"extractionAttempts":[]}]
[2025-11-04T15:04:29.489Z] [DEBUG] [Coordinator] Programmatic fallback check [{"stepId":"step-2","remainingPlaceholders":["facilityId"],"paramName":"facilityId","previousResultsKeys":["step-1"],"isPrompt":false}]
[2025-11-04T15:04:29.490Z] [DEBUG] [Coordinator] Programmatic ID extraction attempt [{"stepId":"step-2","paramName":"facilityId","placeholderValue":"EXTRACT_FROM_STEP_1","targetStepRef":"step-1","availableSteps":["step-1"]}]
[2025-11-04T15:04:29.509Z] [DEBUG] [Coordinator] MCP validation passed [{"stepId":"step-2","providedParams":["facilityId","explosive_level"]}]
[2025-11-04T15:04:29.509Z] [WARN] [StepExecutor] Placeholder values remain after coordination - cannot execute [{"stepId":"step-2","stepOrder":2,"remainingPlaceholders":["facilityId"]}]
[2025-11-04T15:04:29.517Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T15:04:29.517Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T15:04:29.517Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T15:04:29.517Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":803,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T15:04:29.518Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":803}]
[2025-11-04T15:04:31.735Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":1194,"compressionApplied":false}]
[2025-11-04T15:04:31.738Z] [DEBUG] [PlanValidator] Validation result [{"isValid":false,"progress":0.333,"shouldContinue":false,"shouldAdapt":true}]
[2025-11-04T15:04:31.738Z] [DEBUG] [ExecutionEngine] Meta-reasoning checkpoint [{"stepId":"step-2","isValid":false,"progress":0.333,"shouldContinue":false,"shouldAdapt":true}]
[2025-11-04T15:04:31.739Z] [INFO] [ExecutionEngine] Plan adaptation needed [{"reasoning":"The plan is not valid because we are missing a required parameter, 'facilityId', which is preventing us from executing the next step. We have made some progress, completing 2 out of 6 steps, but we are still far from achieving the original goal of analyzing high explosive contaminants for the Hannover facility. The current approach is not working, as we have encountered an error that is blocking us from moving forward. Given the missing parameter and the lack of progress, we should adapt the plan by first resolving the missing parameter issue, and if that is not possible, we should replan the entire process to achieve the original goal."}]
[2025-11-04T15:04:31.744Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T15:04:31.745Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T15:04:31.745Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T15:04:31.747Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":7704,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T15:04:31.749Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":7704}]
[2025-11-04T15:04:33.912Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":597,"compressionApplied":false}]
[2025-11-04T15:04:33.914Z] [INFO] [ErrorHandler] Error decision [{"stepId":"step-2","decision":"adapt","reason":"The error indicates that the facilityId parameter is missing or in the wrong format. We should use a lookup tool to get the facility ID first before calling list_contaminants."}]
[2025-11-04T15:04:33.914Z] [INFO] [ExecutionEngine] Adaptation suggested [{"adaptation":{"stepId":"2","originalAction":"list_contaminants","adaptedAction":"list_facilities","reason":"Need to look up the facility ID before filtering contaminants"}}]
[2025-11-04T15:04:33.921Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T15:04:33.922Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T15:04:33.922Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T15:04:33.923Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":11232,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T15:04:33.924Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":11232}]
[2025-11-04T15:04:41.040Z] [ERROR] [Coordinator] Failed to analyze coordination [{"stepId":"step-5","error":"LLM call failed: 500 - {\"error\":\"Failed after 3 attempts. Last error: This request would exceed your organization's (02b85921-3b2f-4630-94ed-c5b150d15049) maximum usage increase rate for input tokens per minute. Your current limit is 50,000 input tokens per minute, and will increase to 120,000 at the next minute boundary. Please scale up your input tokens usage more gradually to stay within the acceleration limit. For details, refer to: https://docs.claude.com/en/api/rate-limits.\",\"type\":\"RetryError\"}"}]
[2025-11-04T15:04:41.041Z] [WARN] [StepExecutor] Placeholder values detected in parameters before execution [{"stepId":"step-5","stepOrder":5,"parameters":{"facilityId":"EXTRACT_FROM_STEP_1","includeRecommendations":true}}]
[2025-11-04T15:04:41.048Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T15:04:41.049Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T15:04:41.050Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T15:04:41.050Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":878,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T15:04:41.050Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":878}]
[2025-11-04T15:04:44.344Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":1272,"compressionApplied":false}]
[2025-11-04T15:04:44.346Z] [DEBUG] [PlanValidator] Validation result [{"isValid":false,"progress":0.5,"shouldContinue":false,"shouldAdapt":true}]
[2025-11-04T15:04:44.346Z] [DEBUG] [ExecutionEngine] Meta-reasoning checkpoint [{"stepId":"step-5","isValid":false,"progress":0.5,"shouldContinue":false,"shouldAdapt":true}]
[2025-11-04T15:04:44.347Z] [INFO] [ExecutionEngine] Plan adaptation needed [{"reasoning":"The plan is not valid at this point, as we have encountered errors in executing steps 2 and 5 due to missing required parameters. The partial results indicate that we are unable to list contaminants for the Hannover facility, which is the core of the original goal. While we have made 50% progress, the current approach is not working, and we are not on track to achieve the goal. We should adapt the plan by addressing the root cause of the errors, which appears to be missing facility ID, and then replan the remaining steps to ensure we can successfully analyze the high explosive contaminants for the Hannover facility."}]
[2025-11-04T15:04:44.353Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T15:04:44.354Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T15:04:44.354Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T15:04:44.355Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":7682,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T15:04:44.355Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":7682}]
[2025-11-04T15:04:51.276Z] [ERROR] [ErrorHandler] Failed to get error decision [{"error":"LLM call failed: 500 - {\"error\":\"Failed after 3 attempts. Last error: This request would exceed your organization's (02b85921-3b2f-4630-94ed-c5b150d15049) maximum usage increase rate for input tokens per minute. Your current limit is 50,000 input tokens per minute, and will increase to 120,000 at the next minute boundary. Please scale up your input tokens usage more gradually to stay within the acceleration limit. For details, refer to: https://docs.claude.com/en/api/rate-limits.\",\"type\":\"RetryError\"}"}]
[2025-11-04T15:04:51.284Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T15:04:51.285Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T15:04:51.285Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T15:04:51.288Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":7364,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T15:04:51.289Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":7364}]
[2025-11-04T15:04:58.169Z] [ERROR] [QuestionGenerator] Failed to generate question [{"error":"LLM call failed: 500 - {\"error\":\"Failed after 3 attempts. Last error: This request would exceed your organization's (02b85921-3b2f-4630-94ed-c5b150d15049) maximum usage increase rate for input tokens per minute. Your current limit is 50,000 input tokens per minute, and will increase to 120,000 at the next minute boundary. Please scale up your input tokens usage more gradually to stay within the acceleration limit. For details, refer to: https://docs.claude.com/en/api/rate-limits.\",\"type\":\"RetryError\"}"}]
[2025-11-04T15:04:58.176Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T15:04:58.176Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T15:04:58.176Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T15:04:58.181Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":11199,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T15:04:58.181Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":11199}]
[2025-11-04T15:05:04.642Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":987,"compressionApplied":false}]
[2025-11-04T15:05:04.643Z] [DEBUG] [Coordinator] Coordination analysis [{"stepId":"step-3","needsCoordination":true,"recommendation":"adapt"}]
[2025-11-04T15:05:04.644Z] [WARN] [Coordinator] Placeholder values remain after extraction attempt [{"stepId":"step-3","remainingPlaceholders":["id"],"extractionAttempts":[]}]
[2025-11-04T15:05:04.645Z] [DEBUG] [Coordinator] Programmatic fallback check [{"stepId":"step-3","remainingPlaceholders":["id"],"paramName":"id","previousResultsKeys":["step-1"],"isPrompt":false}]
[2025-11-04T15:05:04.646Z] [DEBUG] [Coordinator] Programmatic ID extraction attempt [{"stepId":"step-3","paramName":"id","placeholderValue":"EXTRACT_FROM_STEP_2","targetStepRef":"step-2","availableSteps":["step-1"]}]
[2025-11-04T15:05:04.658Z] [DEBUG] [Coordinator] MCP validation passed [{"stepId":"step-3","providedParams":["id"]}]
[2025-11-04T15:05:04.658Z] [WARN] [StepExecutor] Placeholder values remain after coordination - cannot execute [{"stepId":"step-3","stepOrder":3,"remainingPlaceholders":["id"]}]
[2025-11-04T15:05:04.665Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T15:05:04.666Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T15:05:04.666Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T15:05:04.667Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":968,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T15:05:04.667Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":968}]
[2025-11-04T15:05:06.854Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":1067,"compressionApplied":false}]
[2025-11-04T15:05:06.855Z] [DEBUG] [PlanValidator] Validation result [{"isValid":false,"progress":0.667,"shouldContinue":false,"shouldAdapt":true}]
[2025-11-04T15:05:06.856Z] [DEBUG] [ExecutionEngine] Meta-reasoning checkpoint [{"stepId":"step-3","isValid":false,"progress":0.667,"shouldContinue":false,"shouldAdapt":true}]
[2025-11-04T15:05:06.856Z] [INFO] [ExecutionEngine] Plan adaptation needed [{"reasoning":"The plan is not valid given the errors encountered. We are making progress towards the goal, but have encountered several issues executing the required steps. The current approach is not working, as we are unable to execute key steps due to missing or invalid parameters. We should adapt the plan to address the root causes of the errors, and potentially replan the overall approach to better achieve the goal."}]
[2025-11-04T15:05:06.860Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T15:05:06.863Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T15:05:06.863Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T15:05:06.864Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":7682,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T15:05:06.864Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":7682}]
[2025-11-04T15:05:09.518Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":1030,"compressionApplied":false}]
[2025-11-04T15:05:09.519Z] [INFO] [ErrorHandler] Error decision [{"stepId":"step-3","decision":"adapt","reason":"The error indicates that the 'id' parameter is missing or in the wrong format. We should try to look up the contaminant ID first using the list_contaminants tool before attempting to get the details."}]
[2025-11-04T15:05:09.520Z] [INFO] [ExecutionEngine] Adaptation suggested [{"adaptation":{"stepId":"3","originalAction":"get_contaminant","adaptedAction":"list_contaminants","reason":"Need to look up the contaminant ID first before calling get_contaminant"}}]
[2025-11-04T15:05:09.525Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T15:05:09.525Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T15:05:09.526Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T15:05:09.529Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":11219,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T15:05:09.529Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":11219}]
[2025-11-04T15:05:12.277Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":908,"compressionApplied":false}]
[2025-11-04T15:05:12.278Z] [DEBUG] [Coordinator] Coordination analysis [{"stepId":"step-4","needsCoordination":true,"recommendation":"adapt"}]
[2025-11-04T15:05:12.279Z] [WARN] [Coordinator] Placeholder values remain after extraction attempt [{"stepId":"step-4","remainingPlaceholders":["shipmentId"],"extractionAttempts":[]}]
[2025-11-04T15:05:12.279Z] [DEBUG] [Coordinator] Programmatic fallback check [{"stepId":"step-4","remainingPlaceholders":["shipmentId"],"paramName":"shipmentId","previousResultsKeys":["step-1"],"isPrompt":false}]
[2025-11-04T15:05:12.280Z] [DEBUG] [Coordinator] Programmatic ID extraction attempt [{"stepId":"step-4","paramName":"shipmentId","placeholderValue":"EXTRACT_FROM_STEP_3","targetStepRef":"step-3","availableSteps":["step-1"]}]
[2025-11-04T15:05:12.292Z] [DEBUG] [Coordinator] MCP validation passed [{"stepId":"step-4","providedParams":["shipmentId"]}]
[2025-11-04T15:05:12.292Z] [WARN] [StepExecutor] Placeholder values remain after coordination - cannot execute [{"stepId":"step-4","stepOrder":4,"remainingPlaceholders":["shipmentId"]}]
[2025-11-04T15:05:12.299Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T15:05:12.300Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T15:05:12.300Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T15:05:12.301Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":1015,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T15:05:12.301Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":1015}]
[2025-11-04T15:05:14.375Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":1169,"compressionApplied":false}]
[2025-11-04T15:05:14.376Z] [DEBUG] [PlanValidator] Validation result [{"isValid":false,"progress":0.833,"shouldContinue":false,"shouldAdapt":false}]
[2025-11-04T15:05:14.377Z] [DEBUG] [ExecutionEngine] Meta-reasoning checkpoint [{"stepId":"step-4","isValid":false,"progress":0.833,"shouldContinue":false,"shouldAdapt":false}]
[2025-11-04T15:05:14.377Z] [INFO] [ExecutionEngine] Plan adaptation needed [{"reasoning":"The plan is no longer valid based on the errors encountered. Several required parameters are still missing values, preventing successful execution of key steps. While progress has been made, the goal of analyzing high explosive contaminants for the Hannover facility has not been achieved. The current approach is not working, as evidenced by the repeated errors. At this point, it would be best to replan the approach rather than continue or adapt the existing plan."}]
[2025-11-04T15:05:14.379Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T15:05:14.379Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T15:05:14.379Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T15:05:14.380Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":7685,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T15:05:14.380Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":7685}]
[2025-11-04T15:05:21.293Z] [ERROR] [ErrorHandler] Failed to get error decision [{"error":"LLM call failed: 500 - {\"error\":\"Failed after 3 attempts. Last error: This request would exceed your organization's (02b85921-3b2f-4630-94ed-c5b150d15049) maximum usage increase rate for input tokens per minute. Your current limit is 50,000 input tokens per minute, and will increase to 120,000 at the next minute boundary. Please scale up your input tokens usage more gradually to stay within the acceleration limit. For details, refer to: https://docs.claude.com/en/api/rate-limits.\",\"type\":\"RetryError\"}"}]
[2025-11-04T15:05:21.298Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T15:05:21.299Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T15:05:21.299Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T15:05:21.301Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":7370,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T15:05:21.301Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":7370}]
[2025-11-04T15:05:28.247Z] [ERROR] [QuestionGenerator] Failed to generate question [{"error":"LLM call failed: 500 - {\"error\":\"Failed after 3 attempts. Last error: This request would exceed your organization's (02b85921-3b2f-4630-94ed-c5b150d15049) maximum usage increase rate for input tokens per minute. Your current limit is 50,000 input tokens per minute, and will increase to 120,000 at the next minute boundary. Please scale up your input tokens usage more gradually to stay within the acceleration limit. For details, refer to: https://docs.claude.com/en/api/rate-limits.\",\"type\":\"RetryError\"}"}]
[2025-11-04T15:05:28.255Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T15:05:28.256Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T15:05:28.256Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T15:05:28.258Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":11124,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T15:05:28.258Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":11124}]
[2025-11-04T15:05:35.050Z] [ERROR] [Coordinator] Failed to analyze coordination [{"stepId":"step-6","error":"LLM call failed: 500 - {\"error\":\"Failed after 3 attempts. Last error: This request would exceed your organization's (02b85921-3b2f-4630-94ed-c5b150d15049) maximum usage increase rate for input tokens per minute. Your current limit is 50,000 input tokens per minute, and will increase to 120,000 at the next minute boundary. Please scale up your input tokens usage more gradually to stay within the acceleration limit. For details, refer to: https://docs.claude.com/en/api/rate-limits.\",\"type\":\"RetryError\"}"}]
[2025-11-04T15:05:35.073Z] [INFO] [StepExecutor] Step executed successfully [{"stepId":"step-6","stepOrder":6,"duration":6825,"retries":0}]
[2025-11-04T15:05:35.076Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T15:05:35.076Z] [INFO] Resolved API config for agent 'executor-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T15:05:35.077Z] [INFO] [BaseAgent] Initialized agent 'executor-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T15:05:35.077Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"executor-agent","originalTokenCount":1005,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T15:05:35.077Z] [DEBUG] [BaseAgent] Calling LLM for agent 'executor-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"responseFormat":"json_object","compressionApplied":false,"finalTokenCount":1005}]
[2025-11-04T15:05:37.358Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"executor-agent","responseLength":1049,"compressionApplied":false}]
[2025-11-04T15:05:37.359Z] [DEBUG] [PlanValidator] Validation result [{"isValid":false,"progress":0.6,"shouldContinue":false,"shouldAdapt":false}]
[2025-11-04T15:05:37.359Z] [DEBUG] [ExecutionEngine] Meta-reasoning checkpoint [{"stepId":"step-6","isValid":false,"progress":0.6,"shouldContinue":false,"shouldAdapt":false}]
[2025-11-04T15:05:37.360Z] [INFO] [ExecutionEngine] Plan adaptation needed [{"reasoning":"The plan is not valid given the errors encountered. While we have made progress (60%) towards the goal of analyzing high explosive contaminants for the Hannover facility, the current approach is not working as we are unable to execute several required steps due to missing parameters. The errors indicate that the plan needs to be replanned to address the underlying issues."}]
[2025-11-04T15:05:37.380Z] [INFO] [Executor Agent API] Saved execution version 1 [{"requestId":"demo-1762264399313-5bw4cn"}]
[2025-11-04T15:05:37.385Z] [INFO] [Executor Agent API] Execution completed [{"requestId":"demo-1762264399313-5bw4cn","overallSuccess":false,"stepsExecuted":6,"stepsSucceeded":2,"questionsAsked":0,"requiresFeedback":false}]
[2025-11-04T15:05:38.031Z] [INFO] [Executor Agent Versions API] Retrieved 1 versions [{"requestId":"demo-1762264399313-5bw4cn","versions":1}]
[2025-11-04T15:05:47.257Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T15:05:47.257Z] [INFO] Resolved API config for agent 'summary-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T15:05:47.257Z] [INFO] [BaseAgent] Initialized agent 'summary-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T15:05:47.258Z] [INFO] [Summary Agent API] Generating summary [{"requestId":"demo-1762264399313-5bw4cn","hasThoughts":true,"hasExecution":true}]
[2025-11-04T15:05:47.258Z] [DEBUG] [SummaryAgent] Generating summary [{"requestId":"demo-1762264399313-5bw4cn","thoughtsCount":1,"executionStepsCount":6,"executionSuccess":false}]
[2025-11-04T15:05:47.259Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"summary-agent","originalTokenCount":2962,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T15:05:47.259Z] [DEBUG] [BaseAgent] Calling LLM for agent 'summary-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":2962}]
[2025-11-04T15:05:50.362Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"summary-agent","responseLength":1800,"compressionApplied":false}]
[2025-11-04T15:05:50.364Z] [INFO] [SummaryAgent] Generated summary [{"requestId":"demo-1762264399313-5bw4cn","summaryLength":1800,"takeawaysCount":5}]
[2025-11-04T15:05:50.374Z] [INFO] [Summary Agent API] Saved summary version 1 [{"requestId":"demo-1762264399313-5bw4cn"}]
[2025-11-04T15:05:50.381Z] [INFO] [Summary Agent API] Summary generation completed [{"requestId":"demo-1762264399313-5bw4cn","summaryLength":1800,"takeawaysCount":5}]
[2025-11-04T15:09:59.451Z] [DEBUG] Using API key from agent config for 'anthropic'
[2025-11-04T15:09:59.451Z] [INFO] Resolved API config for agent 'thought-agent' [{"modelId":"claude-haiku","provider":"anthropic","actualModelName":"claude-3-haiku-20240307","hasParams":true}]
[2025-11-04T15:09:59.451Z] [INFO] [BaseAgent] Initialized agent 'thought-agent' [{"modelId":"claude-haiku","hasParams":true}]
[2025-11-04T15:09:59.453Z] [INFO] [Thought Agent API] Generating thoughts [{"requestId":"demo-1762264399313-5bw4cn","queryLength":57}]
[2025-11-04T15:09:59.458Z] [DEBUG] [ThoughtAgent] Fetched MCP context [{"toolsCount":28,"promptsCount":13}]
[2025-11-04T15:10:02.011Z] [DEBUG] [ThoughtAgent] Found similar examples [{"count":0,"similarities":[]}]
[2025-11-04T15:10:02.012Z] [DEBUG] [ThoughtAgent] Generating thought for query [{"requestId":"demo-1762264399313-5bw4cn","queryLength":57,"hasComplexityScore":false,"toolsCount":28,"similarExamplesCount":0}]
[2025-11-04T15:10:02.016Z] [DEBUG] [BaseAgent] Token count before compression [{"agentId":"thought-agent","originalTokenCount":4350,"tokenLimit":190000,"compressionThreshold":190000,"forceCompression":false,"isGroq":false,"modelId":"claude-3-haiku-20240307"}]
[2025-11-04T15:10:02.016Z] [DEBUG] [BaseAgent] Calling LLM for agent 'thought-agent' [{"modelId":"claude-3-haiku-20240307","originalModelId":"claude-haiku","messageCount":2,"compressionApplied":false,"finalTokenCount":4350}]
[2025-11-04T15:10:09.885Z] [DEBUG] [BaseAgent] LLM response received [{"agentId":"thought-agent","responseLength":3429,"compressionApplied":false}]
[2025-11-04T15:10:09.890Z] [INFO] [ThoughtAgent] Generated thought [{"requestId":"demo-1762264399313-5bw4cn","approaches":3,"confidence":"0.40","similarExamplesUsed":0}]
[2025-11-04T15:10:09.902Z] [INFO] [Thought Agent API] Thought generation completed [{"requestId":"demo-1762264399313-5bw4cn","thoughtsCount":1}]
